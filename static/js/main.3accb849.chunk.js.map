{"version":3,"sources":["assets/theme.ts","assets/Logo.tsx","shared/Layout.tsx","shared/types.ts","connect/rLogin.ts","connect/useConnector.ts","connect/NetworkLabel.tsx","schedule/StatusLabel.tsx","shared/hyphensAndCamelCaseToWords.ts","shared/shortText.ts","sdk-hooks/useTransactions.ts","shared/formatters.ts","shared/environment.ts","sdk-hooks/useProviders.ts","shared/reduceExecutionsLeft.ts","shared/localbasePersist.ts","contracts/useContracts.ts","shared/getExecutionResult.ts","schedule/History.tsx","sdk-hooks/useExecutions.ts","sdk-hooks/useExecution.ts","schedule/ExecutionButton.tsx","schedule/ExecutionInfo.tsx","shared/useDelayMount.ts","shared/LoadingCircle.tsx","schedule/cronParser/enums.ts","schedule/ColorSelector.tsx","shared/ButtonWIthLoading.tsx","schedule/ScheduleFormDialog.tsx","shared/NumberInput.tsx","schedule/cronParser/descriptions.ts","schedule/cronParser/convertToCronExpression.ts","schedule/CronButton.tsx","store/Plan.tsx","sdk-hooks/usePlans.ts","sdk-hooks/usePlan.ts","store/StatusLabel.tsx","store/PlanButton.tsx","shared/useAdmin.ts","home/TasksProgress.tsx","schedule/PurchaseWhileScheduleButton.tsx","schedule/validateBeforeSchedule.tsx","shared/useField.ts","schedule/ScheduleForm.tsx","schedule/Schedule.tsx","store/Loading.tsx","shared/DecimalsInput.tsx","store/AddEditPlan.tsx","store/PlansList.tsx","store/Store.tsx","contracts/AddEditContract.tsx","contracts/StoragePersistAlert.tsx","assets/illustrations/contractBolt.svg","contracts/Contracts.tsx","shared/Loading.tsx","assets/illustrations/lock.svg","connect/Connect.tsx","connect/Account.tsx","assets/illustrations/UnsupportedNetwork.tsx","connect/UnsupportedNetworkAlert.tsx","home/Contracts.tsx","sdk-hooks/getExecutionsLeftTotal.ts","home/Executions.tsx","home/Schedule.tsx","home/ScheduleHistory.tsx","home/Home.tsx","sdk-hooks/useConfirmationsNotifier.ts","App.tsx","index.tsx"],"names":["theme","createMuiTheme","palette","primary","overrides","MuiCssBaseline","body","background","MuiCard","root","borderRadius","props","elevation","Logo","ESection","viewBox","fill","xmlns","d","useStyles","makeStyles","createStyles","flexGrow","menuButton","marginRight","spacing","logo","height","display","hideMenu","title","marginTop","marginLeft","navButtons","flex","justifyContent","gap","navButton","padding","minWidth","paddingTop","fontSize","navLabel","toolbar","width","maxWidth","paddingLeft","appBar","alignItems","backgroundColor","boxShadow","scrolled","setBehind","zIndex","ENetwork","menuIndexes","Home","Schedule","Store","Contracts","Account","Layout","children","location","useLocation","useScrollTrigger","disableHysteresis","threshold","classes","AppBar","position","className","Toolbar","Typography","variant","color","BottomNavigation","showLabels","value","pathname","style","BottomNavigationAction","label","icon","component","Link","to","flexDirection","paddingBottom","rLogin","createRLogin","rskTestnetRpcUrl","isRLoginConnected","localStorage","getItem","SupportedNetworks","RSKMainnet","RSKTestnet","NetworkName","NotSupported","NetworkExplorer","getExplorerTxLink","hash","network","explorerUrl","URL","toString","ExecutionStateDescriptions","EExecutionState","NotScheduled","Scheduled","ExecutionSuccessful","ExecutionFailed","Overdue","Refunded","Cancelled","useConnector","create","set","get","account","undefined","provider","signer","isLoading","isConnected","disconnect","a","clear","state","connect","rProvider","rDisconnect","Error","web3Provider","providers","Web3Provider","listAccounts","getSigner","getNetwork","removeAllListeners","chainId","handleConnectionChanges","includes","parseInt","on","accounts","info","error","console","NetworkLabel","connectedToNetwork","displayNetwork","Chip","size","border","StatusLabel","execution","isConfirmed","colorPrimary","hyphensAndCamelCaseToWords","str","arr","split","newStr","i","length","charAt","toUpperCase","slice","result","trim","replace","shortText","ETransactionStatus","address","substr","fromBigNumberToHms","secondsInput","days","div","divisor_for_hours","mod","hours","divisor_for_minutes","minutes","seconds","gt","toBigInt","formatBigNumber","price","decimals","bigNumber","BigNumber","decimalPlaces","toFormat","environment","SCHEDULER_PROVIDERS_TESTNET","process","SCHEDULER_PROVIDERS_MAINNET","CONFIRMATIONS","ER677_TOKENS_TESTNET","ER677_TOKENS_MAINNET","MINIMUM_TIME_BEFORE_EXECUTION","useProvidersStore","setProviders","useProvidersLoader","useEffect","map","index","config","contractAddress","providerOrSigner","supportedERC677Tokens","createProviderSnapshot","BIG_ZERO","from","executionsLeft","accumulatedPlans","currentPlan","add","remainingExecutions","localbaseStorage","name","db","Localbase","debug","collection","doc","data","JSON","stringify","setItem","parse","localbasePersist","storeName","blacklist","getStorage","useContracts","persist","contracts","save","contract","id","getExecutedTransaction","scheduledTxHash","window","plan","toNumber","getState","blocksProcessed","addProcess","initialBlock","offset","processing","push","getEventIfExist","executeAt","Date","getTransaction","scheduledTx","scheduledBlockNumber","blockNumber","getBlockNumber","lastBlockNumber","getBlocksRateByMinute","blocksRate","scheduledDate","fromDate","blockNumberExecuteAtMid","getEstimatedBlockNumber","blockNumberExecuteAtLow","subSeconds","blockNumberExecuteAtUpper","addSeconds","lowWindowBlock","Math","trunc","max","upperWindowBlock","min","midBlockNumber","foundedEvent","counter","running","Promise","all","runResult","find","x","fromBlockNumber","toBlockNumber","getBlock","fromBlock","toBlock","timestamp","toDate","diffInMinutes","differenceInMinutes","date","initialBlockNumber","abi","eventInterface","utils","Interface","rifSchedulerContract","Contract","executeId","getId","filterByExecutionId","filters","Executed","filterTopics","topics","getBlockWithTransactions","searchingBlock","filteredTxs","transactions","filter","toLowerCase","tx","getTransactionReceipt","receipt","log","logs","areEquals","parseLog","args","event","txHash","a1","a2","every","EHistoryOption","useTransactionsStore","register","key","changeStatus","status","errorMessage","transactionToChange","useTransactions","shallow","registerIntoStore","useMemo","Idle","Waiting","useCallback","confirmMessage","failMessage","startedAt","toISOString","useIndexedExecutionsStore","indexedExecutions","setIndexedExecutions","executions","current","getExecutionKey","executeAtISO","useExecutionsStore","setExecution","useExecutions","registerTxWithKey","store","getExecution","contractId","providerAddress","scheduler","RIFScheduler","getPlan","providerPlanIndex","encodedFunctionCall","ABI","encodeFunctionData","contractMethod","contractFields","Execution","parseISO","requestor","loadExecutions","Object","values","createExecutionSnapshot","executionSnapshot","schedule","isRecurrent","fromCronExpression","cronExpression","quantity","scheduleMany","scheduleKey","getExecutionScheduleKey","ref","scheduleHash","useExecution","useState","setIsConfirmed","pendingScheduleTransactions","pendingExecutionTransactions","registerTx","pendingTransactions","concat","refresh","then","snap","cancel","refund","locateResult","executedTransaction","contractInterface","parsedResult","decodeFunctionResult","join","completedTxHash","hasPendingTransactions","useRowStyles","part","row","borderLeft","borderBottom","ExecutionButton","item","onClick","enqueueSnackbar","useSnackbar","setIsLoading","handleUpdateStatusClick","message","getMessageFromCode","code","disabledRefresh","ListItem","button","ListItemText","secondary","formatDistanceToNow","addSuffix","paddingRight","Hidden","xsDown","Divider","orientation","flexItem","ListItemSecondaryAction","IconButton","edge","disabled","rowStyles","ExecutionInfo","useTheme","fullScreen","useMediaQuery","breakpoints","down","open","setOpen","scheduledTxExplorerAddressUrl","completedTxExplorerAddressUrl","handleCopy","textToCopy","navigator","clipboard","writeText","autoHideDuration","handleCancelClick","handleRefundClick","Dialog","fullWidth","onClose","DialogTitle","DialogContent","TableContainer","Paper","action","hover","Table","aria-label","TableBody","StyledTableRow","StrongTableCell","scope","RegularTableCell","align","target","href","rel","format","gasLimit","DialogActions","Button","withStyles","head","common","black","white","TableCell","fontWeight","TableRow","useDelayMount","delay","mounted","setMounted","useLayoutEffect","delayedMount","setTimeout","clearTimeout","useCircleStyles","bottom","grey","type","top","animationDuration","left","circle","strokeLinecap","CustomCircularProgress","CircularProgress","thickness","disableShrink","LoadingCircle","memo","loadingResult","ECronArrayDefinition","ECronFieldOption","EMonths","EMidday","EWeekDay","defaultDate","getFullYear","getMonth","getDate","PAGE_SIZE","History","page","setPage","refDate","setRefDate","option","Month","Year","defaultHistoryOption","historyOption","setHistoryOption","itemsGrouped","sort","firstItem","nextItem","compareAsc","reduce","prev","groupId","group","handleIncrement","inc","addMonths","addYears","handleClear","groupedEntries","entries","Card","borderTopLeftRadius","borderTopRightRadius","CardHeader","disableTypography","flexWrap","FormControl","hiddenLabel","Select","onChange","MenuItem","CardContent","items","List","subheader","ListSubheader","RedRadio","red","checked","Radio","TealRadio","teal","YellowRadio","yellow","LightBlueRadio","lightBlue","OrangeRadio","orange","ColorSelector","selectedValue","setSelectedValue","handleChange","textAlign","whiteSpace","inputProps","wrapper","margin","buttonProgress","blue","ButtonWithLoading","ScheduleFormDialog","alerts","onConfirm","currentAlerts","setCurrentAlerts","hasErrors","some","severity","handleRevalidate","splice","Alert","alert","actionLabel","actionLink","RouterLink","actionButton","NumberInput","inputRef","other","getInputRef","onValueChange","thousandSeparator","isNumericString","allowNegative","decimalScale","prefix","WEEK_LIST","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","WEEK_LABEL","MONTHS_LIST","January","February","March","April","May","June","July","August","September","October","November","December","MONTHS_LABEL","cronConverter","Cron","CRON_DEFAULT","DEFAULT_CRON_FIELD","Day","hour","minute","midday","AM","weekDays","months","monthDays","expression","description","cronstrue","verbose","convertToCronExpression","field","Custom","currentValueArray","Hour","PM","Minute","arrayFromWithStep","Array","keys","DayWeek","Week","weeksRepetitionStart","currentValue","acc","curVal","fromArray","array","step","EApprovalStatus","dialogPaper","CronButton","fields","setFields","cronFieldOptions","repetition","getCronFieldOptions","cronError","setCronError","handleClose","handleFieldChange","fieldName","newValue","cron","handleEveryIncrement","increment","handleMonthDaysChange","day","handleMonthsChange","month","scroll","paper","aria-labelledby","main","contrastText","minHeight","TextField","InputProps","inputComponent","startAdornment","InputAdornment","endAdornment","week","clickable","padStart","reverse","helperText","usePlansStore","plans","setPlan","usePlans","loadPlans","getPlans","createPlanSnapshot","forEach","isActive","getRemainingExecutions","token","symbol","tokenSymbol","tokenDecimals","tokenType","getType","TokenType","ERC20","pricePerExecution","usePlan","getPlanKey","verifyApproval","amount","mul","needsApproval","approve","purchase","purchasing","active","inactive","classStatus","PlanButton","useAdmin","isPaused","setIsPaused","isAdmin","setIsAdmin","Base","schedulerContract","serviceProvider","paused","addPlan","tokenAddress","cancelPlan","planIndex","removePlan","pauseUnpauseContract","pause","unpause","ETask","Plan","buyingExecutions","setBuyingExecutions","isNormalLoading","isCanceling","setIsCanceling","verify","approved","approvalStatus","setApprovalStatus","handleCancelPlan","wait","handleBuyingExecutionsIncrement","prevQuantity","handleBuyClick","executionsQuantity","approvalResult","verified","BigTableCell","PurchaseWhileSchedule","planIsActive","onRevalidate","isAlreadyConfirmed","useRef","eq","validateBeforeSchedule","validationInput","valueToTransfer","cronQuantity","cronFields","gte","PurchaseWhileScheduleButton","contractAction","myAccountAddress","estimateGas","estimatedGas","isInsidePlanGasLimit","minimumDate","executionsIds","useField","defaultValue","isRequired","setValue","setError","isArray","onBlur","validate","expectedLength","newError","borderBottomLeftRadius","borderBottomRightRadius","divider","ScheduleForm","setAlerts","cronFieldFocused","setCronFieldFocused","handleCronQuantityIncrement","contractActions","contractInputs","inputs","selectedProvider","validateForm","handleSchedule","isFormValid","selectedContract","handleScheduleAndSave","executeAtResult","DateFnsUtils","FormControlLabel","marginBottom","control","Switch","inputVariant","isValid","KeyboardButtonProps","CustomTooltip","onFocus","textOverflow","overflow","InputLabel","labelId","method","CardActions","DisplayPlansMenu","tooltip","Tooltip","BorderLinearProgress","bar","LinearProgress","Loading","DecimalsInput","tokenTypeDescription","ERC677","RBTC","AddEditPlan","tokenInfo","setTokenInfo","verifyToken","Token","handleSave","parseUnits","endIcon","autoFocus","expanderHeading","typography","pxToRem","expanderSecondaryHeading","text","expanderRoot","content","PlansList","expandedFixed","isPausing","setIsPausing","handlePauseUnpause","handlePlansLoad","expanded","setExpanded","Accordion","AccordionSummary","expandIcon","aria-controls","cursor","AccordionDetails","AddEditContract","hideButton","initialFields","multiline","rows","anonymous","indexed","internalType","outputs","stateMutability","StoragePersistAlert","isPersistStorageAvailable","storage","showAlert","setShowAlert","enableClicked","setEnableClicked","persisted","handleEnable","isPersisted","ContractButton","CardActionArea","contractSvg","backgroundPosition","backgroundSize","gutterBottom","editing","setEditing","networkContracts","gridTemplateColumns","gridAutoRows","gridGap","Connect","history","useHistory","handleConnect","ms","resolve","timeout","p","race","backgroundImage","lockSvg","backgroundRepeat","overflowEllipsis","ListItemIcon","smUp","UnsupportedNetwork","data-name","cx","cy","r","UnsupportedNetworkAlert","avatar","colors","blueGrey","rest","Grid","container","justify","Avatar","getExecutionsLeftTotal","total","remainingExecution","Executions","setExecutionsLeft","networkScheduledExecutions","ScheduleHistory","avatarReady","green","TASKS","link","linkLabel","TasksProgress","totalTasks","currentTask","ReadyToSchedule","lte","PurchaseExecutions","RegisterContracts","Box","mt","enqueuedTxs","useConfirmationsNotifier","onConfirmed","onCompleted","onFailed","waitForTransaction","catch","finally","confirmationsNotifier","Confirmed","_","Failed","Routes","exact","path","ConnectedRoute","Component","render","App","notistackRef","ThemeProvider","CssBaseline","maxSnack","anchorOrigin","vertical","horizontal","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3accb849.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\nimport primary from '@material-ui/core/colors/blue';\n\nconst theme = createMuiTheme({\n  palette: {\n    primary\n  },\n  overrides: {\n    MuiCssBaseline: {\n      \"@global\": {\n        body: {\n          background: '#faf9f9 !important',\n        },\n      },\n    },\n    MuiCard: {\n      root: {\n        borderRadius: 20,\n      }\n    }\n  },\n  props: {\n    MuiCard: {\n      elevation: 0\n    }\n  }\n});\n\nexport default theme","function Logo(props: any) {\n  return (\n    <svg\n      viewBox=\"0 0 464 306\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      {...props}\n    >\n      <path\n        d=\"M240.7 254.8V138.3l23.9-2.9 3.7 18.3c7.8-12.5 19.2-18.8 34-18.8 3.1 0 5.7.1 7.6.4l-.4 23.8c-2.9-.4-5.9-.7-9-.7-10.5 0-18.3 2.8-23.5 8.4-5.2 5.6-7.8 13.3-7.8 23.3v64.8h-28.5v-.1z\"\n        fill=\"#000\"\n      />\n      <path\n        d=\"M78.4 118.3V7.5S42.5 25.4 42.5 63.4s35.9 54.9 35.9 54.9z\"\n        fill=\"#008CFF\"\n      />\n      <path\n        d=\"M78.4 7.5s35.9 17.9 35.9 55.9-35.9 55-35.9 55V7.5z\"\n        fill=\"#0CBFE8\"\n      />\n      <path\n        d=\"M162.1 170.4l49.3-28s-17-11.4-33.9-1.8-15.4 29.8-15.4 29.8z\"\n        fill=\"#008CFF\"\n      />\n      <path\n        d=\"M211.4 142.4s1.1 20.5-15.8 30.1c-16.9 9.6-33.5-2-33.5-2l49.3-28.1z\"\n        fill=\"#0CBFE8\"\n      />\n      <path\n        d=\"M213.7 138c-.9-.5-21.7-11.4-39.2-1.3-14.1 8.1-16.9 24.4-17.4 31.2l-6.5 3.7c-3.2-3.2-7.7-5.2-12.6-5.2-4.8 0-9.2 1.9-12.4 5l-29.8-17.2c.3-1.4.5-2.8.5-4.3 0-8.2-5.5-15.1-13-17.3V122c8.7-5.6 36.2-25.8 36.2-58.1 0-37.3-37-60.6-38.6-61.6L78.3.7l-2.6 1.6c-1.6 1-38.6 24.3-38.6 61.6 0 32.2 27.5 52.5 36.2 58.1v10.6c-7.5 2.2-13 9.1-13 17.3 0 1.5.2 2.9.5 4.3L31 171.4c-3.2-3.1-7.6-5-12.4-5-9.9 0-18 8.1-18 18 0 8.2 5.5 15.1 13 17.3v35.7c-7.5 2.2-13 9.1-13 17.3 0 9.9 8.1 18 18 18 5.3 0 10-2.3 13.3-5.9l28.9 16.7c-.3 1.4-.5 2.8-.5 4.3 0 9.9 8.1 18 18 18s18-8.1 18-18c0-1.5-.2-2.9-.5-4.3l28.9-16.7c3.3 3.6 8 5.9 13.3 5.9 9.9 0 18-8.1 18-18 0-8.2-5.5-15.1-13-17.3v-35.7c7.5-2.2 13-9.1 13-17.3 0-1.4-.2-2.9-.5-4.2l6.5-3.7c3.8 1.8 11.3 4.7 19.8 4.7 5.2 0 10.7-1.1 16.1-4.2 17.5-10.1 18.5-33.6 18.5-34.6l.1-3.1-2.8-1.3zM143 190.8c-1.4 1.1-3.1 1.7-5 1.7-1 0-1.9-.2-2.8-.5-.8-.3-1.5-.7-2.1-1.2-1.6-1.2-2.7-3.1-3-5.2 0-.4-.1-.8-.1-1.2 0-.3 0-.7.1-1 .4-2.9 2.3-5.4 5-6.5.9-.4 1.9-.6 2.9-.6 1.1 0 2.2.2 3.1.6 2.9 1.2 4.9 4.1 4.9 7.4 0 .5 0 .9-.1 1.3-.3 2.2-1.3 3.9-2.9 5.2zm3.1 63.9c0 4.4-3.6 8-8 8-1.5 0-3-.4-4.2-1.2-2.3-1.4-3.8-3.9-3.8-6.8v-.2c0-.9.2-1.7.5-2.5.5-1.4 1.4-2.7 2.6-3.6 1-.8 2.2-1.4 3.6-1.6.4-.1.9-.1 1.4-.1 1.9 0 3.6.7 5 1.7 1.7 1.5 2.9 3.8 2.9 6.3zm-13-17.2c-2.4.7-4.7 1.9-6.6 3.5L96 223.4c.2-1.1.3-2.3.3-3.5 0-1.7-.3-3.4-.7-5l30-17.3c2.1 2 4.6 3.5 7.4 4.3v35.6h.1zm-54.7 58.3c-4 0-7.3-2.9-7.9-6.8-.1-.4-.1-.8-.1-1.2 0-3.4 2.1-6.2 5-7.4.9-.4 2-.6 3-.6 1.1 0 2.1.2 3 .6 2.9 1.2 5 4.1 5 7.4 0 .4 0 .8-.1 1.2-.6 3.9-3.9 6.8-7.9 6.8zm-17.6-72.4L30.3 241c-1.9-1.6-4.1-2.8-6.6-3.5v-35.7c2.9-.8 5.4-2.3 7.5-4.3l30 17.3c-.5 1.6-.7 3.3-.7 5.1-.1 1.1 0 2.3.3 3.5zm-34 31.3c0 2.9-1.5 5.4-3.8 6.8-1.2.8-2.7 1.2-4.2 1.2-4.4 0-8-3.6-8-8 0-2.5 1.2-4.8 3-6.3 1.4-1.1 3.1-1.7 5-1.7.5 0 .9 0 1.4.1 1.3.2 2.5.8 3.6 1.6 1.2.9 2.1 2.2 2.6 3.6.3.8.5 1.6.5 2.5-.1.1-.1.2-.1.2zm-16.1-70.2c0-4.4 3.6-8 8-8 1 0 2 .2 2.9.6 2.6 1 4.6 3.4 5 6.3.1.4.1.8.1 1.2 0 .4 0 .8-.1 1.2-.3 2.1-1.4 3.9-3 5.2-.6.5-1.3.9-2 1.1-.9.4-1.9.6-3 .6-1.9 0-3.6-.6-5-1.7-1.7-1.7-2.9-4-2.9-6.5zm62.7-40.8c1.4-1.1 3.1-1.7 5-1.7s3.6.7 5 1.7c1.6 1.3 2.7 3.1 3 5.1.1.4.1.8.1 1.2 0 2.5-1.2 4.8-3.1 6.3-.6.5-1.3.9-2 1.1-.9.4-1.9.6-3 .6-1 0-2-.2-3-.6-.7-.3-1.4-.7-2-1.1-1.9-1.5-3.1-3.7-3.1-6.3 0-.4 0-.8.1-1.2.3-2 1.4-3.8 3-5.1zm13 76.4c-.1 2.4-1.3 4.6-3 6-.4.3-.8.5-1.2.8-1.1.6-2.4 1-3.8 1-1.3 0-2.6-.3-3.7-.9-.4-.2-.9-.5-1.2-.8-1.8-1.4-3-3.6-3-6.1v-.2c0-.7.1-1.4.3-2.1.4-1.7 1.4-3.2 2.8-4.2.9-.7 1.9-1.2 3-1.5.6-.2 1.3-.3 2-.3s1.4.1 2.1.3c1.1.3 2 .8 2.9 1.4 1.3 1.1 2.3 2.5 2.7 4.1.2.7.3 1.4.3 2.2-.2.1-.2.2-.2.3zm34.2-40c-.3 1.4-.5 2.8-.5 4.3s.2 3 .6 4.5l-30.3 17.5c-2-1.8-4.3-3.1-7-3.9v-35.2c2.9-.8 5.4-2.3 7.5-4.3l29.7 17.1zm-73.5-116c0-26.4 23.3-45.6 31.2-51.3 8 5.7 31.2 24.8 31.2 51.3 0 22.1-16.4 38.2-26.3 45.8V68.1c0-2.8-2.2-5-5-5-2.7 0-5 2.2-5 5V110c-9.7-7.7-26.1-23.7-26.1-45.9zM65.9 163c2.1 2 4.6 3.5 7.5 4.3v35.2c-2.6.7-4.9 2-6.9 3.8l-30.3-17.5c.3-1.4.5-2.8.5-4.3s-.2-2.9-.5-4.3L65.9 163zm-29.5 94.9c.2-1 .3-2.1.3-3.1 0-1.9-.3-3.8-.9-5.5l29.6-17c2.2 2.3 4.9 4 8 4.9v33.4c-2.9.8-5.4 2.3-7.5 4.4l-29.5-17.1zm54.5 17c-2.1-2-4.6-3.5-7.5-4.4v-33.4c3.1-.9 5.9-2.6 8-4.9l29.5 17c-.6 1.7-.9 3.6-.9 5.5 0 1.1.1 2.1.3 3.1l-29.4 17.1zm102-106.4c-6.6 3.8-14.1 3.1-19.7 1.6l9.9-5.7c2.4-1.4 3.2-4.4 1.8-6.8-1.4-2.4-4.4-3.2-6.8-1.8l-9.9 5.7c1.5-5.6 4.6-12.4 11.2-16.2 9.5-5.5 21.2-2 26.6.1-.7 5.7-3.5 17.6-13.1 23.1zM330.5 108.6c0-9.7 5.4-14.6 16.2-14.6 10.8 0 16.2 4.9 16.2 14.6 0 4.6-1.4 8.2-4.1 10.8-2.7 2.6-6.8 3.9-12.2 3.9-10.7 0-16.1-4.9-16.1-14.7zm31.1 146.2h-29.8V136.9h29.8v117.9zM453.4 159.3h-25.8v95.5h-29.8v-95.5h-16.4v-14.4l16.4-8v-8c0-12.5 3.1-21.6 9.2-27.3 6.1-5.7 16-8.6 29.5-8.6 10.3 0 19.5 1.5 27.5 4.6l-7.6 21.9c-6-1.9-11.5-2.8-16.6-2.8-4.2 0-7.3 1.3-9.2 3.8-1.9 2.5-2.8 5.7-2.8 9.6v6.8h25.8v22.4h-.2z\"\n        fill=\"#000\"\n      />\n    </svg>\n  )\n}\n\nexport default Logo","import { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Logo from \"../assets/Logo\";\nimport { Link } from \"react-router-dom\";\nimport BottomNavigation from \"@material-ui/core/BottomNavigation\";\nimport BottomNavigationAction from \"@material-ui/core/BottomNavigationAction\";\n\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport ScheduleIcon from \"@material-ui/icons/EventAvailable\";\nimport StoreIcon from \"@material-ui/icons/Store\";\nimport ContractsIcon from \"@material-ui/icons/OfflineBolt\";\nimport AccountIcon from \"@material-ui/icons/AccountCircle\";\n\nimport HomeOutlinedIcon from \"@material-ui/icons/HomeOutlined\";\nimport ScheduleOutlinedIcon from \"@material-ui/icons/EventAvailableOutlined\";\nimport StoreOutlinedIcon from \"@material-ui/icons/StoreOutlined\";\nimport ContractsOutlinedIcon from \"@material-ui/icons/OfflineBoltOutlined\";\nimport AccountOutlinedIcon from \"@material-ui/icons/AccountCircleOutlined\";\n\nimport { useLocation } from \"react-router-dom\";\nimport useScrollTrigger from \"@material-ui/core/useScrollTrigger\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    logo: ({ hideMenu }: any) => ({\n      height: 32,\n      \"@media (max-width: 360px)\": {\n        display: hideMenu ? \"initial\" : \"none\",\n      },\n    }),\n    title: ({ hideMenu }: any) => ({\n      marginTop: 8,\n      marginLeft: 5,\n      flexGrow: 1,\n      \"@media (max-width: 500px)\": {\n        display: hideMenu ? \"initial\" : \"none\",\n      },\n    }),\n    navButtons: {\n      display: \"flex\",\n      flex: 1,\n      justifyContent: \"flex-end\",\n      gap: \"5px\",\n    },\n    navButton: {\n      padding: 0,\n      minWidth: 60,\n      paddingTop: \"0px !important\",\n      fontSize: \"0.75rem !important\",\n    },\n    navLabel: {\n      fontSize: \"0.75rem !important\",\n    },\n    toolbar: {\n      display: \"flex\",\n      flex: 1,\n      width: \"100%\",\n      maxWidth: 800,\n      padding: 0,\n      paddingLeft: 12,\n    },\n    appBar: ({ scrolled }) => ({\n      display: \"flex\",\n      flex: 1,\n      alignItems: \"center\",\n      backgroundColor: \"#faf9f9\",\n      padding: 0,\n      boxShadow: scrolled ? \"0px 5px 20px -5px rgb(0 0 0 / 25%)\" : \"none\",\n    }),\n    setBehind: {\n      zIndex: 1\n    }\n  })\n);\n\nenum ESection {\n  Home = 0,\n  Schedule = 1,\n  Store = 2,\n  Contracts = 3,\n  Account = 4,\n}\n\nconst menuIndexes: { [key: string]: number } = {\n  \"/\": ESection.Home,\n  \"/schedule\": ESection.Schedule,\n  \"/store\": ESection.Store,\n  \"/contracts\": ESection.Contracts,\n  \"/account\": ESection.Account,\n};\n\nconst Layout: React.FC<{ hideMenu?: boolean, setBehind?: boolean }> = ({ children, hideMenu, setBehind }) => {\n  const location = useLocation();\n  const scrolled = useScrollTrigger({\n    disableHysteresis: true,\n    threshold: 0,\n  });\n  const classes = useStyles({ hideMenu, scrolled });\n\n  return (\n    <>\n      <AppBar position=\"sticky\" className={classes.appBar + (setBehind ? ' '  + classes.setBehind : '')} elevation={0}>\n        <Toolbar className={classes.toolbar}>\n          <Logo className={classes.logo} />\n          <Typography\n            variant=\"h6\"\n            className={classes.title}\n            color=\"textPrimary\"\n          >\n            scheduler\n          </Typography>\n          {!hideMenu && (\n            <div className={classes.navButtons}>\n              <BottomNavigation\n                showLabels\n                value={menuIndexes[location.pathname]}\n                style={{ background: \"transparent\" }}\n              >\n                <BottomNavigationAction\n                  label=\"Home\"\n                  icon={\n                    menuIndexes[location.pathname] === ESection.Home ? (\n                      <HomeIcon />\n                    ) : (\n                      <HomeOutlinedIcon />\n                    )\n                  }\n                  component={Link}\n                  classes={{\n                    root: classes.navButton,\n                    label: classes.navLabel,\n                  }}\n                  to=\"/\"\n                />\n                <BottomNavigationAction\n                  label=\"Schedule\"\n                  icon={\n                    menuIndexes[location.pathname] === ESection.Schedule ? (\n                      <ScheduleIcon />\n                    ) : (\n                      <ScheduleOutlinedIcon />\n                    )\n                  }\n                  component={Link}\n                  classes={{\n                    root: classes.navButton,\n                    label: classes.navLabel,\n                  }}\n                  to=\"/schedule\"\n                />\n                <BottomNavigationAction\n                  label=\"Store\"\n                  icon={\n                    menuIndexes[location.pathname] === ESection.Store ? (\n                      <StoreIcon />\n                    ) : (\n                      <StoreOutlinedIcon />\n                    )\n                  }\n                  component={Link}\n                  classes={{\n                    root: classes.navButton,\n                    label: classes.navLabel,\n                  }}\n                  to=\"/store\"\n                />\n                <BottomNavigationAction\n                  label=\"Contracts\"\n                  icon={\n                    menuIndexes[location.pathname] === ESection.Contracts ? (\n                      <ContractsIcon />\n                    ) : (\n                      <ContractsOutlinedIcon />\n                    )\n                  }\n                  component={Link}\n                  classes={{\n                    root: classes.navButton,\n                    label: classes.navLabel,\n                  }}\n                  to=\"/contracts\"\n                />\n                <BottomNavigationAction\n                  label=\"Account\"\n                  icon={\n                    menuIndexes[location.pathname] === ESection.Account ? (\n                      <AccountIcon />\n                    ) : (\n                      <AccountOutlinedIcon />\n                    )\n                  }\n                  component={Link}\n                  classes={{\n                    root: classes.navButton,\n                    label: classes.navLabel,\n                  }}\n                  to=\"/account\"\n                />\n              </BottomNavigation>\n            </div>\n          )}\n        </Toolbar>\n      </AppBar>\n      <div\n        style={{\n          padding: 15,\n          display: \"flex\",\n          flex: 1,\n          alignItems: \"center\",\n          flexDirection: \"column\",\n          paddingBottom: 60,\n        }}\n      >\n        {children}\n      </div>\n    </>\n  );\n};\n\nexport default Layout;\n","import { EExecutionState } from \"@rsksmart/rif-scheduler-sdk\";\n\nexport enum ENetwork {\n  NotSupported = -1,\n  RSKMainnet = 30,\n  RSKTestnet = 31,\n}\n\nexport const SupportedNetworks = [ENetwork.RSKMainnet, ENetwork.RSKTestnet];\n\nexport const NetworkName = {\n  [ENetwork.NotSupported]: \"Unsupported network\",\n  [ENetwork.RSKMainnet]: \"RSK Mainnet\",\n  [ENetwork.RSKTestnet]: \"RSK Testnet\",\n};\n\nexport const NetworkExplorer = {\n  [ENetwork.NotSupported]: null,\n  [ENetwork.RSKMainnet]: \"https://explorer.rsk.co/\",\n  [ENetwork.RSKTestnet]: \"https://explorer.testnet.rsk.co/\",\n};\n\nexport const getExplorerTxLink = (hash: string, network: ENetwork) => {\n  const explorerUrl = NetworkExplorer[network];\n  if (!explorerUrl) return null;\n\n  return new URL(`/tx/${hash}`, explorerUrl).toString();\n};\n\nexport const ExecutionStateDescriptions = {\n  [EExecutionState.NotScheduled]: \"Not scheduled\",\n  [EExecutionState.Scheduled]: \"Scheduled\",\n  [EExecutionState.ExecutionSuccessful]: \"Successful\",\n  [EExecutionState.ExecutionFailed]: \"Failed\",\n  [EExecutionState.Overdue]: \"Overdue\",\n  [EExecutionState.Refunded]: \"Refunded\",\n  [EExecutionState.Cancelled]: \"Cancelled\",\n};\n","import { createRLogin, rskTestnetRpcUrl } from \"@rsksmart/rlogin-essentials\";\n\nexport const rLogin = createRLogin(rskTestnetRpcUrl)\n\nexport const isRLoginConnected = () => {\n  const result = localStorage.getItem(\"WEB3_CONNECT_CACHED_PROVIDER\")\n    ? true\n    : false;\n\n  return result;\n};\n","import create from \"zustand\";\nimport { providers, Signer } from \"ethers\";\nimport { isRLoginConnected } from \"./rLogin\";\nimport { ENetwork, SupportedNetworks } from \"../shared/types\";\n\nexport interface IUseConnector {\n  account: string | undefined;\n  provider: providers.Web3Provider | undefined;\n  signer: Signer | undefined;\n  isLoading: boolean;\n  network: ENetwork | undefined;\n  isConnected: boolean;\n  disconnect: () => Promise<void>;\n  connect: (rProvider: any, rDisconnect: any) => Promise<void>;\n}\n\nconst useConnector = create<IUseConnector>((set, get) => ({\n  account: undefined,\n  provider: undefined,\n  signer: undefined,\n  isLoading: isRLoginConnected(),\n  network: undefined,\n  isConnected: false,\n  disconnect: async () => {\n    localStorage.clear();\n    set((state) => ({\n      isConnected: false,\n      isLoading: false,\n    }));\n  },\n  connect: async (rProvider: any, rDisconnect: any) => {\n    try {\n      if (!rDisconnect) throw new Error(\"disconnect functions is empty\");\n\n      const web3Provider = new providers.Web3Provider(rProvider);\n      const [account] = await web3Provider.listAccounts();\n      const signer: Signer = web3Provider.getSigner(0);\n\n      const isConnected = account && signer ? true : false;\n\n      const network = await web3Provider.getNetwork();\n\n      set((state) => ({\n        account,\n        provider: web3Provider,\n        signer: signer,\n        disconnect: async () => {\n          localStorage.clear();\n          set((state) => ({\n            isConnected: false,\n            isLoading: false,\n          }));\n          rProvider.removeAllListeners();\n          rDisconnect();\n        },\n        isConnected: isConnected,\n        isLoading: false,\n        network: network.chainId as ENetwork,\n      }));\n\n      const handleConnectionChanges = async (\n        rProvider: any,\n        chainId: number\n      ) => {\n        if (!SupportedNetworks.includes(chainId)) {\n          set((state) => ({\n            network: parseInt(chainId.toString()) as ENetwork,\n            isLoading: true,\n          }));\n          return;\n        }\n\n        const web3Provider = new providers.Web3Provider(rProvider);\n        const [account] = await web3Provider.listAccounts();\n        const signer: Signer = web3Provider.getSigner(0);\n\n        const isConnected = account && signer ? true : false;\n\n        if (!isConnected) {\n          get().disconnect();\n          return;\n        }\n\n        set((state) => ({\n          network: parseInt(chainId.toString()) as ENetwork,\n          provider: web3Provider,\n          signer: signer,\n          account: account,\n          isConnected: isConnected,\n          isLoading: false,\n        }));\n      };\n\n      // Subscribe to accounts change\n      rProvider.on(\"accountsChanged\", (accounts: string[]) => {\n        handleConnectionChanges(rProvider, get().network as number);\n      });\n\n      // Subscribe to chainId change\n      rProvider.on(\"chainChanged\", (chainId: number) => {\n        handleConnectionChanges(rProvider, chainId);\n      });\n\n      // Subscribe to rProvider connection\n      rProvider.on(\"connect\", (info: { chainId: number }) => {\n        handleConnectionChanges(rProvider, info.chainId);\n      });\n\n      // Subscribe to rProvider disconnection\n      rProvider.on(\"disconnect\", (error: { code: number; message: string }) => {\n        get().disconnect();\n      });\n    } catch (error) {\n      console.error(\"connect error: \", error);\n      const disconnect = get().disconnect;\n      if (disconnect) disconnect();\n    }\n  },\n}));\n\nexport default useConnector;\n","import useConnector from \"./useConnector\"\nimport Chip from '@material-ui/core/Chip';\nimport { ENetwork, NetworkName } from \"../shared/types\";\n\n// By default shows the connected network\nconst NetworkLabel = ({ network }: { network?: ENetwork }) => {\n    const connectedToNetwork = useConnector(state => state.network)\n\n    const displayNetwork = network ? network : connectedToNetwork\n\n    let color = \"default\"\n\n    color = displayNetwork === ENetwork.RSKMainnet ? \"primary\" : color\n    color = displayNetwork === ENetwork.RSKTestnet ? \"secondary\" : color\n\n    const label = displayNetwork ? NetworkName[displayNetwork] : NetworkName[ENetwork.NotSupported]\n\n    return <Chip size=\"small\" color={color as any} label={label ?? NetworkName[ENetwork.NotSupported]} />\n}\n\nexport default NetworkLabel","import Chip from \"@material-ui/core/Chip\";\nimport { ExecutionStateDescriptions } from \"../shared/types\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { EExecutionState } from \"@rsksmart/rif-scheduler-sdk\";\nimport { IExecutionSnapshot } from \"../sdk-hooks/useExecution\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    [EExecutionState.NotScheduled]: {\n      color: \"#333\",\n      border: \"1px solid #f7e463\",\n      backgroundColor: \"#f7e463\",\n    },\n    [EExecutionState.Scheduled]: {\n      color: \"#333\",\n      border: \"1px solid #7cd992\",\n      backgroundColor: \"#7cd992\",\n    },\n    [EExecutionState.ExecutionSuccessful]: {\n      color: \"#333\",\n      border: \"1px solid #7cd992\",\n      backgroundColor: \"#7cd992\",\n    },\n    [EExecutionState.ExecutionFailed]: {\n      color: \"#fff\",\n      border: \"1px solid #eb6060\",\n      backgroundColor: \"#eb6060\",\n    },\n    [EExecutionState.Overdue]: {\n      color: \"#fff\",\n      border: \"1px solid #eb6060\",\n      backgroundColor: \"#eb6060\",\n    },\n    [EExecutionState.Cancelled]: {\n      color: \"#333\",\n      border: \"1px solid #a8a8a8\",\n      backgroundColor: \"#a8a8a8\",\n    },\n    [EExecutionState.Refunded]: {\n      color: \"#333\",\n      border: \"1px solid #a8a8a8\",\n      backgroundColor: \"#a8a8a8\",\n    },\n  })\n);\n\nconst StatusLabel: React.FC<{\n  execution: IExecutionSnapshot;\n  isLoading?: boolean;\n  isConfirmed?: boolean;\n}> = ({ execution, isLoading, isConfirmed }) => {\n  const classes = useStyles();\n\n  const state = execution.state ?? EExecutionState.NotScheduled;\n\n  const label = isLoading\n    ? \"...\"\n    : isConfirmed\n    ? ExecutionStateDescriptions[state]\n    : \"Waiting confirmation\";\n\n  return (\n    <Chip\n      size=\"small\"\n      color=\"primary\"\n      variant=\"default\"\n      label={label}\n      classes={{\n        colorPrimary:\n          classes[isConfirmed ? state : EExecutionState.NotScheduled],\n      }}\n    />\n  );\n};\n\nexport default StatusLabel;\n","const hyphensAndCamelCaseToWords = (str: string) => {\n  var arr = str.split(/[_-]/);\n  var newStr = \"\";\n  for (var i = 1; i < arr.length; i++) {\n    newStr += arr[i].charAt(0).toUpperCase() + arr[i].slice(1) + \" \";\n  }\n\n  const text = (arr[0] + newStr).trim();\n\n  const result = text.replace(/([A-Z])/g, \" $1\");\n  return result.charAt(0).toUpperCase() + result.slice(1);\n};\n\nexport default hyphensAndCamelCaseToWords;\n","function shortText(address?: string): string {\n  if (!address) return \"\";\n\n  return `${address.substr(0, 6)}...${address.substr(\n    address.length - 4,\n    address.length\n  )}`;\n}\n\nexport default shortText;\n","import { useCallback, useMemo } from \"react\";\nimport create from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport shallow from \"zustand/shallow\";\nimport useConnector from \"../connect/useConnector\";\nimport localbasePersist from \"../shared/localbasePersist\";\nimport { ENetwork } from \"../shared/types\";\n\nexport enum ETransactionStatus {\n  Idle,\n  Waiting,\n  Failed,\n  Confirmed,\n}\n\nexport interface ITransaction {\n  network: ENetwork;\n  hash: string;\n  status: ETransactionStatus;\n  confirmMessage: string;\n  failMessage: string;\n  startedAt: string;\n  errorMessage?: string;\n}\n\nexport interface IUseTransactionsStore {\n  transactions: {\n    [key: string]: ITransaction[];\n  };\n  register: (key: string, tx: ITransaction) => void;\n  changeStatus: (\n    key: string,\n    txHash: string,\n    status: ETransactionStatus,\n    errorMessage?: string\n  ) => void;\n}\n\nexport const useTransactionsStore = create<IUseTransactionsStore>(\n  persist(\n    (set, get) => ({\n      transactions: {},\n      register: (key: string, tx: ITransaction) => {\n        const result = (get().transactions[key] ?? []).filter(\n          (x) => x.hash !== tx.hash\n        );\n\n        set((state) => ({\n          transactions: {\n            ...state.transactions,\n            [key]: [...result, tx],\n          },\n        }));\n      },\n      changeStatus: (\n        key: string,\n        txHash: string,\n        status: ETransactionStatus,\n        errorMessage?: string\n      ) => {\n        let transactionToChange = (get().transactions[key] ?? []).find(\n          (x) => x.hash === txHash\n        );\n\n        if (transactionToChange) {\n          transactionToChange.status = status;\n          transactionToChange.errorMessage = errorMessage;\n\n          const result = (get().transactions[key] ?? []).filter(\n            (x) => x.hash !== txHash\n          );\n\n          set((state) => ({\n            transactions: {\n              ...state.transactions,\n              [key]: [...result, transactionToChange!],\n            },\n          }));\n        }\n      },\n    }),\n    localbasePersist(\"transactions\")\n  )\n);\n\nexport const useTransactions = (key: string) => {\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const [transactions, registerIntoStore] = useTransactionsStore(\n    (state) => [state.transactions, state.register],\n    shallow\n  );\n\n  const transactionsFilteredByKey = useMemo(\n    () => transactions[key] ?? [],\n    [key, transactions]\n  );\n\n  const pendingTransactions = transactionsFilteredByKey.filter((x) =>\n    [ETransactionStatus.Idle, ETransactionStatus.Waiting].includes(x.status)\n  );\n\n  const register = useCallback(\n    (txHash: string, confirmMessage: string, failMessage) => {\n      registerIntoStore(key, {\n        hash: txHash,\n        network: connectedToNetwork!,\n        status: ETransactionStatus.Idle,\n        confirmMessage,\n        failMessage,\n        startedAt: new Date().toISOString(),\n      });\n    },\n    [connectedToNetwork, key, registerIntoStore]\n  );\n\n  return [pendingTransactions, register] as const;\n};\n","import { BigNumber as EthBigNumber } from \"@ethersproject/bignumber\";\nimport BigNumber from \"bignumber.js\";\n\nexport const fromNumberToHms = (secondsInput: number) => {\n  const days = Math.floor(secondsInput / (60 * 60 * 24));\n\n  const divisor_for_hours = secondsInput % (60 * 60 * 24);\n\n  const hours = Math.floor(divisor_for_hours / (60 * 60));\n\n  const divisor_for_minutes = divisor_for_hours % (60 * 60);\n  const minutes = Math.floor(divisor_for_minutes / 60);\n\n  const divisor_for_seconds = divisor_for_minutes % 60;\n  const seconds = Math.ceil(divisor_for_seconds);\n\n  let result = \"\";\n  if (days > 0) result += `${days}d `;\n  if (hours > 0) result += `${hours}h `;\n  if (minutes > 0) result += `${minutes}m `;\n  if (seconds > 0) result += `${seconds}s `;\n\n  return result.trim();\n};\n\nexport const fromBigNumberToHms = (secondsInput: EthBigNumber) => {\n  const days = secondsInput.div(60 * 60 * 24);\n\n  const divisor_for_hours = secondsInput.mod(60 * 60 * 24);\n\n  const hours = divisor_for_hours.div(60 * 60);\n\n  const divisor_for_minutes = divisor_for_hours.mod(60 * 60);\n  const minutes = divisor_for_minutes.div(60);\n\n  const divisor_for_seconds = divisor_for_minutes.mod(60);\n  const seconds = divisor_for_seconds;\n\n  let result = \"\";\n  if (days.gt(0)) result += `${days.toBigInt().toString()}d `;\n  if (hours.gt(0)) result += `${hours.toBigInt().toString()}h `;\n  if (minutes.gt(0)) result += `${minutes.toBigInt().toString()}m `;\n  if (seconds.gt(0)) result += `${seconds.toBigInt().toString()}s `;\n\n  return result.trim();\n};\n\nexport const formatBigNumber = (price: EthBigNumber, decimals: number) => {\n  const bigNumber = new BigNumber(price.toString()).div(10 ** decimals);\n\n  if (bigNumber.decimalPlaces() > 0) {\n    return bigNumber.toFormat(5);\n  }\n\n  return bigNumber.toFormat();\n};\n","const environment = {\n  SCHEDULER_PROVIDERS_TESTNET: (\n    process.env.REACT_APP_SCHEDULER_PROVIDERS_TESTNET as string\n  ).split(\";\"),\n  SCHEDULER_PROVIDERS_MAINNET: (\n    process.env.REACT_APP_SCHEDULER_PROVIDERS_MAINNET as string\n  ).split(\";\"),\n  CONFIRMATIONS: parseInt(process.env.REACT_APP_CONFIRMATIONS as string),\n  ER677_TOKENS_TESTNET: (\n    process.env.REACT_APP_ER677_TOKENS_TESTNET as string\n  ).split(\";\"),\n  ER677_TOKENS_MAINNET: (\n    process.env.REACT_APP_ER677_TOKENS_MAINNET as string\n  ).split(\";\"),\n  MINIMUM_TIME_BEFORE_EXECUTION: parseInt(\n    process.env.REACT_APP_MINIMUM_TIME_BEFORE_EXECUTION as string\n  ),\n};\n\nexport default environment;\n","import { Config } from \"@rsksmart/rif-scheduler-sdk/dist/Base\";\nimport { Signer } from \"ethers\";\nimport { useEffect } from \"react\";\nimport create from \"zustand\";\nimport useConnector from \"../connect/useConnector\";\nimport environment from \"../shared/environment\";\nimport { ENetwork } from \"../shared/types\";\n\nexport interface IProviderSnapshot {\n  index: number;\n  network: ENetwork;\n  config: Config;\n}\n\nexport interface IUseProvidersStore {\n  providers: IProviderSnapshot[];\n  setProviders: (providers: IProviderSnapshot[]) => void;\n}\n\nexport const useProvidersStore = create<IUseProvidersStore>((set, get) => ({\n  providers: [],\n  setProviders: (providers: IProviderSnapshot[]) => {\n    set((state) => ({\n      providers,\n    }));\n  },\n}));\n\nexport const createProviderSnapshot = (\n  index: number,\n  address: string,\n  network: ENetwork,\n  signer: Signer\n): IProviderSnapshot => {\n  const supportedERC677Tokens =\n    network === ENetwork.RSKMainnet\n      ? environment.ER677_TOKENS_MAINNET\n      : environment.ER677_TOKENS_TESTNET;\n\n  return {\n    index,\n    network: network,\n    config: {\n      contractAddress: address,\n      providerOrSigner: signer as any,\n      supportedERC677Tokens,\n    },\n  };\n};\n\nexport const useProvidersLoader = () => {\n  const [isConnected, network, isLoading, signer] = useConnector((state) => [\n    state.isConnected,\n    state.network,\n    state.isLoading,\n    state.signer,\n  ]);\n\n  const setProviders = useProvidersStore((state) => state.setProviders);\n\n  useEffect(() => {\n    if (\n      !isConnected ||\n      isLoading ||\n      !signer ||\n      !network ||\n      network === ENetwork.NotSupported\n    ) {\n      return;\n    }\n\n    const providerAddresses =\n      network === ENetwork.RSKMainnet\n        ? environment.SCHEDULER_PROVIDERS_MAINNET\n        : environment.SCHEDULER_PROVIDERS_TESTNET;\n\n    const providers = providerAddresses.map((address, index) =>\n      createProviderSnapshot(index, address, network, signer)\n    );\n\n    setProviders(providers);\n  }, [isConnected, network, isLoading, signer, setProviders]);\n};\n","import { BigNumber } from \"ethers\";\nimport { IPlanSnapshot } from \"../sdk-hooks/usePlan\";\n\nexport const BIG_ZERO = BigNumber.from(0);\n\nexport const executionsLeft = (\n  accumulatedPlans: BigNumber | undefined,\n  currentPlan: IPlanSnapshot\n) => {\n  const accumulated = accumulatedPlans ?? BIG_ZERO;\n\n  return accumulated.add(currentPlan.remainingExecutions ?? BIG_ZERO);\n};\n","import Localbase from \"localbase\";\n\ntype StateStorage = {\n  getItem: (name: string) => string | null | Promise<string | null>;\n  setItem: (name: string, value: string) => void | Promise<void>;\n};\n\nconst localbaseStorage: StateStorage = {\n  async getItem(name: string) {\n    let db = new Localbase(\"db\");\n    db.config.debug = false;\n\n    const data = await db.collection(\"zustand\").doc(name).get();\n\n    return JSON.stringify(data);\n  },\n\n  async setItem(name: string, value: string) {\n    let db = new Localbase(\"db\");\n    db.config.debug = false;\n\n    const data = JSON.parse(value);\n\n    await db.collection(\"zustand\").doc(name).set(data);\n  },\n};\n\nconst localbasePersist = (storeName: string, blacklist?: any[]) => {\n  return {\n    name: storeName, // unique name\n    blacklist: blacklist,\n    getStorage: () => localbaseStorage,\n  };\n};\n\nexport default localbasePersist;\n","import create from \"zustand\";\nimport { persist } from \"zustand/middleware\";\nimport localbasePersist from \"../shared/localbasePersist\";\nimport { ENetwork } from \"../shared/types\";\n\nexport interface IContract {\n  id: string;\n  name: string;\n  network: ENetwork;\n  address: string;\n  ABI: string;\n}\n\nexport interface IUseContracts {\n  contracts: {\n    [id: string]: IContract;\n  };\n  save: (contract: IContract) => void;\n}\n\nconst useContracts = create<IUseContracts>(\n  persist(\n    (set, get) => ({\n      contracts: {},\n      save: (contract: IContract) =>\n        set((state) => ({\n          contracts: { ...state.contracts, [contract.id]: contract },\n        })),\n    }),\n    localbasePersist(\"contracts\")\n  )\n);\n\nexport default useContracts;\n","import { Contract, utils } from \"ethers\";\nimport { providers } from \"ethers\";\nimport { addSeconds, differenceInMinutes, subSeconds } from \"date-fns\";\nimport { EExecutionState, Execution } from \"@rsksmart/rif-scheduler-sdk\";\n\n// PROMISE_PARALLEL_NUMBER needs to be a multiple of 4,\n// because the getExecutedTransactions throws 4 threads simultaneously each iteration\nconst PROMISE_PARALLEL_NUMBER = 4 * 4;\n\nexport interface IExecutedEventInfo {\n  id: string;\n  result: string;\n  success: boolean;\n}\n\nexport interface IExecutedTransaction {\n  event: IExecutedEventInfo;\n  txHash: string;\n}\n\nconst getExecutedTransaction = async (\n  scheduledTxHash: string,\n  execution: Execution\n) => {\n  const provider = execution.provider as any;\n  const contractAddress = execution.config.contractAddress;\n  const window = execution.plan.window.toNumber();\n\n  const state = await execution.getState();\n\n  if (\n    ![\n      EExecutionState.ExecutionSuccessful,\n      EExecutionState.ExecutionFailed,\n    ].includes(state)\n  ) {\n    return null;\n  }\n\n  const blocksProcessed: number[] = [];\n  const addProcess = (initialBlock: number, offset: number) => {\n    const processing = initialBlock + offset;\n    if (!blocksProcessed.includes(processing)) {\n      blocksProcessed.push(processing);\n      return getEventIfExist(provider, processing, contractAddress, execution);\n    }\n  };\n\n  const executeAt = new Date(execution.executeAt);\n\n  const scheduledTx = await provider.getTransaction(scheduledTxHash);\n\n  const scheduledBlockNumber = scheduledTx.blockNumber!;\n  const lastBlockNumber = await provider.getBlockNumber();\n\n  const { blocksRate, fromDate: scheduledDate } = await getBlocksRateByMinute(\n    provider,\n    scheduledBlockNumber,\n    lastBlockNumber\n  );\n\n  const blockNumberExecuteAtMid = getEstimatedBlockNumber(\n    executeAt,\n    scheduledDate,\n    scheduledBlockNumber,\n    blocksRate\n  );\n  const blockNumberExecuteAtLow = getEstimatedBlockNumber(\n    subSeconds(executeAt, window),\n    scheduledDate,\n    scheduledBlockNumber,\n    blocksRate\n  );\n  const blockNumberExecuteAtUpper = getEstimatedBlockNumber(\n    addSeconds(executeAt, window),\n    scheduledDate,\n    scheduledBlockNumber,\n    blocksRate\n  );\n\n  const lowWindowBlock = Math.trunc(\n    Math.max(blockNumberExecuteAtLow, scheduledBlockNumber)\n  );\n  const upperWindowBlock = Math.trunc(\n    Math.min(blockNumberExecuteAtUpper, lastBlockNumber)\n  );\n  const midBlockNumber = Math.trunc(blockNumberExecuteAtMid);\n\n  let foundedEvent: IExecutedTransaction | null = null;\n  let counter = 0;\n  let running = [];\n  while (!foundedEvent) {\n    running.push(addProcess(lowWindowBlock, counter));\n\n    running.push(addProcess(midBlockNumber, -counter));\n\n    running.push(addProcess(midBlockNumber, counter));\n\n    running.push(addProcess(upperWindowBlock, -counter));\n\n    if (running.length === PROMISE_PARALLEL_NUMBER) {\n      const runResult = await Promise.all(running);\n\n      foundedEvent = runResult.find((x) => (x ? true : false)) ?? null;\n\n      running = [];\n    }\n\n    counter++;\n  }\n\n  return foundedEvent;\n};\n\nconst getBlocksRateByMinute = async (\n  provider: providers.Provider,\n  fromBlockNumber: number,\n  toBlockNumber: number\n) => {\n  const fromBlock = await provider.getBlock(fromBlockNumber);\n  const toBlock = await provider.getBlock(toBlockNumber);\n  const fromDate = new Date(+fromBlock.timestamp * 1000);\n  const toDate = new Date(+toBlock.timestamp * 1000);\n\n  const diffInMinutes = differenceInMinutes(toDate, fromDate);\n  const diffInBlocks = toBlockNumber - fromBlockNumber;\n  const blocksRate = diffInBlocks / diffInMinutes;\n\n  return { blocksRate, fromBlock, toBlock, fromDate, toDate };\n};\n\nconst getEstimatedBlockNumber = (\n  date: Date,\n  fromDate: Date,\n  initialBlockNumber: number,\n  blocksRate: number\n) => {\n  return initialBlockNumber + differenceInMinutes(date, fromDate) * blocksRate;\n};\n\nconst getEventIfExist = async (\n  provider: providers.Provider,\n  blockNumber: number,\n  contractAddress: string,\n  execution: Execution\n): Promise<IExecutedTransaction | null> => {\n  const abi = [\n    \"event Executed(bytes32 indexed id, bool success, bytes result)\",\n  ];\n  const eventInterface = new utils.Interface(abi);\n  const rifSchedulerContract = new Contract(contractAddress, abi, provider);\n\n  const executeId = execution.getId().substr(2);\n  const filterByExecutionId = rifSchedulerContract.filters.Executed(\n    execution.getId()\n  );\n  const filterTopics = filterByExecutionId.topics as string[];\n\n  const searchingBlock = await provider.getBlockWithTransactions(blockNumber);\n\n  const filteredTxs = searchingBlock.transactions.filter(\n    (x) =>\n      x.to?.toLowerCase() === contractAddress.toLowerCase() &&\n      x.data.includes(executeId!)\n  );\n\n  for (const tx of filteredTxs) {\n    const receipt = await provider.getTransactionReceipt(tx.hash);\n\n    const log = receipt.logs.find((x) => areEquals(x.topics, filterTopics));\n\n    if (log) {\n      const result: IExecutedEventInfo = eventInterface.parseLog(log)\n        .args as any;\n\n      return {\n        event: result,\n        txHash: tx.hash,\n      };\n    }\n  }\n\n  return null;\n};\n\nconst areEquals = (a1: string[], a2: string[]) =>\n  a1.length === a2.length && a1.every((value, index) => value === a2[index]);\n\nexport default getExecutedTransaction;\n","import { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport List from \"@material-ui/core/List\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport { format, compareAsc, addMonths, addYears } from \"date-fns\";\nimport NextIcon from \"@material-ui/icons/NavigateNext\";\nimport BeforeIcon from \"@material-ui/icons/NavigateBefore\";\nimport { useEffect, useState } from \"react\";\nimport useConnector from \"../connect/useConnector\";\nimport ExecutionInfo from \"./ExecutionInfo\";\nimport { useExecutions } from \"../sdk-hooks/useExecutions\";\nimport { IExecutionSnapshot } from \"../sdk-hooks/useExecution\";\nimport { useMemo } from \"react\";\nimport {\n  Button,\n  FormControl,\n  ListItem,\n  ListItemText,\n  MenuItem,\n  Select,\n  Typography,\n} from \"@material-ui/core\";\nimport LoadingCircle from \"../shared/LoadingCircle\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n      padding: 5,\n      gap: \"5px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n    },\n  })\n);\ninterface IGroupBy {\n  [group: string]: IExecutionSnapshot[];\n}\n\nenum EHistoryOption {\n  Month,\n  Year,\n  Schedule,\n}\n\nconst defaultDate = () =>\n  new Date(\n    new Date().getFullYear(),\n    new Date().getMonth(),\n    new Date().getDate()\n  );\n\nconst defaultHistoryOption = () => {\n  const option = JSON.parse(\n    localStorage.getItem(\"DEFAULT_HISTORY_OPTION\") ?? \"0\"\n  ) as EHistoryOption;\n  return [\n    EHistoryOption.Month,\n    EHistoryOption.Year,\n    EHistoryOption.Schedule,\n  ].includes(option)\n    ? option\n    : EHistoryOption.Month;\n};\n\nconst PAGE_SIZE = 20;\n\nconst History = () => {\n  const classes = useStyles();\n\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  const [page, setPage] = useState<number>(0);\n  const [refDate, setRefDate] = useState<Date>(defaultDate());\n\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const [historyOption, setHistoryOption] = useState<EHistoryOption>(\n    defaultHistoryOption()\n  );\n\n  const [executions, loadExecutions] = useExecutions();\n\n  useEffect(() => {\n    setIsLoading(true);\n    loadExecutions().then(() => setIsLoading(false));\n  }, [loadExecutions]);\n\n  const itemsGrouped: IGroupBy = useMemo(() => {\n    if (historyOption === EHistoryOption.Year) {\n      return executions\n        .filter(\n          (item) =>\n            item.index.network === connectedToNetwork &&\n            item.executeAt.getFullYear() === refDate.getFullYear()\n        )\n        .sort((firstItem, nextItem) =>\n          compareAsc(firstItem.executeAt, nextItem.executeAt)\n        )\n        .reduce((prev: any, item) => {\n          const groupId = format(item.executeAt, \"MMMM\");\n          const group = [...(prev[groupId] ?? []), item];\n\n          return { ...prev, [groupId]: group };\n        }, {});\n    }\n    if (historyOption === EHistoryOption.Month) {\n      return executions\n        .filter(\n          (item) =>\n            item.index.network === connectedToNetwork &&\n            item.executeAt.getFullYear() === refDate.getFullYear() &&\n            item.executeAt.getMonth() === refDate.getMonth()\n        )\n        .sort((firstItem, nextItem) =>\n          compareAsc(firstItem.executeAt, nextItem.executeAt)\n        )\n        .reduce((prev: any, item) => {\n          const groupId = format(item.executeAt, \"EEEE, do\");\n          const group = [...(prev[groupId] ?? []), item];\n\n          return { ...prev, [groupId]: group };\n        }, {});\n    }\n    if (historyOption === EHistoryOption.Schedule) {\n      return executions\n        .filter(\n          (item) =>\n            item.index.network === connectedToNetwork &&\n            item.executeAt >= refDate\n        )\n        .sort((firstItem, nextItem) =>\n          compareAsc(firstItem.executeAt, nextItem.executeAt)\n        )\n        .slice(page * PAGE_SIZE, (page + 1) * PAGE_SIZE)\n        .reduce((prev: any, item) => {\n          const groupId = \"Your schedule\";\n          const group = [...(prev[groupId] ?? []), item];\n\n          return { ...prev, [groupId]: group };\n        }, {});\n    }\n  }, [connectedToNetwork, executions, historyOption, page, refDate]);\n\n  const handleIncrement = (inc: number) => () => {\n    switch (historyOption) {\n      case EHistoryOption.Month:\n        setRefDate((prev) => addMonths(prev, inc));\n        break;\n      case EHistoryOption.Year:\n        setRefDate((prev) => addYears(prev, inc));\n        break;\n      case EHistoryOption.Schedule:\n        setPage((prev) => {\n          let result = prev + inc;\n\n          if ((result + 1) * PAGE_SIZE > executions.length) result = prev;\n\n          if (result <= 0) result = 0;\n\n          return result;\n        });\n        break;\n    }\n  };\n\n  const handleClear = () => {\n    setRefDate(defaultDate());\n    setPage(0);\n  };\n\n  const groupedEntries = Object.entries(itemsGrouped);\n\n  return (\n    <>\n      <Card style={{ borderTopLeftRadius: 0, borderTopRightRadius: 0 }}>\n        <CardHeader\n          disableTypography\n          title={\n            <div\n              style={{\n                display: \"flex\",\n                alignItems: \"center\",\n                gap: \"5px\",\n                flexWrap: \"wrap\",\n              }}\n            >\n              <div\n                style={{\n                  display: \"flex\",\n                  flex: 1,\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                  flexWrap: \"nowrap\",\n                }}\n              >\n                <Button variant=\"outlined\" onClick={handleClear}>\n                  Today\n                </Button>\n                <div style={{ width: 60 }}>\n                  <IconButton size=\"small\" onClick={handleIncrement(-1)}>\n                    <BeforeIcon />\n                  </IconButton>\n                  <IconButton size=\"small\" onClick={handleIncrement(1)}>\n                    <NextIcon />\n                  </IconButton>\n                </div>\n                {historyOption === EHistoryOption.Year && (\n                  <Typography variant=\"h6\">\n                    {format(refDate, \"yyyy\")}\n                  </Typography>\n                )}\n                {historyOption === EHistoryOption.Month && (\n                  <Typography variant=\"h6\">\n                    {format(refDate, \"MMM yyyy\")}\n                  </Typography>\n                )}\n                {historyOption === EHistoryOption.Schedule && (\n                  <Typography variant=\"h6\">{`${page * PAGE_SIZE + 1}-${\n                    (page + 1) * PAGE_SIZE > executions.length\n                      ? executions.length\n                      : (page + 1) * PAGE_SIZE\n                  } of ${executions.length}`}</Typography>\n                )}\n              </div>\n              <LoadingCircle isLoading={isLoading} />\n              <FormControl variant=\"outlined\" hiddenLabel size=\"small\">\n                <Select\n                  value={historyOption}\n                  onChange={(event) => {\n                    const option = event.target.value as EHistoryOption;\n\n                    setHistoryOption(option);\n                    handleClear();\n\n                    localStorage.setItem(\n                      \"DEFAULT_HISTORY_OPTION\",\n                      option.toString()\n                    );\n                  }}\n                >\n                  <MenuItem value={EHistoryOption.Month}>Month</MenuItem>\n                  <MenuItem value={EHistoryOption.Year}>Year</MenuItem>\n                  <MenuItem value={EHistoryOption.Schedule}>Schedule</MenuItem>\n                </Select>\n              </FormControl>\n            </div>\n          }\n        />\n        <CardContent style={{ padding: 0 }}>\n          {groupedEntries.map(([group, items], index) => (\n            <List\n              key={`history-group-${index}`}\n              subheader={<ListSubheader component=\"div\">{group}</ListSubheader>}\n              className={classes.root}\n            >\n              {items.map((item) => (\n                <ExecutionInfo\n                  key={`history-item-${item.id}`}\n                  execution={item}\n                />\n              ))}\n            </List>\n          ))}\n          {!isLoading && groupedEntries.length === 0 && (\n            <List key={`history-group-empty`} className={classes.root}>\n              <ListItem>\n                <ListItemText\n                  primary={\n                    \"There is nothing scheduled for the selected period.\"\n                  }\n                />\n              </ListItem>\n            </List>\n          )}\n        </CardContent>\n      </Card>\n    </>\n  );\n};\n\nexport default History;\n","import { Execution, RIFScheduler } from \"@rsksmart/rif-scheduler-sdk\";\nimport { useCallback } from \"react\";\nimport { useProvidersStore } from \"./useProviders\";\nimport shallow from \"zustand/shallow\";\nimport create from \"zustand\";\nimport useContracts from \"../contracts/useContracts\";\nimport { ContractTransaction, utils } from \"ethers\";\nimport { parseISO } from \"date-fns\";\nimport { persist } from \"zustand/middleware\";\nimport localbasePersist from \"../shared/localbasePersist\";\nimport {\n  createExecutionSnapshot,\n  getExecutionKey,\n  getExecutionScheduleKey,\n  IExecutionSnapshot,\n} from \"./useExecution\";\nimport useConnector from \"../connect/useConnector\";\nimport { ETransactionStatus, useTransactionsStore } from \"./useTransactions\";\nimport { ENetwork } from \"../shared/types\";\n\nexport interface IExecutionIndex {\n  id?: string;\n  title: string;\n  network: ENetwork;\n  contractId: string;\n  contractMethod: string;\n  contractFields: string[];\n  color: string;\n  executeAtISO: string;\n  providerAddress: string;\n  providerPlanIndex: string;\n  value: string;\n  requestor: string;\n  isRecurrent: boolean;\n  cronExpression?: string;\n  quantity?: string;\n  scheduledTxHash?: string;\n  completedTxHash?: string;\n  result?: string;\n}\n\nexport interface IUseIndexedExecutions {\n  indexedExecutions: {\n    [key: string]: IExecutionIndex;\n  };\n  setIndexedExecutions: (\n    txHash: string,\n    index: IExecutionIndex,\n    executions: Execution[]\n  ) => void;\n}\n\nexport const useIndexedExecutionsStore = create<IUseIndexedExecutions>(\n  persist(\n    (set, get) => ({\n      indexedExecutions: {},\n      setIndexedExecutions: (\n        txHash: string,\n        index: IExecutionIndex,\n        executions: Execution[]\n      ) => {\n        let result = get().indexedExecutions;\n\n        for (const current of executions) {\n          const key = getExecutionKey(current);\n\n          result = {\n            ...result,\n            [key]: {\n              ...index,\n              id: current.getId(),\n              scheduledTxHash: txHash,\n              executeAtISO: current.executeAt.toISOString(),\n            },\n          };\n        }\n        set((state) => ({\n          indexedExecutions: result,\n        }));\n      },\n    }),\n    localbasePersist(\"indexed-executions\")\n  )\n);\n\nexport interface IUseExecutionsStore {\n  executions: {\n    [key: string]: IExecutionSnapshot;\n  };\n  setExecution: (key: string, execution: IExecutionSnapshot) => void;\n}\n\nexport const useExecutionsStore = create<IUseExecutionsStore>((set, get) => ({\n  executions: {},\n  setExecution: (key: string, execution: IExecutionSnapshot) => {\n    set((state) => ({\n      executions: {\n        ...state.executions,\n        [key]: execution,\n      },\n    }));\n  },\n}));\n\nexport const useExecutions = () => {\n  const contracts = useContracts((state) => state.contracts);\n\n  const providers = useProvidersStore((state) => state.providers);\n\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const registerTxWithKey = useTransactionsStore((state) => state.register);\n\n  const [indexedExecutions, setIndexedExecutions] = useIndexedExecutionsStore(\n    (store) => [store.indexedExecutions, store.setIndexedExecutions],\n    shallow\n  );\n\n  const [executions, setExecution] = useExecutionsStore(\n    (store) => [store.executions, store.setExecution],\n    shallow\n  );\n\n  const getExecution = useCallback(\n    async (index: IExecutionIndex) => {\n      const contract = contracts[index.contractId];\n      const provider = providers.find(\n        (x) => x.config.contractAddress === index.providerAddress\n      );\n\n      if (!contract || !provider) {\n        return null;\n      }\n\n      const scheduler = new RIFScheduler(provider.config);\n\n      const plan = await scheduler.getPlan(index.providerPlanIndex);\n\n      const encodedFunctionCall = new utils.Interface(\n        contract.ABI\n      ).encodeFunctionData(index.contractMethod, index.contractFields);\n\n      return new Execution(\n        provider.config,\n        plan,\n        contract.address,\n        encodedFunctionCall,\n        parseISO(index.executeAtISO),\n        index.value,\n        index.requestor\n      );\n    },\n    [contracts, providers]\n  );\n\n  const loadExecutions = useCallback(async () => {\n    for (const index of Object.values(indexedExecutions)) {\n      const execution = await getExecution(index);\n\n      if (!execution) continue;\n\n      const executionSnapshot = await createExecutionSnapshot(execution, index);\n\n      const key = getExecutionKey(execution);\n\n      setExecution(key, executionSnapshot);\n    }\n  }, [getExecution, indexedExecutions, setExecution]);\n\n  const schedule = useCallback(\n    async (index: IExecutionIndex) => {\n      console.log(\"schedule index\", index);\n\n      const provider = providers.find(\n        (x) => x.config.contractAddress === index.providerAddress\n      );\n\n      if (!provider) throw new Error(\"Could not find the provider.\");\n\n      const scheduler = new RIFScheduler(provider.config);\n\n      const execution = await getExecution(index);\n\n      let tx: ContractTransaction;\n\n      if (!execution)\n        throw new Error(\n          \"Something went wrong, please check all your data and try again.\"\n        );\n\n      if (index.isRecurrent) {\n        const executions = Execution.fromCronExpression(\n          execution,\n          index.cronExpression!,\n          index.quantity!\n        );\n\n        console.log({\n          executions,\n          quantity: index.quantity,\n        });\n\n        tx = (await scheduler.scheduleMany(executions)) as any;\n\n        setIndexedExecutions(tx.hash, index, executions);\n      } else {\n        tx = (await scheduler.schedule(execution)) as any;\n\n        setIndexedExecutions(tx.hash, index, [execution]);\n      }\n\n      const scheduleKey = getExecutionScheduleKey(\n        index.providerAddress,\n        tx.hash\n      );\n\n      registerTxWithKey(scheduleKey, {\n        hash: tx.hash,\n        network: connectedToNetwork!,\n        status: ETransactionStatus.Idle,\n        confirmMessage: `Your \"${index.title}\" execution was confirmed!`,\n        failMessage: `Your \"${index.title}\" execution could not be confirmed.`,\n        startedAt: new Date().toISOString(),\n      });\n    },\n    [\n      connectedToNetwork,\n      getExecution,\n      providers,\n      registerTxWithKey,\n      setIndexedExecutions,\n    ]\n  );\n\n  return [Object.values(executions), loadExecutions, schedule] as const;\n};\n","import { EExecutionState, Execution } from \"@rsksmart/rif-scheduler-sdk\";\nimport { BigNumber, utils } from \"ethers\";\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport useContracts from \"../contracts/useContracts\";\nimport getExecutedTransaction from \"../shared/getExecutionResult\";\nimport { IExecutionIndex, useExecutionsStore } from \"./useExecutions\";\nimport { useTransactions } from \"./useTransactions\";\n\nexport interface IExecutionSnapshot {\n  index: IExecutionIndex;\n  id: string;\n  executeAt: Date;\n  value: BigNumber;\n  state: EExecutionState;\n  ref: Execution;\n}\n\nexport const createExecutionSnapshot = async (\n  execution: Execution,\n  index: IExecutionIndex\n): Promise<IExecutionSnapshot> => {\n  const state = await execution.getState();\n  const id = execution.getId();\n\n  return {\n    index,\n    id,\n    state,\n    executeAt: execution.executeAt,\n    value: execution.value,\n    ref: execution,\n  };\n};\n\nexport const getExecutionKey = (execution: Execution) => {\n  return `execution@${execution.config.contractAddress}@${execution.getId()}`;\n};\n\nexport const getExecutionScheduleKey = (\n  providerAddress: string,\n  scheduleHash: string\n) => {\n  return `execution@schedule@${providerAddress}@${scheduleHash}`;\n};\n\nexport const useExecution = (execution: Execution, index: IExecutionIndex) => {\n  const key = getExecutionKey(execution);\n  const scheduleKey = getExecutionScheduleKey(\n    index.providerAddress,\n    index.scheduledTxHash ?? \"not-scheduled\"\n  );\n\n  const contracts = useContracts((state) => state.contracts);\n  const contract = contracts[index.contractId];\n\n  const [isConfirmed, setIsConfirmed] = useState<boolean>(true);\n\n  const setExecution = useExecutionsStore((state) => state.setExecution);\n\n  const [pendingScheduleTransactions] = useTransactions(scheduleKey);\n  const [pendingExecutionTransactions, registerTx] = useTransactions(key);\n  const pendingTransactions = useMemo(\n    () => pendingScheduleTransactions.concat(pendingExecutionTransactions),\n    [pendingScheduleTransactions, pendingExecutionTransactions]\n  );\n\n  const refresh = useCallback(async () => {\n    return createExecutionSnapshot(execution, index).then((snap) => {\n      setExecution(key, snap);\n    });\n  }, [execution, index, key, setExecution]);\n\n  const cancel = useCallback(async () => {\n    const tx = await execution.cancel();\n\n    registerTx(\n      tx.hash,\n      `Your \"${index.title}\" execution was cancelled!`,\n      `Your \"${index.title}\" execution could not be cancelled.`\n    );\n  }, [execution, index.title, registerTx]);\n\n  const refund = useCallback(async () => {\n    const tx = await execution.refund();\n\n    registerTx(\n      tx.hash,\n      `Your \"${index.title}\" execution was refunded!`,\n      `Your \"${index.title}\" execution could not be refunded.`\n    );\n  }, [execution, index.title, registerTx]);\n\n  const locateResult = useCallback(async () => {\n    if (!index.scheduledTxHash || !contract) return;\n\n    const executedTransaction = await getExecutedTransaction(\n      index.scheduledTxHash,\n      execution\n    );\n\n    const contractInterface = new utils.Interface(contract.ABI);\n\n    const state = await execution.getState();\n\n    const parsedResult =\n      executedTransaction && state === EExecutionState.ExecutionSuccessful\n        ? contractInterface\n            .decodeFunctionResult(\n              index.contractMethod,\n              executedTransaction.event.result\n            )\n            .join(\", \")\n        : executedTransaction?.event.result;\n\n    createExecutionSnapshot(execution, index).then((snap) => {\n      setExecution(key, {\n        ...snap,\n        index: {\n          ...snap.index,\n          result: parsedResult,\n          completedTxHash: executedTransaction?.txHash,\n        },\n      });\n    });\n  }, [contract, execution, index, key, setExecution]);\n\n  useEffect(() => {\n    const hasPendingTransactions = pendingTransactions.length > 0;\n\n    if (hasPendingTransactions) {\n      setIsConfirmed(false);\n    } else if (!hasPendingTransactions && !isConfirmed) {\n      createExecutionSnapshot(execution, index).then((snap) => {\n        setExecution(key, snap);\n        setIsConfirmed(true);\n      });\n    }\n  }, [isConfirmed, pendingTransactions, execution, setExecution, index, key]);\n\n  return [\n    refresh,\n    cancel,\n    refund,\n    locateResult,\n    contract,\n    isConfirmed,\n    pendingTransactions,\n    key,\n  ] as const;\n};\n","import { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport Divider from \"@material-ui/core/Divider\";\nimport { formatDistanceToNow } from \"date-fns\";\n\nimport { useState } from \"react\";\nimport hyphensAndCamelCaseToWords from \"../shared/hyphensAndCamelCaseToWords\";\nimport StatusLabel from \"./StatusLabel\";\nimport { Hidden } from \"@material-ui/core\";\nimport { useProvidersStore } from \"../sdk-hooks/useProviders\";\nimport { IExecutionSnapshot, useExecution } from \"../sdk-hooks/useExecution\";\nimport { BigNumber } from \"ethers\";\nimport { getMessageFromCode } from \"eth-rpc-errors\";\nimport { useSnackbar } from \"notistack\";\nimport { EExecutionState } from \"@rsksmart/rif-scheduler-sdk\";\n\nconst useRowStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    part: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flex: 1,\n    },\n    row: ({ color }: any) => ({\n      borderLeft: `${color} 4px solid`,\n      borderBottom: `${color} 1px solid`,\n      borderRadius: 15,\n    }),\n  })\n);\n\nexport const ExecutionButton: React.FC<{\n  item: IExecutionSnapshot;\n  onClick?: () => void;\n}> = ({ item, onClick }) => {\n  const classes = useRowStyles({ color: item.index.color ?? \"#333\" });\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  const [refresh, , , , contract, isConfirmed] = useExecution(\n    item.ref,\n    item.index\n  );\n\n  const providers = useProvidersStore((state) => state.providers);\n\n  const provider = providers.find(\n    (x) => x.config.contractAddress === item.index.providerAddress\n  );\n\n  const handleUpdateStatusClick = async () => {\n    setIsLoading(true);\n\n    try {\n      await refresh();\n    } catch (error) {\n      const message = getMessageFromCode(error.code, error.message);\n\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    }\n\n    setIsLoading(false);\n  };\n\n  const handleItemClick = () => {\n    if (onClick) onClick();\n  };\n\n  const disabledRefresh =\n    isLoading ||\n    !isConfirmed ||\n    ![EExecutionState.NotScheduled, EExecutionState.Scheduled].includes(\n      item.state ?? EExecutionState.NotScheduled\n    );\n\n  return (\n    <ListItem button className={classes.row} onClick={handleItemClick}>\n      <div\n        className={classes.part}\n        style={{ flexDirection: \"row\", alignItems: \"center\" }}\n      >\n        <ListItemText\n          className={classes.part}\n          primary={item.index.title}\n          secondary={`${formatDistanceToNow(item.executeAt, {\n            addSuffix: true,\n          })}`}\n        />\n        <div style={{ paddingLeft: 16, paddingRight: 16 }}>\n          <StatusLabel execution={item} isConfirmed={isConfirmed} />\n        </div>\n      </div>\n      <Hidden xsDown>\n        <Divider orientation=\"vertical\" style={{ marginRight: 16 }} flexItem />\n        <ListItemText\n          primary={\n            <span>\n              {contract?.name}&nbsp;&#10140;&nbsp;\n              {hyphensAndCamelCaseToWords(item.index.contractMethod)}\n            </span>\n          }\n          secondary={`Provider #${provider!.index + 1} - Plan #${BigNumber.from(\n            item.index.providerPlanIndex\n          )\n            .add(1)\n            .toString()}`}\n          className={classes.part}\n        />\n      </Hidden>\n      <ListItemSecondaryAction>\n        <IconButton\n          edge=\"end\"\n          onClick={handleUpdateStatusClick}\n          disabled={disabledRefresh}\n        >\n          <RefreshIcon\n            style={{\n              color: disabledRefresh ? \"rgba(0, 0, 0, 0.26)\" : item.index.color,\n            }}\n          />\n        </IconButton>\n      </ListItemSecondaryAction>\n    </ListItem>\n  );\n};\n","import useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { withStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport NetworkLabel from \"../connect/NetworkLabel\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport StatusLabel from \"./StatusLabel\";\nimport { format } from \"date-fns\";\nimport hyphensAndCamelCaseToWords from \"../shared/hyphensAndCamelCaseToWords\";\nimport shortText from \"../shared/shortText\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CopyIcon from \"@material-ui/icons/FileCopy\";\nimport { useSnackbar } from \"notistack\";\nimport { getExplorerTxLink } from \"../shared/types\";\nimport useConnector from \"../connect/useConnector\";\nimport Link from \"@material-ui/core/Link\";\nimport LinkIcon from \"@material-ui/icons/Launch\";\nimport RefreshIcon from \"@material-ui/icons/Refresh\";\nimport { formatBigNumber, fromBigNumberToHms } from \"../shared/formatters\";\nimport { useEffect } from \"react\";\nimport { EExecutionState } from \"@rsksmart/rif-scheduler-sdk\";\nimport { useProvidersStore } from \"../sdk-hooks/useProviders\";\nimport { useState } from \"react\";\nimport { BIG_ZERO } from \"../shared/reduceExecutionsLeft\";\nimport { IExecutionSnapshot, useExecution } from \"../sdk-hooks/useExecution\";\nimport { ExecutionButton } from \"./ExecutionButton\";\nimport { getMessageFromCode } from \"eth-rpc-errors\";\n\nconst rowStyles = { display: \"flex\", alignItems: \"center\", gap: \"5px\" };\n\nconst ExecutionInfo: React.FC<{\n  execution: IExecutionSnapshot;\n}> = ({ execution }) => {\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  const [refresh, cancel, refund, locateResult, contract, isConfirmed] =\n    useExecution(execution.ref, execution.index);\n\n  const providers = useProvidersStore((state) => state.providers);\n\n  const provider = providers.find(\n    (x) => x.config.contractAddress === execution.index.providerAddress\n  );\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const scheduledTxExplorerAddressUrl =\n    execution.index.scheduledTxHash &&\n    connectedToNetwork &&\n    getExplorerTxLink(execution.index.scheduledTxHash, connectedToNetwork);\n\n  const completedTxExplorerAddressUrl =\n    execution.index.completedTxHash &&\n    connectedToNetwork &&\n    getExplorerTxLink(execution.index.completedTxHash, connectedToNetwork);\n\n  useEffect(() => {\n    if (\n      !execution.index.completedTxHash &&\n      [\n        EExecutionState.ExecutionFailed,\n        EExecutionState.ExecutionSuccessful,\n      ].includes(execution.state ?? EExecutionState.NotScheduled)\n    ) {\n      locateResult();\n    }\n  }, [execution.index.completedTxHash, execution.state, locateResult]);\n\n  const handleCopy = (textToCopy: string | undefined | null) => () => {\n    if (!textToCopy) {\n      return;\n    }\n\n    if (!navigator?.clipboard) {\n      enqueueSnackbar(\"Your browser can't access the clipboard\", {\n        variant: \"error\",\n      });\n      return;\n    }\n\n    navigator.clipboard.writeText(textToCopy);\n    enqueueSnackbar(\"Copied!\", { autoHideDuration: 500 });\n  };\n\n  const handleUpdateStatusClick = async () => {\n    setIsLoading(true);\n\n    try {\n      await refresh();\n    } catch (error) {\n      const message = getMessageFromCode(error.code, error.message);\n\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    }\n\n    setIsLoading(false);\n  };\n\n  const handleCancelClick = async () => {\n    setIsLoading(true);\n\n    try {\n      await cancel();\n    } catch (error) {\n      const message = getMessageFromCode(error.code, error.message);\n\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    }\n\n    setIsLoading(false);\n  };\n\n  const handleRefundClick = async () => {\n    setIsLoading(true);\n\n    try {\n      await refund();\n    } catch (error) {\n      const message = getMessageFromCode(error.code, error.message);\n\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    }\n\n    setIsLoading(false);\n  };\n\n  if (!provider || !contract) return null;\n\n  return (\n    <>\n      <ExecutionButton item={execution} onClick={() => setOpen(true)} />\n      <Dialog\n        fullScreen={fullScreen}\n        maxWidth=\"sm\"\n        fullWidth={true}\n        open={open}\n        onClose={() => setOpen(false)}\n      >\n        <DialogTitle>\n          <div style={{ display: \"flex\", flex: 1 }}>\n            <div style={{ display: \"flex\", flex: 1 }}>\n              {execution.index.title}\n            </div>\n            <NetworkLabel />\n          </div>\n        </DialogTitle>\n        <DialogContent>\n          <TableContainer\n            component={Paper}\n            elevation={0}\n            style={{ border: `1px solid ${theme.palette.action.hover}` }}\n          >\n            <Table aria-label=\"info table\">\n              <TableBody>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    #\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\" style={rowStyles}>\n                    <IconButton\n                      aria-label=\"copy id\"\n                      size=\"small\"\n                      onClick={handleCopy(execution.id)}\n                    >\n                      <CopyIcon fontSize=\"inherit\" />\n                    </IconButton>\n                    <span>{shortText(execution.id)}</span>\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Scheduled tx\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\" style={rowStyles}>\n                    <IconButton\n                      aria-label=\"copy transaction hash\"\n                      size=\"small\"\n                      onClick={handleCopy(execution.index.scheduledTxHash)}\n                    >\n                      <CopyIcon fontSize=\"inherit\" />\n                    </IconButton>\n                    {scheduledTxExplorerAddressUrl && (\n                      <Link\n                        target=\"_blank\"\n                        href={scheduledTxExplorerAddressUrl ?? undefined}\n                        rel=\"noreferrer\"\n                        style={rowStyles}\n                      >\n                        <LinkIcon style={{ fontSize: 16 }} />\n                        {execution.index.scheduledTxHash &&\n                          shortText(execution.index.scheduledTxHash)}\n                      </Link>\n                    )}\n                    {!scheduledTxExplorerAddressUrl && (\n                      <span>\n                        {execution.index.scheduledTxHash &&\n                          shortText(execution.index.scheduledTxHash)}\n                      </span>\n                    )}\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Status\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\" style={rowStyles}>\n                    <IconButton\n                      aria-label=\"refresh status\"\n                      size=\"small\"\n                      onClick={handleUpdateStatusClick}\n                      disabled={\n                        isLoading ||\n                        !isConfirmed ||\n                        ![\n                          EExecutionState.NotScheduled,\n                          EExecutionState.Scheduled,\n                        ].includes(\n                          execution.state ?? EExecutionState.NotScheduled\n                        )\n                      }\n                    >\n                      <RefreshIcon fontSize=\"inherit\" />\n                    </IconButton>\n                    <StatusLabel\n                      execution={execution}\n                      isConfirmed={isConfirmed}\n                      isLoading={isLoading}\n                    />\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Execute at\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\">\n                    {format(execution.executeAt, \"MMMM do yyyy, hh:mm aaa\")}\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    {`Provider #${provider?.index + 1}`}\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\">\n                    {contract.name}&nbsp;&#10140;&nbsp;\n                    {hyphensAndCamelCaseToWords(execution.index.contractMethod)}\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Plan #{+execution.index.providerPlanIndex + 1}\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\">\n                    {`Window: ${fromBigNumberToHms(\n                      execution.ref.plan.window ?? BIG_ZERO\n                    )} - Gas limit: ${formatBigNumber(\n                      execution.ref.plan.gasLimit ?? BIG_ZERO,\n                      0\n                    )}`}\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Executed tx\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\" style={rowStyles}>\n                    {execution.index.completedTxHash && (\n                      <IconButton\n                        aria-label=\"copy transaction hash\"\n                        size=\"small\"\n                        onClick={handleCopy(execution.index.completedTxHash)}\n                      >\n                        <CopyIcon fontSize=\"inherit\" />\n                      </IconButton>\n                    )}\n                    {completedTxExplorerAddressUrl && (\n                      <Link\n                        target=\"_blank\"\n                        href={completedTxExplorerAddressUrl ?? undefined}\n                        rel=\"noreferrer\"\n                        style={rowStyles}\n                      >\n                        <LinkIcon style={{ fontSize: 16 }} />\n                        {execution.index.completedTxHash &&\n                          shortText(execution.index.completedTxHash)}\n                      </Link>\n                    )}\n                    {!completedTxExplorerAddressUrl && (\n                      <span>\n                        {execution.index.completedTxHash\n                          ? shortText(execution.index.completedTxHash)\n                          : \"---\"}\n                      </span>\n                    )}\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Result\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\" style={rowStyles}>\n                    {execution.index.result && (\n                      <IconButton\n                        aria-label=\"refresh result\"\n                        size=\"small\"\n                        onClick={\n                          execution.index.result\n                            ? handleCopy(execution.index.result)\n                            : undefined\n                        }\n                        disabled={isLoading}\n                      >\n                        <CopyIcon fontSize=\"inherit\" />\n                      </IconButton>\n                    )}\n                    <span>\n                      {execution.index.result\n                        ? shortText(execution.index.result)\n                        : \"---\"}\n                    </span>\n                  </RegularTableCell>\n                </StyledTableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions\n          style={{ paddingLeft: 24, paddingRight: 24, paddingTop: 24 }}\n        >\n          <div style={{ display: \"flex\", flex: 1 }}>\n            {execution.state === EExecutionState.Scheduled && (\n              <Button\n                onClick={handleCancelClick}\n                disabled={isLoading || !isConfirmed}\n                color=\"secondary\"\n                variant=\"contained\"\n              >\n                Cancel\n              </Button>\n            )}\n            {execution.state === EExecutionState.Overdue && (\n              <Button\n                onClick={handleRefundClick}\n                disabled={isLoading || !isConfirmed}\n                color=\"secondary\"\n                variant=\"contained\"\n              >\n                Refund\n              </Button>\n            )}\n          </div>\n          <Button onClick={() => setOpen(false)} color=\"inherit\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default ExecutionInfo;\n\nconst RegularTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      backgroundColor: theme.palette.common.black,\n      color: theme.palette.common.white,\n    },\n    body: {\n      fontSize: 14,\n      borderBottom: \"none\",\n    },\n  })\n)(TableCell);\n\nconst StrongTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      backgroundColor: theme.palette.common.black,\n      color: theme.palette.common.white,\n    },\n    body: {\n      fontSize: 14,\n      fontWeight: \"bold\",\n      borderBottom: \"none\",\n      maxWidth: 100,\n    },\n  })\n)(TableCell);\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.action.hover,\n      },\n    },\n  })\n)(TableRow);\n","import { useState, useLayoutEffect } from \"react\";\n\nexport const useDelayMount = (delay = 0) => {\n  const [mounted, setMounted] = useState(false);\n\n  useLayoutEffect(() => {\n    const delayedMount = setTimeout(() => {\n      setMounted(true);\n    }, delay);\n    return () => clearTimeout(delayedMount);\n  }, [delay]);\n\n  return mounted;\n};\n","import { makeStyles, createStyles, Theme } from \"@material-ui/core/styles\";\nimport CircularProgress, {\n  CircularProgressProps,\n} from \"@material-ui/core/CircularProgress\";\nimport { memo } from \"react\";\nimport { useDelayMount } from \"./useDelayMount\";\n\nconst useCircleStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: \"relative\",\n      width: 24,\n      height: 24,\n    },\n    bottom: {\n      color: theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700],\n    },\n    top: {\n      color: \"#1a90ff\",\n      animationDuration: \"550ms\",\n      position: \"absolute\",\n      left: 0,\n    },\n    circle: {\n      strokeLinecap: \"round\",\n    },\n  })\n);\n\nconst CustomCircularProgress = (props: CircularProgressProps) => {\n  const classes = useCircleStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress\n        variant=\"determinate\"\n        className={classes.bottom}\n        size={24}\n        thickness={4}\n        {...props}\n        value={100}\n      />\n      <CircularProgress\n        variant=\"indeterminate\"\n        disableShrink\n        className={classes.top}\n        classes={{\n          circle: classes.circle,\n        }}\n        size={24}\n        thickness={4}\n        {...props}\n      />\n    </div>\n  );\n};\n\nconst LoadingCircle: React.FC<{ isLoading: boolean }> = memo(\n  ({ isLoading }) => {\n    const mounted = useDelayMount(330);\n\n    const loadingResult = mounted && isLoading;\n\n    return (\n      <>\n        {loadingResult && <CustomCircularProgress />}\n        {!loadingResult && <div style={{ height: 24 }} />}\n      </>\n    );\n  }\n);\n\nexport default LoadingCircle;\n","export enum ECronArrayDefinition {\n  Minute = 0,\n  Hour = 1,\n  Day = 2,\n  Month = 3,\n  DayWeek = 4,\n}\n\nexport enum ECronFieldOption {\n  Day,\n  Week,\n  Month,\n  Year,\n  Custom,\n}\n\nexport enum EMonths {\n  January,\n  February,\n  March,\n  April,\n  May,\n  June,\n  July,\n  August,\n  September,\n  October,\n  November,\n  December,\n}\n\nexport enum EMidday {\n  AM,\n  PM,\n}\n\nexport enum EWeekDay {\n  Sunday,\n  Monday,\n  Tuesday,\n  Wednesday,\n  Thursday,\n  Friday,\n  Saturday,\n}\n","import React, { useEffect, useState } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { red, teal, yellow, orange, lightBlue } from \"@material-ui/core/colors\";\nimport Radio, { RadioProps } from \"@material-ui/core/Radio\";\nimport { Typography } from \"@material-ui/core\";\n\nconst RedRadio = withStyles({\n  root: {\n    padding: 7,\n    color: red[400],\n    \"&$checked\": {\n      color: red[400],\n    },\n  },\n  checked: {},\n})((props: RadioProps) => <Radio color=\"default\" {...props} />);\n\nconst TealRadio = withStyles({\n  root: {\n    padding: 7,\n    color: teal[400],\n    \"&$checked\": {\n      color: teal[400],\n    },\n  },\n  checked: {},\n})((props: RadioProps) => <Radio color=\"default\" {...props} />);\n\nconst YellowRadio = withStyles({\n  root: {\n    padding: 7,\n    color: yellow[700],\n    \"&$checked\": {\n      color: yellow[700],\n    },\n  },\n  checked: {},\n})((props: RadioProps) => <Radio color=\"default\" {...props} />);\n\nconst LightBlueRadio = withStyles({\n  root: {\n    padding: 7,\n    color: lightBlue[400],\n    \"&$checked\": {\n      color: lightBlue[400],\n    },\n  },\n  checked: {},\n})((props: RadioProps) => <Radio color=\"default\" {...props} />);\n\nconst OrangeRadio = withStyles({\n  root: {\n    padding: 7,\n    color: orange[700],\n    \"&$checked\": {\n      color: orange[700],\n    },\n  },\n  checked: {},\n})((props: RadioProps) => <Radio color=\"default\" {...props} />);\n\nconst ColorSelector = ({ value, onChange, disabled }: any) => {\n  const [selectedValue, setSelectedValue] = useState<string | null>(value);\n\n  useEffect(() => {\n    if (value !== selectedValue) {\n      setSelectedValue(value);\n    }\n  }, [value, selectedValue]);\n\n  const handleChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (onChange) {\n      onChange(event);\n    }\n    setSelectedValue(event.target.value);\n  };\n\n  return (\n    <div style={{ textAlign: \"right\", whiteSpace: \"nowrap\" }}>\n      <Typography variant=\"caption\" style={{marginLeft: 8, marginRight: 8}}>Color</Typography>\n      <RedRadio\n        disabled={disabled}\n        checked={selectedValue === red[400]}\n        onChange={handleChange}\n        value={red[400]}\n        name=\"color-selector\"\n        size=\"small\"\n        inputProps={{ \"aria-label\": \"Red\" }}\n      />\n      <OrangeRadio\n        disabled={disabled}\n        checked={selectedValue === orange[400]}\n        onChange={handleChange}\n        value={orange[400]}\n        name=\"color-selector\"\n        size=\"small\"\n        inputProps={{ \"aria-label\": \"Orange\" }}\n      />\n      <YellowRadio\n        disabled={disabled}\n        checked={selectedValue === yellow[400]}\n        onChange={handleChange}\n        value={yellow[400]}\n        name=\"color-selector\"\n        size=\"small\"\n        inputProps={{ \"aria-label\": \"Yellow\" }}\n      />\n      <TealRadio\n        disabled={disabled}\n        checked={selectedValue === teal[400]}\n        onChange={handleChange}\n        value={teal[400]}\n        name=\"color-selector\"\n        size=\"small\"\n        inputProps={{ \"aria-label\": \"Teal\" }}\n      />\n      <LightBlueRadio\n        disabled={disabled}\n        checked={selectedValue === lightBlue[400]}\n        onChange={handleChange}\n        value={lightBlue[400]}\n        name=\"color-selector\"\n        size=\"small\"\n        inputProps={{ \"aria-label\": \"Light Blue\" }}\n      />\n    </div>\n  );\n};\n\nexport default ColorSelector;\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { blue } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      alignItems: \"center\",\n    },\n    wrapper: {\n      margin: theme.spacing(1),\n      position: \"relative\",\n    },\n    buttonProgress: {\n      color: blue[500],\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      marginTop: -12,\n      marginLeft: -12,\n    },\n  })\n);\n\nconst ButtonWithLoading = ({ isLoading, onClick, label }: any) => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.wrapper}>\n        <Button\n          color=\"primary\"\n          variant=\"contained\"\n          disabled={isLoading}\n          onClick={onClick}\n        >\n          {label}\n        </Button>\n        {isLoading && (\n          <CircularProgress size={24} className={classes.buttonProgress} />\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ButtonWithLoading;\n","import useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport NetworkLabel from \"../connect/NetworkLabel\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport { Alert, Color } from \"@material-ui/lab\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { ReactNode } from \"react\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\n\ninterface IScheduleFormDialogProps {\n  onClose: () => void;\n  onConfirm: () => void;\n  alerts?: IScheduleFormDialogAlert[];\n}\n\nexport interface IScheduleFormDialogAlert {\n  severity: Color;\n  message: string;\n  actionLabel?: string;\n  actionLink?: string;\n  actionButton?: (onRevalidate: () => void) => ReactNode;\n}\n\nconst ScheduleFormDialog = ({\n  alerts = [],\n  onClose,\n  onConfirm,\n}: IScheduleFormDialogProps) => {\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const [currentAlerts, setCurrentAlerts] = useState(alerts);\n\n  useEffect(() => {\n    if (JSON.stringify(alerts) === JSON.stringify(currentAlerts)) return;\n\n    setCurrentAlerts(alerts);\n  }, [alerts, currentAlerts]);\n\n  const open = alerts.length > 0 ? true : false;\n\n  if (alerts.length === 0) return null;\n\n  const hasErrors = currentAlerts.some((x) => x.severity === \"error\");\n\n  const handleRevalidate = (index: number) => () => {\n    setCurrentAlerts((prev) => {\n      const result = [...prev];\n      result.splice(index, 1);\n\n      return result;\n    });\n  };\n\n  return (\n    <Dialog\n      fullScreen={fullScreen}\n      maxWidth=\"sm\"\n      fullWidth={true}\n      open={open}\n      onClose={onClose}\n    >\n      <DialogTitle>\n        <div style={{ display: \"flex\", flex: 1 }}>\n          <div style={{ display: \"flex\", flex: 1 }}>\n            {currentAlerts.length === 0 ? \"Resolved!\" : \"Requires your review!\"}\n          </div>\n          <NetworkLabel />\n        </div>\n      </DialogTitle>\n      <DialogContent\n        style={{ display: \"flex\", flexDirection: \"column\", gap: \"5px\" }}\n      >\n        {currentAlerts.length === 0 && (\n          <Alert severity={\"success\"}>It's all good now.</Alert>\n        )}\n        {currentAlerts.map((alert, index) => (\n          <Alert\n            key={`form-alert-${index}`}\n            severity={alert.severity}\n            action={\n              <>\n                {alert.actionLabel && alert.actionLink && (\n                  <Button\n                    color=\"inherit\"\n                    component={RouterLink}\n                    to={alert.actionLink}\n                    size=\"small\"\n                  >\n                    {alert.actionLabel}\n                  </Button>\n                )}\n                {alert.actionButton &&\n                  alert.actionButton(handleRevalidate(index))}\n              </>\n            }\n          >\n            {alert.message}\n          </Alert>\n        ))}\n      </DialogContent>\n      <DialogActions\n        style={{ paddingLeft: 24, paddingRight: 24, paddingTop: 24 }}\n      >\n        <Button onClick={onClose} color=\"inherit\">\n          Close\n        </Button>\n        {!hasErrors && (\n          <Button onClick={onConfirm} color=\"secondary\" variant=\"contained\">\n            {currentAlerts.length === 0 ? \"Schedule!\" : \"Schedule anyway!\"}\n          </Button>\n        )}\n      </DialogActions>\n    </Dialog>\n  );\n};\n\nexport default ScheduleFormDialog;\n","import NumberFormat from \"react-number-format\";\n\ninterface INumberFormatCustomProps {\n  inputRef: (instance: NumberFormat | null) => void;\n  onChange: (event: { target: { name: string; value: string } }) => void;\n  name: string;\n}\n\nconst NumberInput = (props: INumberFormatCustomProps) => {\n  const { inputRef, onChange, ...other } = props;\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values) => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator\n      isNumericString\n      allowNegative={false}\n      decimalScale={0}\n      prefix=\"\"\n    />\n  );\n};\n\nexport default NumberInput;\n","import { ECronFieldOption, EMonths, EWeekDay } from \"./enums\";\n\nexport const WEEK_LIST = [\n  EWeekDay.Sunday,\n  EWeekDay.Monday,\n  EWeekDay.Tuesday,\n  EWeekDay.Wednesday,\n  EWeekDay.Thursday,\n  EWeekDay.Friday,\n  EWeekDay.Saturday,\n];\n\nexport const WEEK_LABEL = {\n  [EWeekDay.Sunday]: \"S\",\n  [EWeekDay.Monday]: \"M\",\n  [EWeekDay.Tuesday]: \"T\",\n  [EWeekDay.Wednesday]: \"W\",\n  [EWeekDay.Thursday]: \"T\",\n  [EWeekDay.Friday]: \"F\",\n  [EWeekDay.Saturday]: \"S\",\n};\n\nexport const getCronFieldOptions = (repetition: number) => ({\n  [ECronFieldOption.Day]: repetition > 1 ? \"days\" : \"day\",\n  [ECronFieldOption.Week]: repetition > 1 ? \"weeks\" : \"week\",\n  [ECronFieldOption.Month]: repetition > 1 ? \"months\" : \"month\",\n  [ECronFieldOption.Year]: repetition > 1 ? \"years\" : \"year\",\n  [ECronFieldOption.Custom]: \"advanced\",\n});\n\nexport const MONTHS_LIST = [\n  EMonths.January,\n  EMonths.February,\n  EMonths.March,\n  EMonths.April,\n  EMonths.May,\n  EMonths.June,\n  EMonths.July,\n  EMonths.August,\n  EMonths.September,\n  EMonths.October,\n  EMonths.November,\n  EMonths.December,\n];\n\nexport const MONTHS_LABEL = {\n  [EMonths.January]: \"January\",\n  [EMonths.February]: \"February\",\n  [EMonths.March]: \"March\",\n  [EMonths.April]: \"April\",\n  [EMonths.May]: \"May\",\n  [EMonths.June]: \"June\",\n  [EMonths.July]: \"July\",\n  [EMonths.August]: \"August\",\n  [EMonths.September]: \"September\",\n  [EMonths.October]: \"October\",\n  [EMonths.November]: \"November\",\n  [EMonths.December]: \"December\",\n};\n","import {\n  ECronArrayDefinition,\n  ECronFieldOption,\n  EMidday,\n  EMonths,\n  EWeekDay,\n} from \"./enums\";\nimport cronstrue from \"cronstrue\";\nimport Cron from \"cron-converter\";\nimport { MONTHS_LIST, WEEK_LIST } from \"./descriptions\";\nconst cronConverter = new Cron();\n\nexport interface ICronField {\n  option: ECronFieldOption;\n  every: number;\n  hour: number;\n  minute: number;\n  midday: EMidday;\n  weekDays: EWeekDay[];\n  months: EMonths[];\n  monthDays: number[];\n  expression: string;\n  description: string;\n}\n\nconst CRON_DEFAULT = \"0 0 */1 * *\";\n\nexport const DEFAULT_CRON_FIELD: ICronField = {\n  option: ECronFieldOption.Day,\n  every: 1,\n  hour: 12,\n  minute: 0,\n  midday: EMidday.AM,\n  weekDays: [EWeekDay.Monday],\n  months: [EMonths.January],\n  monthDays: [1],\n  expression: CRON_DEFAULT,\n  description: cronstrue.toString(CRON_DEFAULT, { verbose: true }),\n};\n\nexport const convertToCronExpression = (field: ICronField) => {\n  let expression = field.expression;\n\n  if (field.option !== ECronFieldOption.Custom) {\n    let currentValueArray: Cron.CronArray = [[], [], [], [], []];\n\n    if (field.midday === EMidday.AM)\n      currentValueArray[ECronArrayDefinition.Hour][0] =\n        field.hour === 12 ? 0 : field.hour;\n\n    if (field.midday === EMidday.PM)\n      currentValueArray[ECronArrayDefinition.Hour][0] =\n        field.hour === 12 ? 12 : field.hour + 12;\n\n    currentValueArray[ECronArrayDefinition.Minute][0] = field.minute;\n\n    if (field.option === ECronFieldOption.Day) {\n      currentValueArray[ECronArrayDefinition.Day] = arrayFromWithStep(\n        Array.from(Array(31).keys()).map((x) => x + 1),\n        field.every\n      );\n\n      currentValueArray[ECronArrayDefinition.Month] = MONTHS_LIST.map(\n        (x) => x + 1\n      );\n\n      currentValueArray[ECronArrayDefinition.DayWeek] = WEEK_LIST;\n    } else if (field.option === ECronFieldOption.Week) {\n      const weeksRepetitionStart = arrayFromWithStep(\n        Array.from(Array(31).keys()).map((x) => x + 1),\n        field.every * 7\n      );\n\n      currentValueArray[ECronArrayDefinition.Day] = weeksRepetitionStart\n        .map((currentValue) =>\n          arrayFromWithStep(\n            Array.from(Array(7).keys()).map((x) => x + currentValue),\n            1\n          )\n        )\n        .reduce((acc, curVal) => acc.concat(curVal), [])\n        .filter((x) => x <= 31);\n\n      currentValueArray[ECronArrayDefinition.Month] = MONTHS_LIST.map(\n        (x) => x + 1\n      );\n\n      currentValueArray[ECronArrayDefinition.DayWeek] = field.weekDays;\n    } else if (field.option === ECronFieldOption.Month) {\n      currentValueArray[ECronArrayDefinition.Day] = field.monthDays;\n\n      currentValueArray[ECronArrayDefinition.Month] = arrayFromWithStep(\n        MONTHS_LIST.map((x) => x + 1),\n        field.every\n      );\n\n      currentValueArray[ECronArrayDefinition.DayWeek] = WEEK_LIST;\n    } else if (field.option === ECronFieldOption.Year) {\n      currentValueArray[ECronArrayDefinition.Day] = field.monthDays;\n\n      currentValueArray[ECronArrayDefinition.Month] = field.months.map(\n        (x) => x + 1\n      );\n\n      currentValueArray[ECronArrayDefinition.DayWeek] = WEEK_LIST;\n    }\n\n    expression = cronConverter.fromArray(currentValueArray).toString();\n  }\n\n  return {\n    expression,\n    description: cronstrue.toString(expression, { verbose: true }),\n  };\n};\n\nfunction arrayFromWithStep(array: number[], step: number) {\n  const result: number[] = [];\n  for (let index = 0; index < array.length; index += step) {\n    result.push(array[index]);\n  }\n\n  return result;\n}\n","import {\n  FormControl,\n  IconButton,\n  InputAdornment,\n  Link,\n  MenuItem,\n  Select,\n  TextField,\n  Typography,\n  useTheme,\n} from \"@material-ui/core\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\n\nimport EditIcon from \"@material-ui/icons/DateRange\";\n\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useEffect, useState } from \"react\";\nimport NumberInput from \"../shared/NumberInput\";\n\nimport PlusIcon from \"@material-ui/icons/AddCircleRounded\";\nimport MinusIcon from \"@material-ui/icons/RemoveCircleRounded\";\nimport Chip from \"@material-ui/core/Chip\";\n\nimport cronstrue from \"cronstrue\";\nimport {\n  ECronFieldOption,\n  EMidday,\n  EMonths,\n  EWeekDay,\n} from \"./cronParser/enums\";\nimport {\n  getCronFieldOptions,\n  MONTHS_LABEL,\n  MONTHS_LIST,\n  WEEK_LABEL,\n  WEEK_LIST,\n} from \"./cronParser/descriptions\";\nimport {\n  convertToCronExpression,\n  ICronField,\n} from \"./cronParser/convertToCronExpression\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    dialogPaper: {\n      margin: 0,\n\n      [theme.breakpoints.down(\"xs\")]: {\n        maxWidth: \"100% !important\",\n      },\n    },\n  })\n);\n\ninterface ICronButtonProps {\n  disabled: boolean;\n  value: ICronField;\n  onChange: (event: { target: { value: ICronField } }) => void;\n}\n\nconst CronButton: React.FC<ICronButtonProps> = ({\n  value,\n  onChange,\n  disabled,\n}) => {\n  const [open, setOpen] = useState(false);\n  const [fields, setFields] = useState<ICronField>(value);\n\n  const cronFieldOptions = getCronFieldOptions(fields.every);\n\n  const [cronError, setCronError] = useState<string | null>(null);\n\n  useEffect(() => {\n    setFields(value);\n  }, [value]);\n\n  const classes = useStyles();\n  const theme = useTheme();\n\n  const handleClear = () => {\n    setFields(value);\n  };\n\n  const handleClose = () => {\n    handleClear();\n    setOpen(false);\n  };\n\n  const handleFieldChange = (fieldName: string, value: any) => {\n    const newValue = { ...fields, [fieldName]: value };\n    const cron = convertToCronExpression(newValue);\n\n    setFields({ ...newValue, ...cron });\n  };\n\n  const handleOptionChange = (event: any) => {\n    const option = event.target.value as ECronFieldOption;\n\n    let every = fields.every;\n\n    if ([ECronFieldOption.Year, ECronFieldOption.Custom].includes(option)) {\n      every = 1; // every is disabled on year and custom\n    }\n\n    const newValue = { ...fields, option, every };\n    const cron = convertToCronExpression(newValue);\n\n    setFields({ ...newValue, ...cron });\n  };\n\n  const handleEveryIncrement = (increment: number) => (event: any) => {\n    let result = fields.every + increment;\n\n    if (result <= 1) result = 1;\n\n    handleFieldChange(\"every\", result);\n  };\n\n  const handleWeekDaysChange = (day: EWeekDay) => () => {\n    if (fields.weekDays.includes(day)) {\n      if (fields.weekDays.length <= 1) {\n        return;\n      }\n      handleFieldChange(\n        \"weekDays\",\n        fields.weekDays.filter((x) => x !== day)\n      );\n    } else {\n      handleFieldChange(\"weekDays\", [...fields.weekDays, day]);\n    }\n  };\n\n  const handleMonthDaysChange = (day: number) => () => {\n    if (fields.monthDays.includes(day)) {\n      if (fields.monthDays.length <= 1) {\n        return;\n      }\n      handleFieldChange(\n        \"monthDays\",\n        fields.monthDays.filter((x) => x !== day)\n      );\n    } else {\n      handleFieldChange(\"monthDays\", [...fields.monthDays, day]);\n    }\n  };\n\n  const handleMonthsChange = (month: EMonths) => () => {\n    if (fields.months.includes(month)) {\n      if (fields.months.length <= 1) {\n        return;\n      }\n      handleFieldChange(\n        \"months\",\n        fields.months.filter((x) => x !== month)\n      );\n    } else {\n      handleFieldChange(\"months\", [...fields.months, month]);\n    }\n  };\n\n  const handleExpressionChange = (event: any) => {\n    const expression = event.target.value;\n\n    setCronError(null);\n\n    setFields((prev) => ({ ...prev, expression }));\n    try {\n      const description = cronstrue.toString(expression, { verbose: true });\n\n      setFields((prev) => ({ ...prev, description }));\n    } catch (error) {\n      let message = \"\";\n      if (typeof error === \"string\") message = error;\n      else message = error.message;\n\n      if (message.includes(\"Error: \")) message = message.replace(\"Error: \", \"\");\n\n      setFields((prev) => ({ ...prev, description: \"\" }));\n      setCronError(message);\n    }\n  };\n\n  const handleOkButton = () => {\n    if (fields.option === ECronFieldOption.Custom && cronError) return;\n\n    const cron = convertToCronExpression(fields);\n\n    onChange({ target: { value: { ...fields, ...cron } } });\n    handleClose();\n  };\n\n  return (\n    <>\n      <IconButton\n        aria-label=\"edit cron expression\"\n        onClick={() => setOpen(true)}\n        edge=\"end\"\n        disabled={disabled}\n      >\n        <EditIcon />\n      </IconButton>\n      <Dialog\n        scroll=\"body\"\n        fullWidth={false}\n        classes={{\n          paper: classes.dialogPaper,\n        }}\n        maxWidth={\"xs\"}\n        open={open}\n        onClose={handleClose}\n        aria-labelledby=\"cron-expression-dialog-title\"\n      >\n        <DialogTitle\n          disableTypography\n          id=\"cron-expression-dialog-title\"\n          style={{ height: 100, backgroundColor: theme.palette.primary.main }}\n        >\n          <Typography\n            component=\"h2\"\n            variant=\"h6\"\n            style={{ color: theme.palette.primary.contrastText }}\n          >\n            Recurrence\n          </Typography>\n          <Typography\n            component=\"h3\"\n            variant=\"caption\"\n            style={{ color: theme.palette.primary.contrastText }}\n          >\n            You can select the periodicity for the contract execution.\n          </Typography>\n        </DialogTitle>\n        <DialogContent style={{ minHeight: 200 }}>\n          <div style={{ display: \"flex\", alignItems: \"center\", gap: \"5px\" }}>\n            <Typography variant=\"subtitle2\">Repeat every</Typography>\n            <TextField\n              margin=\"dense\"\n              variant=\"filled\"\n              fullWidth\n              style={{ flex: 1, minWidth: 120 }}\n              value={fields.every}\n              hiddenLabel\n              onChange={(event) =>\n                handleFieldChange(\"every\", +event.target.value)\n              }\n              disabled={[\n                ECronFieldOption.Year,\n                ECronFieldOption.Custom,\n              ].includes(fields.option)}\n              InputProps={{\n                inputComponent: NumberInput as any,\n                startAdornment: (\n                  <InputAdornment position=\"start\">\n                    <IconButton\n                      size=\"small\"\n                      aria-label=\"sub 10 quantity\"\n                      onClick={handleEveryIncrement(-1)}\n                      edge=\"start\"\n                      disabled={[\n                        ECronFieldOption.Year,\n                        ECronFieldOption.Custom,\n                      ].includes(fields.option)}\n                    >\n                      <MinusIcon />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n                endAdornment: (\n                  <InputAdornment position=\"end\">\n                    <IconButton\n                      size=\"small\"\n                      aria-label=\"add 10 quantity\"\n                      onClick={handleEveryIncrement(1)}\n                      edge=\"end\"\n                      disabled={[\n                        ECronFieldOption.Year,\n                        ECronFieldOption.Custom,\n                      ].includes(fields.option)}\n                    >\n                      <PlusIcon />\n                    </IconButton>\n                  </InputAdornment>\n                ),\n              }}\n            />\n            <FormControl\n              variant=\"filled\"\n              fullWidth\n              style={{ flex: 1, minWidth: 90 }}\n              margin=\"dense\"\n              hiddenLabel\n            >\n              <Select value={fields.option} onChange={handleOptionChange}>\n                <MenuItem value={ECronFieldOption.Day}>\n                  {cronFieldOptions[ECronFieldOption.Day]}\n                </MenuItem>\n                <MenuItem value={ECronFieldOption.Week}>\n                  {cronFieldOptions[ECronFieldOption.Week]}\n                </MenuItem>\n                <MenuItem value={ECronFieldOption.Month}>\n                  {cronFieldOptions[ECronFieldOption.Month]}\n                </MenuItem>\n                <MenuItem value={ECronFieldOption.Year}>\n                  {cronFieldOptions[ECronFieldOption.Year]}\n                </MenuItem>\n                <MenuItem value={ECronFieldOption.Custom}>\n                  {cronFieldOptions[ECronFieldOption.Custom]}\n                </MenuItem>\n              </Select>\n            </FormControl>\n          </div>\n\n          {fields.option === ECronFieldOption.Week && (\n            <>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                  paddingTop: 8,\n                }}\n              >\n                <Typography variant=\"subtitle2\">Repeat on</Typography>\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                  paddingTop: 8,\n                }}\n              >\n                {WEEK_LIST.map((week, index) => (\n                  <Chip\n                    key={`cron-week-${index}`}\n                    label={WEEK_LABEL[week]}\n                    size=\"small\"\n                    clickable\n                    color={\n                      fields.weekDays.includes(week) ? \"primary\" : \"default\"\n                    }\n                    onClick={handleWeekDaysChange(week)}\n                  />\n                ))}\n              </div>\n            </>\n          )}\n\n          {[ECronFieldOption.Month, ECronFieldOption.Year].includes(\n            fields.option\n          ) && (\n            <>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                  paddingTop: 8,\n                }}\n              >\n                <Typography variant=\"subtitle2\">Repeat on</Typography>\n              </div>\n            </>\n          )}\n\n          {fields.option === ECronFieldOption.Year && (\n            <>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                  paddingTop: 8,\n                  flexWrap: \"wrap\",\n                }}\n              >\n                {MONTHS_LIST.map((month, index) => (\n                  <Chip\n                    key={`cron-month-${index}`}\n                    label={MONTHS_LABEL[month]}\n                    size=\"small\"\n                    clickable\n                    color={\n                      fields.months.includes(month) ? \"primary\" : \"default\"\n                    }\n                    onClick={handleMonthsChange(month)}\n                  />\n                ))}\n              </div>\n            </>\n          )}\n\n          {[ECronFieldOption.Month, ECronFieldOption.Year].includes(\n            fields.option\n          ) && (\n            <>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                  paddingTop: 8,\n                  flexWrap: \"wrap\",\n                }}\n              >\n                {Array.from(Array(31).keys()).map((day, index) => (\n                  <Chip\n                    key={`cron-year-${index}`}\n                    label={(day + 1).toString().padStart(2, \"0\")}\n                    size=\"small\"\n                    clickable\n                    color={\n                      fields.monthDays.includes(day + 1) ? \"primary\" : \"default\"\n                    }\n                    onClick={handleMonthDaysChange(day + 1)}\n                  />\n                ))}\n              </div>\n            </>\n          )}\n\n          {fields.option !== ECronFieldOption.Custom && (\n            <>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                  paddingTop: 16,\n                }}\n              >\n                <Typography variant=\"subtitle2\">Repeat at</Typography>\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                }}\n              >\n                <FormControl\n                  variant=\"filled\"\n                  style={{ flex: 1, maxWidth: 70 }}\n                  margin=\"dense\"\n                  hiddenLabel\n                >\n                  <Select\n                    value={fields.hour}\n                    onChange={(event) =>\n                      handleFieldChange(\n                        \"hour\",\n                        parseInt(event.target.value as string)\n                      )\n                    }\n                  >\n                    {Array.from(Array(12).keys())\n                      .reverse()\n                      .map((value) => (\n                        <MenuItem key={`cron-hour-${value}`} value={value + 1}>\n                          {value + 1}\n                        </MenuItem>\n                      ))}\n                  </Select>\n                </FormControl>\n                <Typography variant=\"subtitle2\">:</Typography>\n                <FormControl\n                  variant=\"filled\"\n                  style={{ flex: 1, maxWidth: 70 }}\n                  margin=\"dense\"\n                  hiddenLabel\n                >\n                  <Select\n                    value={fields.minute}\n                    onChange={(event) =>\n                      handleFieldChange(\n                        \"minute\",\n                        parseInt(event.target.value as string)\n                      )\n                    }\n                  >\n                    {Array.from(Array(60).keys())\n                      .filter((x) => x % 5 === 0)\n                      .map((value) => (\n                        <MenuItem key={`cron-minute-${value}`} value={value}>\n                          {value.toString().padStart(2, \"0\")}\n                        </MenuItem>\n                      ))}\n                  </Select>\n                </FormControl>\n                <FormControl\n                  variant=\"filled\"\n                  style={{ flex: 1, maxWidth: 70 }}\n                  margin=\"dense\"\n                  hiddenLabel\n                >\n                  <Select\n                    value={fields.midday}\n                    onChange={(event) =>\n                      handleFieldChange(\"midday\", event.target.value as EMidday)\n                    }\n                  >\n                    <MenuItem value={EMidday.AM}>am</MenuItem>\n                    <MenuItem value={EMidday.PM}>pm</MenuItem>\n                  </Select>\n                </FormControl>\n              </div>\n            </>\n          )}\n\n          {fields.option === ECronFieldOption.Custom && (\n            <>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                  paddingTop: 16,\n                }}\n              >\n                <Typography variant=\"subtitle2\">\n                  Learn more about cron expressions&nbsp;\n                  <Link\n                    component=\"a\"\n                    target=\"_blank\"\n                    rel=\"noopener noreferrer\"\n                    href=\"https://en.wikipedia.org/wiki/Cron\"\n                  >\n                    here\n                  </Link>\n                </Typography>\n              </div>\n              <div\n                style={{\n                  display: \"flex\",\n                  alignItems: \"center\",\n                  gap: \"5px\",\n                }}\n              >\n                <TextField\n                  margin=\"dense\"\n                  label=\"Expression\"\n                  variant=\"filled\"\n                  fullWidth\n                  style={{ flex: 1, minWidth: 200 }}\n                  onChange={handleExpressionChange}\n                  error={cronError ? true : false}\n                  value={fields.expression}\n                  helperText={cronError ? cronError : fields.description}\n                />\n              </div>\n            </>\n          )}\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={handleClose} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={handleOkButton} color=\"primary\">\n            OK\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default CronButton;\n","import { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport {\n  withStyles,\n  useTheme,\n  Theme,\n  createStyles,\n} from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { fromBigNumberToHms, formatBigNumber } from \"../shared/formatters\";\nimport LoadingCircle from \"../shared/LoadingCircle\";\nimport StatusLabel from \"./StatusLabel\";\nimport NetworkLabel from \"../connect/NetworkLabel\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableContainer from \"@material-ui/core/TableContainer\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { IPlanSnapshot, usePlan } from \"../sdk-hooks/usePlan\";\nimport PlanButton from \"./PlanButton\";\nimport { IconButton, InputAdornment, TextField } from \"@material-ui/core\";\nimport NumberInput from \"../shared/NumberInput\";\nimport PlusIcon from \"@material-ui/icons/AddCircleRounded\";\nimport MinusIcon from \"@material-ui/icons/RemoveCircleRounded\";\nimport { TokenType } from \"@rsksmart/rif-scheduler-sdk/dist/token\";\nimport { useSnackbar } from \"notistack\";\nimport { getMessageFromCode } from \"eth-rpc-errors\";\nimport useAdmin from \"../shared/useAdmin\";\nimport { IProviderSnapshot } from \"../sdk-hooks/useProviders\";\nimport environment from \"../shared/environment\";\n\nconst rowStyles = { display: \"flex\", alignItems: \"center\", gap: \"5px\" };\n\nexport enum EApprovalStatus {\n  verify,\n  verified,\n  approved,\n}\n\nconst Plan: React.FC<{\n  value: IPlanSnapshot;\n  provider: IProviderSnapshot;\n  isPaused: boolean;\n}> = ({ value, provider, isPaused }) => {\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const { isAdmin, cancelPlan } = useAdmin(provider);\n\n  const [open, setOpen] = useState<boolean>(false);\n\n  const [verifyApproval, approve, purchase, refresh, isConfirmed] = usePlan(\n    value.ref\n  );\n\n  const [buyingExecutions, setBuyingExecutions] = useState<number>(0);\n  const [isNormalLoading, setIsLoading] = useState<boolean>(false);\n  const [isCanceling, setIsCanceling] = useState<boolean>(false);\n  const [approvalStatus, setApprovalStatus] = useState<EApprovalStatus>(\n    value.tokenType === TokenType.ERC20\n      ? EApprovalStatus.verify\n      : EApprovalStatus.approved\n  );\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const handleCancelPlan = async () => {\n    setIsCanceling(true);\n\n    try {\n      const tx = await cancelPlan(value.index);\n\n      await tx.wait(environment.CONFIRMATIONS);\n\n      await refresh();\n\n      setIsCanceling(false);\n      enqueueSnackbar(\"Plan cancel confirmed!\", {\n        variant: \"success\",\n      });\n    } catch (error) {\n      const message = getMessageFromCode(error.code, error.message);\n\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n\n      setIsCanceling(false);\n    }\n  };\n\n  const handleBuyingExecutionsIncrement = (increment: number) => () => {\n    setBuyingExecutions((prevQuantity) => {\n      let quantity = +prevQuantity + increment;\n\n      if (quantity <= 0) quantity = 0;\n\n      return quantity;\n    });\n\n    setApprovalStatus(\n      value.tokenType === TokenType.ERC20\n        ? EApprovalStatus.verify\n        : EApprovalStatus.approved\n    );\n  };\n\n  const handleBuyingExecutionsChange = (quantity: number) => {\n    if (quantity <= 0) quantity = 0;\n\n    setBuyingExecutions(quantity);\n    setApprovalStatus(\n      value.tokenType === TokenType.ERC20\n        ? EApprovalStatus.verify\n        : EApprovalStatus.approved\n    );\n  };\n\n  const handleBuyClick = async (executionsQuantity: number) => {\n    const isValid = executionsQuantity > 0 ? true : false;\n\n    if (isValid) {\n      setIsLoading(true);\n\n      try {\n        if (approvalStatus === EApprovalStatus.verify) {\n          const approvalResult = await verifyApproval(executionsQuantity);\n          setApprovalStatus(\n            approvalResult ? EApprovalStatus.verified : EApprovalStatus.approved\n          );\n        }\n\n        if (approvalStatus === EApprovalStatus.verified) {\n          await approve(executionsQuantity);\n          setApprovalStatus(EApprovalStatus.verify);\n        }\n\n        if (approvalStatus === EApprovalStatus.approved) {\n          await purchase(executionsQuantity);\n          setBuyingExecutions(0);\n\n          setApprovalStatus(\n            value.tokenType === TokenType.ERC20\n              ? EApprovalStatus.verify\n              : EApprovalStatus.approved\n          );\n        }\n      } catch (error) {\n        const message = getMessageFromCode(error.code, error.message);\n\n        enqueueSnackbar(message, {\n          variant: \"error\",\n        });\n      }\n\n      setIsLoading(false);\n    }\n  };\n\n  const isLoading = isNormalLoading || isCanceling;\n\n  return (\n    <>\n      <PlanButton\n        value={value}\n        disabled={isPaused}\n        isConfirmed={isConfirmed}\n        onClick={() => setOpen(true)}\n      />\n      <Dialog\n        fullScreen={fullScreen}\n        maxWidth=\"sm\"\n        fullWidth={true}\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle\n          style={{ display: \"flex\", justifyContent: \"space-between\" }}\n          disableTypography\n        >\n          <div style={{ display: \"flex\", flex: 1 }}>\n            <div style={{ display: \"flex\", flex: 1 }}>\n              <Typography component={\"h2\"} variant=\"h6\">\n                {`Plan #${value.index.add(1).toString()}`}\n              </Typography>\n            </div>\n            <LoadingCircle isLoading={isLoading} />\n            <NetworkLabel />\n          </div>\n        </DialogTitle>\n        <DialogContent>\n          {isCanceling && (\n            <>\n              <Typography variant=\"subtitle1\" color=\"error\" component=\"p\">\n                Waiting for transaction confirmation:\n              </Typography>\n              <Typography variant=\"subtitle1\" color=\"error\" component=\"p\">\n                Please do NOT close this window.\n              </Typography>\n            </>\n          )}\n          <TableContainer\n            component={Paper}\n            elevation={0}\n            style={{ border: `1px solid ${theme.palette.action.hover}` }}\n          >\n            <Table aria-label=\"info table\">\n              <TableBody>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Remaining executions\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\">\n                    <Typography variant=\"h5\">\n                      {value.remainingExecutions.toString()}\n                    </Typography>\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Status\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\" style={rowStyles}>\n                    <StatusLabel plan={value} isConfirmed={isConfirmed} />\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Window\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\">\n                    {fromBigNumberToHms(value.window)}\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Gas limit\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\">\n                    {formatBigNumber(value.gasLimit, 0)}\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Price per execution\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\">\n                    {`${formatBigNumber(\n                      value.pricePerExecution,\n                      value.tokenDecimals\n                    )} ${value.tokenSymbol}`}\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Quantity to purchase\n                  </StrongTableCell>\n                  <RegularTableCell align=\"right\" style={{ width: 200 }}>\n                    <TextField\n                      disabled={isLoading || !isConfirmed}\n                      margin=\"dense\"\n                      hiddenLabel\n                      variant=\"filled\"\n                      fullWidth\n                      style={{ flex: 1, minWidth: 120 }}\n                      onChange={(event) =>\n                        handleBuyingExecutionsChange(+event.target.value)\n                      }\n                      value={buyingExecutions}\n                      InputProps={{\n                        inputComponent: NumberInput as any,\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <IconButton\n                              size=\"small\"\n                              aria-label=\"sub 10 quantity\"\n                              onClick={handleBuyingExecutionsIncrement(-10)}\n                              edge=\"start\"\n                              disabled={isLoading || !isConfirmed}\n                            >\n                              <MinusIcon />\n                            </IconButton>\n                          </InputAdornment>\n                        ),\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <IconButton\n                              size=\"small\"\n                              aria-label=\"add 10 quantity\"\n                              onClick={handleBuyingExecutionsIncrement(10)}\n                              edge=\"end\"\n                              disabled={isLoading || !isConfirmed}\n                            >\n                              <PlusIcon />\n                            </IconButton>\n                          </InputAdornment>\n                        ),\n                      }}\n                    />\n                  </RegularTableCell>\n                </StyledTableRow>\n                <StyledTableRow>\n                  <StrongTableCell component=\"th\" scope=\"row\">\n                    Total\n                  </StrongTableCell>\n                  <BigTableCell align=\"right\">\n                    {`${formatBigNumber(\n                      value.pricePerExecution.mul(buyingExecutions),\n                      value.tokenDecimals\n                    )}`}\n\n                    {` ${value.tokenSymbol}`}\n                  </BigTableCell>\n                </StyledTableRow>\n              </TableBody>\n            </Table>\n          </TableContainer>\n        </DialogContent>\n        <DialogActions\n          style={{ paddingLeft: 24, paddingRight: 24, paddingTop: 24 }}\n        >\n          {isAdmin && (\n            <div style={{ display: \"flex\", flex: 1 }}>\n              <Button\n                onClick={handleCancelPlan}\n                disabled={isLoading || !value.isActive}\n                color=\"secondary\"\n              >\n                Deactivate plan\n              </Button>\n            </div>\n          )}\n          <Button\n            color=\"inherit\"\n            disabled={isLoading}\n            onClick={() => {\n              setBuyingExecutions(0);\n              setOpen(false);\n            }}\n          >\n            Close\n          </Button>\n          <Button\n            disabled={\n              isLoading ||\n              !isConfirmed ||\n              !value.isActive ||\n              +buyingExecutions === 0\n            }\n            color=\"primary\"\n            variant=\"contained\"\n            style={{ minWidth: 160 }}\n            onClick={() => handleBuyClick(buyingExecutions)}\n          >\n            {isConfirmed &&\n              approvalStatus === EApprovalStatus.verify &&\n              \"Verify approval\"}\n            {isConfirmed &&\n              approvalStatus === EApprovalStatus.verified &&\n              \"Approve\"}\n            {isConfirmed &&\n              approvalStatus === EApprovalStatus.approved &&\n              \"Buy\"}\n            {!isConfirmed && \"Waiting confirmation\"}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default Plan;\n\nconst RegularTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      backgroundColor: theme.palette.common.black,\n      color: theme.palette.common.white,\n    },\n    body: {\n      fontSize: 14,\n      borderBottom: \"none\",\n    },\n  })\n)(TableCell);\n\nconst BigTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      backgroundColor: theme.palette.common.black,\n      color: theme.palette.common.white,\n    },\n    body: {\n      fontSize: \"1rem\",\n      fontWeight: \"bold\",\n      borderBottom: \"none\",\n    },\n  })\n)(TableCell);\n\nconst StrongTableCell = withStyles((theme: Theme) =>\n  createStyles({\n    head: {\n      backgroundColor: theme.palette.common.black,\n      color: theme.palette.common.white,\n    },\n    body: {\n      fontSize: 14,\n      fontWeight: \"bold\",\n      borderBottom: \"none\",\n      maxWidth: 60,\n    },\n  })\n)(TableCell);\n\nconst StyledTableRow = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      \"&:nth-of-type(odd)\": {\n        backgroundColor: theme.palette.action.hover,\n      },\n    },\n  })\n)(TableRow);\n","import { RIFScheduler } from \"@rsksmart/rif-scheduler-sdk\";\nimport { useCallback, useMemo } from \"react\";\nimport { createPlanSnapshot, IPlanSnapshot } from \"./usePlan\";\nimport { IProviderSnapshot } from \"./useProviders\";\nimport shallow from \"zustand/shallow\";\nimport create from \"zustand\";\n\nexport interface IUsePlansStore {\n  plans: {\n    [providerAddress: string]: {\n      [index: string]: IPlanSnapshot;\n    };\n  };\n  setPlan: (plan: IPlanSnapshot) => void;\n}\n\nexport const usePlansStore = create<IUsePlansStore>((set, get) => ({\n  plans: {},\n  setPlan: (plan: IPlanSnapshot) => {\n    const providerAddress = plan.ref.config.contractAddress;\n\n    set((state) => ({\n      plans: {\n        ...state.plans,\n        [providerAddress]: {\n          ...state.plans[providerAddress],\n          [plan.index.toString()]: plan,\n        },\n      },\n    }));\n  },\n}));\n\nexport const usePlans = (provider: IProviderSnapshot) => {\n  const scheduler = useMemo(\n    () => new RIFScheduler(provider.config),\n    [provider]\n  );\n\n  const [plans, setPlan] = usePlansStore(\n    (store) => [store.plans[provider.config.contractAddress], store.setPlan],\n    shallow\n  );\n\n  const loadPlans = useCallback(async () => {\n    const plans = await scheduler.getPlans();\n\n    const plansSnapshots = await Promise.all(plans.map(createPlanSnapshot));\n\n    plansSnapshots.forEach(setPlan);\n  }, [scheduler, setPlan]);\n\n  return [Object.values(plans ?? []), loadPlans] as const;\n};\n","import { Plan, TokenType } from \"@rsksmart/rif-scheduler-sdk\";\nimport { BigNumber, BigNumberish } from \"ethers\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport { usePlansStore } from \"./usePlans\";\nimport { useTransactions } from \"./useTransactions\";\n\nexport interface IPlanSnapshot {\n  index: BigNumber;\n  isActive: boolean;\n  window: BigNumber;\n  gasLimit: BigNumber;\n  pricePerExecution: BigNumber;\n  remainingExecutions: BigNumber;\n  tokenType: TokenType;\n  tokenDecimals: number;\n  tokenSymbol: string;\n  ref: Plan;\n}\n\nexport const createPlanSnapshot = async (\n  plan: Plan\n): Promise<IPlanSnapshot> => {\n  const isActive = await plan.isActive();\n  const remainingExecutions = await plan.getRemainingExecutions();\n\n  let tokenSymbol;\n  let tokenDecimals;\n  let tokenType;\n\n  try {\n    tokenSymbol = await plan.token.symbol();\n    tokenDecimals = await plan.token.decimals();\n    tokenType = plan.token.getType();\n  } catch (error) {\n    console.error(\"plan error\", error);\n    tokenSymbol = \"invalid\";\n    tokenDecimals = 0;\n    tokenType = TokenType.ERC20;\n  }\n\n  return {\n    index: plan.index,\n    isActive,\n    window: plan.window,\n    gasLimit: plan.gasLimit,\n    pricePerExecution: plan.pricePerExecution,\n    remainingExecutions,\n    tokenType,\n    tokenDecimals,\n    tokenSymbol,\n    ref: plan,\n  };\n};\n\nexport const getPlanKey = (plan: Plan) => {\n  return `plan@${plan.config.contractAddress}@${plan.index}`;\n};\n\nexport const usePlan = (plan: Plan) => {\n  const key = getPlanKey(plan);\n\n  const [isConfirmed, setIsConfirmed] = useState<boolean>(true);\n\n  const setPlan = usePlansStore((state) => state.setPlan);\n\n  const [pendingTransactions, registerTx] = useTransactions(key);\n\n  const verifyApproval = async (quantity: BigNumberish) => {\n    const amount = plan.pricePerExecution.mul(quantity);\n\n    return plan.token.needsApproval(amount);\n  };\n\n  const approve = useCallback(\n    async (quantity: BigNumberish) => {\n      const amount = plan.pricePerExecution.mul(quantity);\n\n      const tx = await plan.token.approve(amount);\n\n      registerTx(\n        tx.hash,\n        `Your approve of ${quantity} ${\n          quantity > 1 ? \"executions\" : \"execution\"\n        } was confirmed!`,\n        `Your approve of ${quantity} ${\n          quantity > 1 ? \"executions\" : \"execution\"\n        } could not be confirmed.`\n      );\n    },\n    [plan, registerTx]\n  );\n\n  const purchase = useCallback(\n    async (quantity: BigNumberish) => {\n      const tx = await plan.purchase(quantity);\n\n      registerTx(\n        tx.hash,\n        `Your purchase of ${quantity} ${\n          quantity > 1 ? \"executions\" : \"execution\"\n        } was confirmed!`,\n        `Your purchase of ${quantity} ${\n          quantity > 1 ? \"executions\" : \"execution\"\n        } could not be confirmed.`\n      );\n    },\n    [plan, registerTx]\n  );\n\n  const refresh = useCallback(async () => {\n    return createPlanSnapshot(plan).then((snap) => {\n      setPlan(snap);\n    });\n  }, [plan, setPlan]);\n\n  useEffect(() => {\n    const hasPendingTransactions = pendingTransactions.length > 0;\n\n    if (hasPendingTransactions) {\n      setIsConfirmed(false);\n    } else if (!hasPendingTransactions && !isConfirmed) {\n      refresh().then(() => {\n        setIsConfirmed(true);\n      });\n    }\n  }, [isConfirmed, pendingTransactions.length, refresh]);\n\n  return [\n    verifyApproval,\n    approve,\n    purchase,\n    refresh,\n    isConfirmed,\n    pendingTransactions,\n    key,\n  ] as const;\n};\n","import Chip from \"@material-ui/core/Chip\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport { IPlanSnapshot } from \"../sdk-hooks/usePlan\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    purchasing: {\n      color: \"#333\",\n      border: \"1px solid #f7e463\",\n      backgroundColor: \"#f7e463\",\n    },\n    active: {\n      color: \"#333\",\n      border: \"1px solid #7cd992\",\n      backgroundColor: \"#7cd992\",\n    },\n    inactive: {\n      color: \"#333\",\n      border: \"1px solid #a8a8a8\",\n      backgroundColor: \"#a8a8a8\",\n    },\n  })\n);\n\nconst StatusLabel = ({\n  plan,\n  isConfirmed,\n}: {\n  plan: IPlanSnapshot;\n  isConfirmed: boolean;\n}) => {\n  const classes = useStyles();\n\n  let label = plan.isActive ? \"Active\" : \"Inactive\";\n  let classStatus = plan.isActive ? classes.active : classes.inactive;\n\n  if (!isConfirmed) {\n    label = \"Waiting confirmation\";\n    classStatus = classes.purchasing;\n  }\n\n  return (\n    <Chip\n      size=\"small\"\n      color=\"primary\"\n      variant=\"default\"\n      label={label}\n      classes={{\n        colorPrimary: classStatus,\n      }}\n    />\n  );\n};\n\nexport default StatusLabel;\n","import { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Divider from \"@material-ui/core/Divider\";\n\nimport React from \"react\";\nimport StatusLabel from \"./StatusLabel\";\nimport { Hidden } from \"@material-ui/core\";\nimport { formatBigNumber, fromBigNumberToHms } from \"../shared/formatters\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport PurchaseIcon from \"@material-ui/icons/AddCircle\";\n\nimport { IPlanSnapshot } from \"../sdk-hooks/usePlan\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    part: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      flex: 1,\n    },\n    row: {\n      borderLeft: `rgba(0, 0, 0, 0.12) 4px solid`,\n      borderBottom: `rgba(0, 0, 0, 0.12) 1px solid`,\n      borderRadius: 15,\n    },\n  })\n);\n\nconst PlanButton: React.FC<{\n  value: IPlanSnapshot;\n  isConfirmed: boolean;\n  disabled: boolean;\n  onClick?: () => void;\n}> = ({ value, disabled, isConfirmed, onClick }) => {\n  const classes = useStyles();\n\n  return (\n    <ListItem\n      disabled={disabled}\n      button\n      className={classes.row}\n      onClick={onClick}\n    >\n      <div\n        className={classes.part}\n        style={{ flexDirection: \"row\", alignItems: \"center\" }}\n      >\n        <ListItemText\n          className={classes.part}\n          primary={`#${value.index.add(1).toString()}`}\n          secondary={`${\n            value.remainingExecutions?.toString() ?? 0\n          } executions left`}\n        />\n        <div style={{ paddingLeft: 16, paddingRight: 16 }}>\n          <StatusLabel plan={value} isConfirmed={isConfirmed} />\n        </div>\n      </div>\n      <Hidden xsDown>\n        <Divider orientation=\"vertical\" style={{ marginRight: 16 }} flexItem />\n        <ListItemText\n          primary={`Window: ${fromBigNumberToHms(value.window)}`}\n          secondary={`Gas limit: ${formatBigNumber(value.gasLimit, 0)}`}\n          className={classes.part}\n        />\n      </Hidden>\n      <ListItemSecondaryAction>\n        <PurchaseIcon style={{ color: \"rgba(0, 0, 0, 0.12)\" }} />\n      </ListItemSecondaryAction>\n    </ListItem>\n  );\n};\n\nexport default PlanButton;\n","import { Base } from \"@rsksmart/rif-scheduler-sdk/dist/Base\";\nimport { BigNumberish } from \"ethers\";\nimport { useCallback, useEffect, useState } from \"react\";\nimport useConnector from \"../connect/useConnector\";\nimport { IProviderSnapshot } from \"../sdk-hooks/useProviders\";\n\nconst useAdmin = (provider: IProviderSnapshot) => {\n  const account = useConnector((state) => state.account);\n\n  const [isPaused, setIsPaused] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n\n  useEffect(() => {\n    const action = async () => {\n      const contract = new Base(provider.config).schedulerContract;\n\n      const providerAddress = await contract.serviceProvider();\n      const isPaused = await contract.paused();\n\n      setIsAdmin(account === providerAddress);\n      setIsPaused(isPaused);\n    };\n\n    action();\n  }, [account, provider.config]);\n\n  const addPlan = useCallback(\n    async (\n      price: BigNumberish,\n      window: BigNumberish,\n      gasLimit: BigNumberish,\n      tokenAddress: string\n    ) => {\n      const contract = new Base(provider.config).schedulerContract;\n\n      const tx = await contract.addPlan(price, window, gasLimit, tokenAddress);\n\n      return tx;\n    },\n    [provider.config]\n  );\n\n  const cancelPlan = useCallback(\n    async (planIndex: BigNumberish) => {\n      const contract = new Base(provider.config).schedulerContract;\n\n      const tx = await contract.removePlan(planIndex);\n\n      return tx;\n    },\n    [provider.config]\n  );\n\n  const pauseUnpauseContract = useCallback(async () => {\n    const contract = new Base(provider.config).schedulerContract;\n\n    const isPaused = await contract.paused();\n\n    let tx;\n\n    if (!isPaused) {\n      tx = await contract.pause();\n    } else {\n      tx = await contract.unpause();\n    }\n\n    return tx;\n  }, [provider.config]);\n\n  const refresh = useCallback(async () => {\n    const contract = new Base(provider.config).schedulerContract;\n\n    const isPaused = await contract.paused();\n\n    setIsPaused(isPaused);\n  }, [provider.config]);\n\n  return {\n    isAdmin,\n    isPaused,\n    refresh,\n    pauseUnpauseContract,\n    addPlan,\n    cancelPlan,\n  };\n};\n\nexport default useAdmin;\n","import {\n  Avatar,\n  Box,\n  Grid,\n  LinearProgress,\n  Typography,\n  makeStyles,\n  colors,\n  Button,\n} from \"@material-ui/core\";\nimport HelpIcon from \"@material-ui/icons/Help\";\nimport ReadyIcon from \"@material-ui/icons/CheckCircle\";\nimport useConnector from \"../connect/useConnector\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport useContracts from \"../contracts/useContracts\";\nimport { BIG_ZERO } from \"../shared/reduceExecutionsLeft\";\nimport { useProvidersStore } from \"../sdk-hooks/useProviders\";\nimport { getExecutionsLeftTotal } from \"../sdk-hooks/getExecutionsLeftTotal\";\nimport { useEffect, useState } from \"react\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    height: \"100%\",\n  },\n  avatar: {\n    backgroundColor: colors.orange[800],\n    height: 56,\n    width: 56,\n  },\n  avatarReady: {\n    backgroundColor: colors.green[800],\n    height: 56,\n    width: 56,\n  },\n}));\n\nenum ETask {\n  PurchaseExecutions = 0,\n  RegisterContracts = 1,\n  ReadyToSchedule = 2,\n}\n\nconst TASKS = [\n  {\n    title: \"You need to purchase executions\",\n    link: \"/store\",\n    linkLabel: \"Purchase executions\",\n  },\n  {\n    title: \"You need to register some contracts\",\n    link: \"/contracts\",\n    linkLabel: \"Register contracts\",\n  },\n  {\n    title: \"You are ready to schedule executions\",\n    link: \"/schedule\",\n    linkLabel: \"Schedule an execution\",\n  },\n];\n\nconst TasksProgress = ({ className, ...rest }: any) => {\n  const classes = useStyles();\n\n  const totalTasks = TASKS.length - 1;\n\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const [executionsLeft, setExecutionsLeft] = useState(BIG_ZERO);\n  const providers = useProvidersStore((state) => state.providers);\n\n  useEffect(() => {\n    getExecutionsLeftTotal(providers).then((total) => setExecutionsLeft(total));\n  }, [providers]);\n\n  const contracts = useContracts((state) => state.contracts);\n  const networkContracts = Object.entries(contracts).filter(\n    ([id, contract]) => contract.network === connectedToNetwork\n  );\n\n  let currentTask = ETask.ReadyToSchedule;\n  if (executionsLeft.lte(BIG_ZERO)) {\n    currentTask = ETask.PurchaseExecutions;\n  } else if (networkContracts.length <= 0) {\n    currentTask = ETask.RegisterContracts;\n  }\n\n  return (\n    <>\n      <Grid container justify=\"space-between\" spacing={3}>\n        <Grid item style={{ flex: 1 }}>\n          <Typography\n            color=\"textPrimary\"\n            variant=\"body1\"\n            style={{ marginBottom: \"0.35em\" }}\n          >\n            {TASKS[currentTask].title}\n          </Typography>\n          <Button\n            component={RouterLink}\n            to={TASKS[currentTask].link}\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            {TASKS[currentTask].linkLabel}\n          </Button>\n        </Grid>\n        <Grid item>\n          {currentTask !== totalTasks && (\n            <Avatar className={classes.avatar}>\n              <HelpIcon />\n            </Avatar>\n          )}\n          {currentTask === totalTasks && (\n            <Avatar className={classes.avatarReady}>\n              <ReadyIcon />\n            </Avatar>\n          )}\n        </Grid>\n      </Grid>\n      <Box mt={3}>\n        <LinearProgress\n          value={(currentTask * 100) / totalTasks}\n          variant=\"determinate\"\n        />\n      </Box>\n    </>\n  );\n};\n\nexport default TasksProgress;\n","import { Button } from \"@material-ui/core\";\nimport { Plan, TokenType } from \"@rsksmart/rif-scheduler-sdk\";\nimport { getMessageFromCode } from \"eth-rpc-errors\";\nimport { BigNumber } from \"ethers\";\nimport { useSnackbar } from \"notistack\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { usePlan } from \"../sdk-hooks/usePlan\";\nimport { EApprovalStatus } from \"../store/Plan\";\n\nconst PurchaseWhileSchedule: React.FC<{\n  plan: Plan;\n  planIsActive: boolean;\n  executionsQuantity: BigNumber;\n  tokenType: TokenType;\n  onRevalidate: () => void;\n}> = ({ plan, planIsActive, tokenType, executionsQuantity, onRevalidate }) => {\n  const { enqueueSnackbar } = useSnackbar();\n  const isAlreadyConfirmed = useRef(true);\n\n  const [verifyApproval, approve, purchase, , isConfirmed] = usePlan(plan);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [approvalStatus, setApprovalStatus] = useState<EApprovalStatus>(\n    tokenType === TokenType.ERC20\n      ? EApprovalStatus.verify\n      : EApprovalStatus.approved\n  );\n\n  useEffect(() => {\n    if (tokenType === TokenType.ERC20) {\n      verifyApproval(executionsQuantity).then((approvalResult) =>\n        setApprovalStatus(\n          approvalResult ? EApprovalStatus.verified : EApprovalStatus.approved\n        )\n      );\n    }\n  }, [tokenType, executionsQuantity, verifyApproval]);\n\n  useEffect(() => {\n    if (\n      !isAlreadyConfirmed.current &&\n      approvalStatus === EApprovalStatus.approved &&\n      isConfirmed\n    ) {\n      onRevalidate();\n    }\n    isAlreadyConfirmed.current = isConfirmed;\n  }, [approvalStatus, isConfirmed, onRevalidate]);\n\n  const handleBuyClick = async () => {\n    const isValid = executionsQuantity.gt(0) ? true : false;\n\n    if (isValid) {\n      setIsLoading(true);\n\n      try {\n        if (approvalStatus === EApprovalStatus.verify) {\n          const approvalResult = await verifyApproval(executionsQuantity);\n          setApprovalStatus(\n            approvalResult ? EApprovalStatus.verified : EApprovalStatus.approved\n          );\n        }\n\n        if (approvalStatus === EApprovalStatus.verified) {\n          await approve(executionsQuantity);\n          setApprovalStatus(EApprovalStatus.verify);\n        }\n\n        if (approvalStatus === EApprovalStatus.approved) {\n          await purchase(executionsQuantity);\n\n          setApprovalStatus(\n            tokenType === TokenType.ERC20\n              ? EApprovalStatus.verify\n              : EApprovalStatus.approved\n          );\n        }\n      } catch (error) {\n        const message = getMessageFromCode(error.code, error.message);\n\n        enqueueSnackbar(message, {\n          variant: \"error\",\n        });\n      }\n\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <Button\n      disabled={\n        isLoading || !isConfirmed || !planIsActive || executionsQuantity.eq(0)\n      }\n      color=\"inherit\"\n      size=\"small\"\n      onClick={handleBuyClick}\n    >\n      {isConfirmed &&\n        approvalStatus === EApprovalStatus.verify &&\n        \"Verify approval\"}\n      {isConfirmed && approvalStatus === EApprovalStatus.verified && \"Approve\"}\n      {isConfirmed && approvalStatus === EApprovalStatus.approved && \"Buy\"}\n      {!isConfirmed && \"Waiting confirmation\"}\n    </Button>\n  );\n};\n\nexport default PurchaseWhileSchedule;\n","import { addSeconds, parseISO, set } from \"date-fns\";\nimport { BigNumber, utils } from \"ethers\";\nimport { Execution, RIFScheduler } from \"@rsksmart/rif-scheduler-sdk\";\nimport { IContract } from \"../contracts/useContracts\";\nimport { useIndexedExecutionsStore } from \"../sdk-hooks/useExecutions\";\nimport { IProviderSnapshot } from \"../sdk-hooks/useProviders\";\nimport environment from \"../shared/environment\";\nimport { formatBigNumber, fromBigNumberToHms } from \"../shared/formatters\";\nimport { IScheduleFormDialogAlert } from \"./ScheduleFormDialog\";\nimport { ICronField } from \"./cronParser/convertToCronExpression\";\nimport PurchaseWhileScheduleButton from \"./PurchaseWhileScheduleButton\";\nimport { EMidday } from \"./cronParser/enums\";\n\nexport interface IValidationInput {\n  executeAt: string;\n  providerAddress: string;\n  providerPlanIndex: string;\n  contractAction: string;\n  contractFields: string[];\n  isRecurrent: boolean;\n  cronFields: ICronField;\n  cronQuantity: number;\n  contract: IContract;\n  provider: IProviderSnapshot;\n  myAccountAddress: string;\n}\n\nexport const validateBeforeSchedule = async (\n  validationInput: IValidationInput\n): Promise<IScheduleFormDialogAlert[]> => {\n  // TODO: add an input form for this value\n  const valueToTransfer = BigNumber.from(0);\n\n  const scheduler = new RIFScheduler(validationInput.provider.config);\n\n  const plan = await scheduler.getPlan(\n    BigNumber.from(validationInput.providerPlanIndex)\n  );\n\n  const result: IScheduleFormDialogAlert[] = [];\n\n  const executionsQuantity = validationInput.isRecurrent\n    ? validationInput.cronQuantity\n    : 1;\n\n  let hours = validationInput.cronFields.hour;\n  if (validationInput.cronFields.midday === EMidday.AM)\n    hours = hours === 12 ? 0 : hours;\n\n  if (validationInput.cronFields.midday === EMidday.PM)\n    hours = hours === 12 ? 12 : hours + 12;\n\n  const executeAt = validationInput.isRecurrent\n    ? set(parseISO(validationInput.executeAt), {\n        hours,\n        minutes: validationInput.cronFields.minute,\n        seconds: 0,\n      })\n    : set(parseISO(validationInput.executeAt), { seconds: 0 });\n\n  // validate purchased execution\n  const hasAnExecutionLeft = (await plan.getRemainingExecutions()).gte(\n    executionsQuantity\n  );\n\n  if (!hasAnExecutionLeft) {\n    const tokenDecimals = await plan.token.decimals();\n    const tokenSymbol = await plan.token.symbol();\n    const tokenType = plan.token.getType();\n    const isActive = await plan.isActive();\n\n    result.push({\n      message: `You don't have ${formatBigNumber(\n        BigNumber.from(executionsQuantity),\n        0\n      )} ${\n        executionsQuantity === 1 ? \"execution\" : \"executions\"\n      } left  ${formatBigNumber(\n        plan.pricePerExecution.mul(executionsQuantity),\n        tokenDecimals\n      )} ${tokenSymbol}`,\n      severity: \"error\",\n      actionButton: (onRevalidate) => (\n        <PurchaseWhileScheduleButton\n          plan={plan}\n          tokenType={tokenType}\n          executionsQuantity={BigNumber.from(executionsQuantity)}\n          planIsActive={isActive}\n          onRevalidate={onRevalidate}\n        />\n      ),\n    });\n  }\n\n  const encodedFunctionCall = new utils.Interface(\n    validationInput.contract.ABI\n  ).encodeFunctionData(\n    validationInput.contractAction,\n    validationInput.contractFields\n  );\n\n  const execution = new Execution(\n    scheduler.config,\n    plan,\n    validationInput.contract.address,\n    encodedFunctionCall,\n    executeAt,\n    valueToTransfer,\n    validationInput.myAccountAddress\n  );\n\n  // if gasEstimation is undefined warn the user that the execution might fail\n  const estimatedGas = await execution.estimateGas();\n  if (!estimatedGas) {\n    result.push({\n      message:\n        \"We couldn't estimate the gas for the execution you want to schedule. \" +\n        \"Hint: Make sure that all the parameters are correct and \" +\n        \"that you will comply the execution requirements at the time of its execution.\",\n      severity: \"warning\",\n    });\n  }\n\n  // estimatedGas is lower than the gas limit for the selected plan\n  const isInsidePlanGasLimit = plan.gasLimit.gte(estimatedGas ?? 0);\n  if (estimatedGas && !isInsidePlanGasLimit) {\n    result.push({\n      message:\n        `The selected plan has a gas limit of ${formatBigNumber(\n          plan.gasLimit,\n          0\n        )} which is lower that ` +\n        `our estimation for this execution (${formatBigNumber(\n          estimatedGas,\n          0\n        )}).`,\n      severity: \"warning\",\n    });\n  }\n\n  // validate minimum date/time\n  const minimumDate = addSeconds(\n    new Date(),\n    environment.MINIMUM_TIME_BEFORE_EXECUTION\n  );\n\n  if (executeAt <= minimumDate) {\n    result.push({\n      message: `You need to schedule at least ${fromBigNumberToHms(\n        BigNumber.from(environment.MINIMUM_TIME_BEFORE_EXECUTION)\n      )} in advance.`,\n      severity: \"error\",\n    });\n  }\n\n  // validate existing scheduled execution\n  const executions = validationInput.isRecurrent\n    ? Execution.fromCronExpression(\n        execution,\n        validationInput.cronFields?.expression!,\n        +validationInput.cronQuantity!\n      )\n    : [execution];\n\n  const executionsIds = executions.map((x) => x.getId());\n\n  const existing = Object.values(\n    useIndexedExecutionsStore.getState().indexedExecutions\n  ).find(\n    (index) =>\n      executionsIds.includes(index.id!) &&\n      index.providerAddress === validationInput.providerAddress\n  );\n\n  if (existing) {\n    const message = validationInput.isRecurrent\n      ? \"One or more executions are already scheduled.\"\n      : \"This execution is already scheduled\";\n\n    result.push({\n      message: message,\n      severity: \"error\",\n    });\n  }\n\n  return result;\n};\n","import { useCallback, useState } from \"react\";\n\nexport interface IFieldEvent {\n  target: {\n    value: any;\n  };\n}\n\n/**\n * Generic field handler\n *\n * @param defaultValue null\n * @param isRequired true\n * @returns value, clear, onChange, onBlur, error\n */\nconst useField = <T>(\n  defaultValue: T | null = null,\n  isRequired: boolean = true\n) => {\n  const [value, setValue] = useState<T | null>(defaultValue);\n  const [error, setError] = useState<boolean>(false);\n\n  const onChange = useCallback((event: IFieldEvent, index?: number) => {\n    setValue((prev) => {\n      const newValue = event.target.value;\n\n      if (!Array.isArray(prev)) return newValue;\n      if (!index) return newValue;\n\n      const result = [...prev];\n      result[index] = newValue;\n\n      return result;\n    });\n    setError(false);\n  }, []);\n\n  const onBlur = useCallback(() => {\n    if (!value && isRequired) setError(true);\n  }, [value, isRequired]);\n\n  const clear = useCallback(() => {\n    setValue(defaultValue);\n    setError(false);\n  }, [defaultValue]);\n\n  const validate = useCallback(\n    (expectedLength: number = 1) => {\n      let newError = !value && isRequired ? true : false;\n\n      if (Array.isArray(value) && isRequired && !newError) {\n        newError =\n          value.length < expectedLength || value.find((x) => !x) ? true : false;\n      }\n\n      setError(newError);\n    },\n    [isRequired, value]\n  );\n\n  return {\n    value,\n    validate,\n    clear,\n    onChange,\n    onBlur,\n    error,\n  };\n};\n\nexport default useField;\n","import \"date-fns\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {\n  MuiPickersUtilsProvider,\n  KeyboardDateTimePicker,\n  KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport { useEffect, useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport ColorSelector from \"./ColorSelector\";\nimport useContracts from \"../contracts/useContracts\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { parseISO, isValid, set } from \"date-fns\";\nimport hyphensAndCamelCaseToWords from \"../shared/hyphensAndCamelCaseToWords\";\nimport shallow from \"zustand/shallow\";\nimport ButtonWithLoading from \"../shared/ButtonWIthLoading\";\nimport { formatBigNumber, fromBigNumberToHms } from \"../shared/formatters\";\nimport useConnector from \"../connect/useConnector\";\nimport { useSnackbar } from \"notistack\";\nimport NetworkLabel from \"../connect/NetworkLabel\";\nimport {\n  Divider,\n  IconButton,\n  InputAdornment,\n  withStyles,\n} from \"@material-ui/core\";\nimport ScheduleFormDialog, {\n  IScheduleFormDialogAlert,\n} from \"./ScheduleFormDialog\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport NumberInput from \"../shared/NumberInput\";\nimport PlusIcon from \"@material-ui/icons/AddCircleRounded\";\nimport MinusIcon from \"@material-ui/icons/RemoveCircleRounded\";\nimport CronButton from \"./CronButton\";\nimport {\n  DEFAULT_CRON_FIELD,\n  ICronField,\n} from \"./cronParser/convertToCronExpression\";\nimport {\n  IProviderSnapshot,\n  useProvidersStore,\n} from \"../sdk-hooks/useProviders\";\nimport { validateBeforeSchedule } from \"./validateBeforeSchedule\";\nimport { usePlans } from \"../sdk-hooks/usePlans\";\nimport { useExecutions } from \"../sdk-hooks/useExecutions\";\nimport { getMessageFromCode } from \"eth-rpc-errors\";\nimport useField from \"../shared/useField\";\nimport { EMidday } from \"./cronParser/enums\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: 800,\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0,\n    },\n    divider: {\n      width: \"100%\",\n      maxWidth: 800,\n    },\n  })\n);\n\nconst ScheduleForm = () => {\n  const classes = useStyles();\n\n  const [, , schedule] = useExecutions();\n\n  const title = useField<string>();\n  const executeAt = useField<string>();\n  const providerAddress = useField<string>();\n  const providerPlanIndex = useField<string>();\n  const contractId = useField<string>();\n  const contractAction = useField<string>();\n  const contractFields = useField<string[]>([]);\n  const color = useField<string>(null, false);\n  const isRecurrent = useField<boolean>(false, false);\n  const cronFields = useField<ICronField>(DEFAULT_CRON_FIELD);\n  const cronQuantity = useField<string>(\"1\");\n\n  const [alerts, setAlerts] = useState<\n    IScheduleFormDialogAlert[] | undefined\n  >();\n\n  const [cronFieldFocused, setCronFieldFocused] = useState<boolean>(false);\n\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  const providers = useProvidersStore((state) => state.providers);\n\n  const contracts = useContracts((state) => state.contracts);\n  const [account, connectedToNetwork] = useConnector(\n    (state) => [state.account, state.network],\n    shallow\n  );\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const handleProviderAddressChange = (event: any) => {\n    providerAddress.onChange(event);\n    providerPlanIndex.clear();\n  };\n\n  const handleContractChange = (event: any) => {\n    contractId.onChange(event);\n    contractAction.clear();\n    contractFields.clear();\n  };\n\n  const handleMethodChange = (event: any) => {\n    contractAction.onChange(event);\n    contractFields.clear();\n  };\n\n  const handleCronQuantityIncrement = (increment: number) => (event: any) => {\n    let quantity = cronQuantity.value ? +cronQuantity.value : 1;\n    quantity = quantity === 1 ? 0 : quantity;\n    quantity = quantity + increment;\n\n    if (quantity <= 1) quantity = 1;\n\n    cronQuantity.onChange({ target: { value: quantity.toString() } });\n  };\n\n  const handleCronQuantityChange = (event: any) => {\n    let quantity = +event.target.value;\n\n    if (quantity <= 1) quantity = 1;\n\n    cronQuantity.onChange({ target: { value: quantity.toString() } });\n  };\n\n  const handleClear = () => {\n    title.clear();\n    executeAt.clear();\n    providerAddress.clear();\n    providerPlanIndex.clear();\n    contractId.clear();\n    contractAction.clear();\n    contractFields.clear();\n    color.clear();\n    isRecurrent.clear();\n    cronFields.clear();\n    cronQuantity.clear();\n  };\n\n  const abi = contractId.value\n    ? JSON.parse(contracts[contractId.value].ABI)\n    : null;\n\n  const contractActions = abi\n    ? abi.filter((x: any) => x.type === \"function\")\n    : [];\n\n  const contractInputs =\n    abi && contractAction.value\n      ? abi.find(\n          (x: any) => x.type === \"function\" && x.name === contractAction.value\n        )?.inputs\n      : undefined;\n\n  const selectedProvider = providers.find(\n    (provider) => provider.config.contractAddress === providerAddress.value\n  );\n\n  const validateForm = () => {\n    [\n      title,\n      executeAt,\n      providerAddress,\n      providerPlanIndex,\n      contractId,\n      contractAction,\n      contractFields,\n      color,\n      isRecurrent,\n      cronFields,\n      cronQuantity,\n    ].forEach((field) => field.validate(contractInputs?.length ?? 1));\n\n    const isValid =\n      !title.error &&\n      !contractId.error &&\n      !contractAction.error &&\n      !executeAt.error &&\n      !providerAddress.error &&\n      !providerPlanIndex.error &&\n      !contractFields.error &&\n      !cronQuantity.error &&\n      !isRecurrent.error;\n\n    return isValid;\n  };\n\n  const handleSchedule = async () => {\n    const provider = providers.find(\n      (x) => x.config.contractAddress === providerAddress.value\n    );\n\n    const isFormValid = validateForm();\n\n    if (provider && isFormValid) {\n      const selectedContract = contracts[contractId.value!];\n\n      const alerts = await validateBeforeSchedule({\n        contractAction: contractAction.value!,\n        contractFields: contractFields.value!,\n        cronFields: cronFields.value!,\n        cronQuantity: +cronQuantity.value!,\n        executeAt: executeAt.value!,\n        isRecurrent: isRecurrent.value!,\n        providerAddress: providerAddress.value!,\n        providerPlanIndex: providerPlanIndex.value!,\n        contract: selectedContract,\n        provider,\n        myAccountAddress: account!,\n      });\n\n      setAlerts(alerts);\n\n      if (alerts.length === 0) {\n        handleScheduleAndSave();\n      }\n    }\n  };\n\n  const handleScheduleAnyway = () => {\n    const isFormValid = validateForm();\n\n    if (isFormValid) {\n      handleScheduleAndSave();\n      setAlerts([]);\n    }\n  };\n\n  const handleScheduleAndSave = async () => {\n    setIsLoading(true);\n\n    try {\n      let hours = cronFields.value!.hour;\n      if (cronFields.value!.midday === EMidday.AM)\n        hours = hours === 12 ? 0 : hours;\n\n      if (cronFields.value!.midday === EMidday.PM)\n        hours = hours === 12 ? 12 : hours + 12;\n\n      const executeAtResult = isRecurrent.value!\n        ? set(parseISO(executeAt.value!), {\n            hours,\n            minutes: cronFields.value!.minute,\n            seconds: 0,\n          })\n        : set(parseISO(executeAt.value!), { seconds: 0 });\n\n      await schedule({\n        title: title.value!,\n        network: connectedToNetwork!,\n        contractId: contractId.value!,\n        contractMethod: contractAction.value!,\n        contractFields: contractFields.value!,\n        color: color.value!,\n        executeAtISO: executeAtResult.toISOString(),\n        providerAddress: providerAddress.value!,\n        providerPlanIndex: providerPlanIndex.value!,\n        value: \"0\",\n        requestor: account!,\n        isRecurrent: isRecurrent.value!,\n        cronExpression: isRecurrent.value!\n          ? cronFields.value!.expression!\n          : undefined,\n        quantity: isRecurrent.value! ? cronQuantity.value! : undefined,\n      });\n\n      handleClear();\n    } catch (error) {\n      const message = getMessageFromCode(error.code, error.message);\n\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n    }\n\n    setIsLoading(false);\n  };\n\n  return (\n    <>\n      <ScheduleFormDialog\n        alerts={alerts}\n        onClose={() => setAlerts([])}\n        onConfirm={handleScheduleAnyway}\n      />\n      <Card className={classes.root}>\n        <CardHeader title={\"Schedule\"} action={<NetworkLabel />} />\n        <CardContent style={{ paddingTop: 0, paddingBottom: 0 }}>\n          <MuiPickersUtilsProvider utils={DateFnsUtils}>\n            <div\n              style={{\n                display: \"flex\",\n                flex: 1,\n                gap: \"4px\",\n                justifyContent: \"space-around\",\n                flexWrap: \"wrap\",\n              }}\n            >\n              <TextField\n                disabled={isLoading}\n                margin=\"dense\"\n                label=\"Title\"\n                variant=\"filled\"\n                fullWidth\n                style={{ flex: 1, minWidth: 200 }}\n                onChange={title.onChange}\n                onBlur={title.onBlur}\n                value={title.value ? title.value : \"\"}\n                error={title.error}\n              />\n              <FormControlLabel\n                style={{\n                  marginTop: 8,\n                  marginBottom: 4,\n                  marginRight: 0,\n                  marginLeft: 0,\n                }}\n                control={\n                  <Switch\n                    checked={isRecurrent.value!}\n                    onChange={() =>\n                      isRecurrent.onChange({\n                        target: { value: !isRecurrent.value },\n                      })\n                    }\n                    color=\"primary\"\n                  />\n                }\n                label=\"Recurrent\"\n              />\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                flex: 1,\n                gap: \"4px\",\n                justifyContent: \"space-around\",\n                flexWrap: \"wrap\",\n              }}\n            >\n              {!isRecurrent.value && (\n                <KeyboardDateTimePicker\n                  disabled={isLoading}\n                  margin=\"dense\"\n                  id=\"executeAt\"\n                  inputVariant=\"filled\"\n                  label={\"Execute At\"}\n                  format=\"MM/dd/yyyy HH:mm\"\n                  fullWidth={true}\n                  style={{ flex: 1, minWidth: 200 }}\n                  value={executeAt.value ? parseISO(executeAt.value) : null}\n                  onChange={(date: Date | null) => {\n                    executeAt.onChange({\n                      target: {\n                        value:\n                          date && isValid(date) ? date.toISOString() : null,\n                      },\n                    });\n                  }}\n                  KeyboardButtonProps={{\n                    \"aria-label\": \"change execute at\",\n                  }}\n                  error={executeAt.error}\n                />\n              )}\n              {isRecurrent.value && (\n                <KeyboardDatePicker\n                  disabled={isLoading}\n                  margin=\"dense\"\n                  id=\"executeAt\"\n                  inputVariant=\"filled\"\n                  label={\"Starts At\"}\n                  format=\"MM/dd/yyyy\"\n                  fullWidth={true}\n                  style={{ flex: 1, minWidth: 200 }}\n                  value={executeAt.value ? parseISO(executeAt.value) : null}\n                  onChange={(date: Date | null) => {\n                    executeAt.onChange({\n                      target: {\n                        value:\n                          date && isValid(date) ? date.toISOString() : null,\n                      },\n                    });\n                  }}\n                  KeyboardButtonProps={{\n                    \"aria-label\": \"change start at\",\n                  }}\n                  error={executeAt.error}\n                />\n              )}\n              <CustomTooltip\n                open={cronFieldFocused}\n                title={\n                  cronFields.value?.description ??\n                  \"Failed to load the description\"\n                }\n              >\n                <TextField\n                  disabled={isLoading || !isRecurrent.value!}\n                  margin=\"dense\"\n                  label=\"Recurrence expression\"\n                  variant=\"filled\"\n                  fullWidth\n                  style={{ flex: 1, minWidth: 200 }}\n                  onFocus={() => setCronFieldFocused(true)}\n                  onBlur={() => setCronFieldFocused(false)}\n                  value={cronFields.value?.description}\n                  inputProps={{\n                    style: {\n                      textOverflow: \"ellipsis\",\n                      whiteSpace: \"nowrap\",\n                      overflow: \"hidden\",\n                    },\n                  }}\n                  InputProps={{\n                    endAdornment: (\n                      <InputAdornment\n                        position=\"end\"\n                        style={{ paddingRight: 12 }}\n                      >\n                        <CronButton\n                          onChange={cronFields.onChange as any}\n                          value={cronFields.value!}\n                          disabled={isLoading || !isRecurrent.value!}\n                        />\n                      </InputAdornment>\n                    ),\n                  }}\n                  error={cronFields.error}\n                />\n              </CustomTooltip>\n              <TextField\n                disabled={isLoading || !isRecurrent.value!}\n                margin=\"dense\"\n                label=\"Executions quantity\"\n                variant=\"filled\"\n                fullWidth\n                style={{ flex: 1, minWidth: 200 }}\n                onChange={handleCronQuantityChange}\n                value={cronQuantity.value ? cronQuantity.value : \"1\"}\n                InputProps={{\n                  inputComponent: NumberInput as any,\n                  startAdornment: (\n                    <InputAdornment position=\"start\" style={{ paddingLeft: 0 }}>\n                      <IconButton\n                        size=\"small\"\n                        aria-label=\"sub 10 quantity\"\n                        onClick={handleCronQuantityIncrement(-10)}\n                        edge=\"start\"\n                        disabled={isLoading || !isRecurrent.value!}\n                      >\n                        <MinusIcon />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment\n                      position=\"end\"\n                      style={{ paddingRight: 12, marginTop: 16 }}\n                    >\n                      <IconButton\n                        size=\"small\"\n                        aria-label=\"add 10 quantity\"\n                        onClick={handleCronQuantityIncrement(10)}\n                        edge=\"end\"\n                        disabled={isLoading || !isRecurrent.value!}\n                      >\n                        <PlusIcon />\n                      </IconButton>\n                    </InputAdornment>\n                  ),\n                }}\n                error={cronQuantity.error}\n              />\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                flex: 1,\n                gap: \"4px\",\n                justifyContent: \"space-around\",\n                flexWrap: \"wrap\",\n              }}\n            >\n              <FormControl\n                variant=\"filled\"\n                fullWidth\n                style={{ flex: 1, minWidth: 200 }}\n                margin=\"dense\"\n                disabled={isLoading}\n                error={providerAddress.error}\n              >\n                <InputLabel id=\"schedule-provider\">Provider</InputLabel>\n                <Select\n                  labelId=\"schedule-provider\"\n                  value={providerAddress.value ? providerAddress.value : \"\"}\n                  onChange={handleProviderAddressChange}\n                  onBlur={providerAddress.onBlur}\n                >\n                  <MenuItem disabled>None</MenuItem>\n                  {providers.map((provider) => (\n                    <MenuItem\n                      key={`schedule-provider-${provider.index}`}\n                      value={provider.config.contractAddress}\n                    >\n                      {`Provider #${provider.index + 1}`}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n              <FormControl\n                variant=\"filled\"\n                fullWidth\n                style={{ flex: 1, minWidth: 200 }}\n                margin=\"dense\"\n                disabled={isLoading}\n                error={providerPlanIndex.error}\n              >\n                <InputLabel id=\"schedule-provider-plan\">Plan</InputLabel>\n                {!selectedProvider && (\n                  <Select labelId=\"schedule-provider-plan\">\n                    <MenuItem disabled>None</MenuItem>\n                  </Select>\n                )}\n                {selectedProvider && (\n                  <DisplayPlansMenu\n                    provider={selectedProvider}\n                    value={\n                      providerPlanIndex.value ? providerPlanIndex.value : \"\"\n                    }\n                    onChange={providerPlanIndex.onChange}\n                  />\n                )}\n              </FormControl>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                flex: 1,\n                gap: \"4px\",\n                justifyContent: \"space-around\",\n                flexWrap: \"wrap\",\n              }}\n            >\n              <FormControl\n                variant=\"filled\"\n                fullWidth\n                style={{ flex: 1, minWidth: 200 }}\n                margin=\"dense\"\n                disabled={isLoading}\n                error={contractId.error}\n              >\n                <InputLabel id=\"schedule-contract\">Contract</InputLabel>\n                <Select\n                  labelId=\"schedule-contract\"\n                  value={contractId.value ? contractId.value : \"\"}\n                  onChange={handleContractChange}\n                >\n                  <MenuItem disabled>None</MenuItem>\n                  {Object.entries(contracts)\n                    .filter(\n                      ([id, contract]) =>\n                        contract.network === connectedToNetwork\n                    )\n                    .map(([id, contract]) => (\n                      <MenuItem key={`schedule-contract-${id}`} value={id}>\n                        {contract.name}\n                      </MenuItem>\n                    ))}\n                </Select>\n              </FormControl>\n              <FormControl\n                variant=\"filled\"\n                fullWidth\n                style={{ flex: 1, minWidth: 200 }}\n                margin=\"dense\"\n                disabled={isLoading}\n                error={contractAction.error}\n              >\n                <InputLabel id=\"schedule-contract-method\">Action</InputLabel>\n                <Select\n                  labelId=\"schedule-contract-method\"\n                  value={contractAction.value ? contractAction.value : \"\"}\n                  onChange={handleMethodChange}\n                >\n                  <MenuItem disabled>None</MenuItem>\n                  {contractActions.map((method: any) => (\n                    <MenuItem\n                      key={`contract-method-${method.name}`}\n                      value={method.name}\n                    >\n                      {hyphensAndCamelCaseToWords(method.name)}\n                    </MenuItem>\n                  ))}\n                </Select>\n              </FormControl>\n            </div>\n            <div\n              style={{\n                display: \"flex\",\n                flex: 1,\n                gap: \"4px\",\n                flexDirection: \"column\",\n              }}\n            >\n              {contractInputs && contractInputs.length > 0 && (\n                <Typography\n                  variant=\"caption\"\n                  display=\"block\"\n                  color=\"textSecondary\"\n                  style={{ marginTop: 12 }}\n                >\n                  Action Parameters\n                </Typography>\n              )}\n              {contractInputs &&\n                contractInputs.map(({ name, type }: any, index: number) => (\n                  <TextField\n                    error={contractFields.error}\n                    key={`field-${name}-${type}`}\n                    disabled={isLoading}\n                    margin=\"dense\"\n                    label={hyphensAndCamelCaseToWords(name)}\n                    helperText={\n                      type.includes(\"int\")\n                        ? \"Number\"\n                        : hyphensAndCamelCaseToWords(type)\n                    }\n                    variant=\"filled\"\n                    fullWidth\n                    onChange={(event) => contractFields.onChange(event, index)}\n                    value={\n                      contractFields.value ? contractFields.value[index] : \"\"\n                    }\n                  />\n                ))}\n            </div>\n          </MuiPickersUtilsProvider>\n        </CardContent>\n        <CardActions\n          style={{ justifyContent: \"space-between\", flexWrap: \"wrap\" }}\n        >\n          <ColorSelector\n            disabled={isLoading}\n            value={color.value ? color.value : \"\"}\n            onChange={color.onChange as any}\n          />\n          <div\n            style={{\n              display: \"flex\",\n              flex: 1,\n              justifyContent: \"flex-end\",\n            }}\n          >\n            <div style={{ display: \"flex\", alignItems: \"center\" }}>\n              <Button\n                onClick={handleClear}\n                color=\"inherit\"\n                disabled={isLoading}\n              >\n                Clear\n              </Button>\n            </div>\n            <ButtonWithLoading\n              onClick={handleSchedule}\n              label=\"Schedule\"\n              isLoading={isLoading}\n            />\n          </div>\n        </CardActions>\n      </Card>\n      <Divider className={classes.divider} />\n    </>\n  );\n};\n\nexport default ScheduleForm;\n\nconst DisplayPlansMenu: React.FC<{\n  provider: IProviderSnapshot;\n  onChange: (event: any) => void;\n  value: string;\n}> = ({ provider, value, onChange }) => {\n  const [plans, loadPlans] = usePlans(provider);\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n    loadPlans().then(() => setIsLoading(false));\n  }, [loadPlans]);\n\n  return (\n    <Select labelId=\"schedule-provider-plan\" value={value} onChange={onChange}>\n      <MenuItem disabled>{isLoading ? \"loading...\" : \"None\"}</MenuItem>\n      {plans.map((plan) => (\n        <MenuItem\n          key={`schedule-provider-plan-${plan.index}`}\n          value={`${plan.index}`}\n        >\n          <span style={{ fontWeight: \"bold\" }}>{`#${plan.index\n            .add(1)\n            .toString()}`}</span>\n          <span style={{ marginLeft: 8 }}>{`Window: ${fromBigNumberToHms(\n            plan.window\n          )} - Gas limit: ${formatBigNumber(plan.gasLimit, 0)}`}</span>\n        </MenuItem>\n      ))}\n    </Select>\n  );\n};\n\nconst CustomTooltip = withStyles((theme: Theme) => ({\n  tooltip: {\n    backgroundColor: \"#333\",\n    color: \"rgba(255, 255, 255, 0.87)\",\n    //boxShadow: theme.shadows[1],\n    fontSize: 11,\n    fontWeight: \"bold\",\n    marginTop: 2,\n    padding: 5,\n  },\n}))(Tooltip);\n","import \"date-fns\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Layout from \"../shared/Layout\";\n\nimport History from \"./History\";\nimport ScheduleForm from \"./ScheduleForm\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: 800,\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0,\n    },\n  })\n);\n\nconst Schedule = () => {\n  const classes = useStyles();\n\n  return (\n    <Layout>\n      <ScheduleForm />\n      <div\n        className={classes.root} //marginTop: 15,\n      >\n        <History />\n      </div>\n    </Layout>\n  );\n};\n\nexport default Schedule;\n","import {\n  makeStyles,\n  createStyles,\n  withStyles,\n  Theme,\n} from \"@material-ui/core/styles\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { Divider } from \"@material-ui/core\";\nimport { memo } from \"react\";\nimport { useDelayMount } from \"../shared/useDelayMount\";\n\nconst BorderLinearProgress = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: 2,\n      borderRadius: 0,\n    },\n    colorPrimary: {\n      backgroundColor:\n        theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700],\n    },\n    bar: {\n      borderRadius: 5,\n      backgroundColor: \"#1a90ff\",\n    },\n  })\n)(LinearProgress);\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    maxWidth: 800,\n  },\n  divider: {\n    height: 2,\n    width: \"100%\",\n    maxWidth: 800,\n  },\n});\n\nconst Loading: React.FC<{ isLoading: boolean }> = memo(({ isLoading }) => {\n  const classes = useStyles();\n\n  const mounted = useDelayMount(330);\n\n  const loadingResult = mounted && isLoading;\n\n  return (\n    <div className={classes.root}>\n      {loadingResult && <BorderLinearProgress variant=\"indeterminate\" />}\n      {!loadingResult && <Divider className={classes.divider} />}\n    </div>\n  );\n});\n\nexport default Loading;\n","import NumberFormat from \"react-number-format\";\n\ninterface INumberFormatCustomProps {\n  inputRef: (instance: NumberFormat | null) => void;\n  onChange: (event: { target: { name: string; value: string } }) => void;\n  name: string;\n}\n\nconst DecimalsInput = (props: INumberFormatCustomProps) => {\n  const { inputRef, onChange, ...other } = props;\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={inputRef}\n      onValueChange={(values) => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value,\n          },\n        });\n      }}\n      thousandSeparator\n      isNumericString\n      allowNegative={false}\n      decimalScale={8}\n      prefix=\"\"\n    />\n  );\n};\n\nexport default DecimalsInput;\n","import { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport AddIcon from \"@material-ui/icons/AddCircle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport NetworkLabel from \"../connect/NetworkLabel\";\nimport { IProviderSnapshot } from \"../sdk-hooks/useProviders\";\nimport useAdmin from \"../shared/useAdmin\";\nimport { BigNumber, utils } from \"ethers\";\nimport DecimalsInput from \"../shared/DecimalsInput\";\nimport { getMessageFromCode } from \"eth-rpc-errors\";\nimport { useSnackbar } from \"notistack\";\nimport environment from \"../shared/environment\";\nimport { Typography } from \"@material-ui/core\";\nimport { fromBigNumberToHms } from \"../shared/formatters\";\nimport { Token, TokenType } from \"@rsksmart/rif-scheduler-sdk\";\n\nconst tokenTypeDescription = {\n  [TokenType.ERC20]: \"ERC20\",\n  [TokenType.ERC677]: \"ERC677\",\n  [TokenType.RBTC]: \"RBTC\",\n};\n\ninterface IPlanFields {\n  price: string;\n  window: string;\n  gasLimit: string;\n  tokenAddress: string;\n}\n\ninterface ITokenInfo {\n  symbol: string;\n  decimals: number;\n  type: TokenType;\n}\n\nconst AddEditPlan = ({\n  provider,\n  onClose,\n}: {\n  onClose?: () => void;\n  provider: IProviderSnapshot;\n}) => {\n  const { enqueueSnackbar } = useSnackbar();\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n\n  const [open, setOpen] = useState(false);\n\n  const [fields, setFields] = useState<Partial<IPlanFields> | null>(null);\n  const [tokenInfo, setTokenInfo] = useState<ITokenInfo | null | undefined>(\n    undefined\n  );\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const verifyToken = async () => {\n    try {\n      const tokenAddress = fields!.tokenAddress!.toLowerCase();\n\n      const token = new Token(provider.config, tokenAddress);\n\n      const type = token.getType();\n\n      const decimals = await token.decimals();\n\n      const symbol = await token.symbol();\n\n      setTokenInfo({ decimals, symbol, type });\n    } catch (error) {\n      console.error(\"verifyToken\", error);\n\n      setTokenInfo(null);\n    }\n  };\n\n  const { addPlan } = useAdmin(provider);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setFields(null);\n    setOpen(false);\n\n    if (onClose) onClose();\n  };\n\n  const handleSave = async () => {\n    const isValid =\n      fields &&\n      fields.window &&\n      fields.price &&\n      fields.gasLimit &&\n      fields.tokenAddress;\n\n    if (isValid) {\n      setIsLoading(true);\n\n      await verifyToken();\n\n      if (!tokenInfo) {\n        setIsLoading(false);\n        return;\n      }\n\n      try {\n        const tx = await addPlan(\n          utils.parseUnits(fields!.price!, tokenInfo.decimals),\n          fields!.window!,\n          fields!.gasLimit!,\n          fields!.tokenAddress!.toLowerCase()\n        );\n        tx.wait(environment.CONFIRMATIONS).then(() => {\n          setIsLoading(false);\n          enqueueSnackbar(\"Plan confirmed!\", {\n            variant: \"success\",\n          });\n          handleClose();\n        });\n      } catch (error) {\n        const message = getMessageFromCode(error.code, error.message);\n\n        enqueueSnackbar(message, {\n          variant: \"error\",\n        });\n\n        setIsLoading(false);\n      }\n    }\n  };\n\n  const handleFieldChange = (fieldName: string) => (event: any) => {\n    setFields((values) => ({ ...values, [fieldName]: event.target.value }));\n  };\n\n  const handleTokenFieldChange = (event: any) => {\n    setFields((values) => ({ ...values, tokenAddress: event.target.value }));\n    setTokenInfo(undefined);\n  };\n\n  return (\n    <>\n      <Button\n        aria-label=\"add plan\"\n        color=\"primary\"\n        variant=\"contained\"\n        size=\"small\"\n        endIcon={<AddIcon />}\n        onClick={handleClickOpen}\n      >\n        Add Plan\n      </Button>\n      <Dialog\n        fullScreen={fullScreen}\n        maxWidth=\"sm\"\n        fullWidth={true}\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>\n          <div style={{ display: \"flex\", flex: 1 }}>\n            <div style={{ display: \"flex\", flex: 1 }}>{\"Add plan\"}</div>\n            <NetworkLabel />\n          </div>\n        </DialogTitle>\n        <DialogContent>\n          {isLoading && (\n            <>\n              <Typography variant=\"subtitle1\" color=\"error\" component=\"p\">\n                Waiting for transaction confirmation:\n              </Typography>\n              <Typography variant=\"subtitle1\" color=\"error\" component=\"p\">\n                Please do NOT close this window.\n              </Typography>\n            </>\n          )}\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Price\"\n            helperText=\"Set the price for this plan\"\n            variant=\"filled\"\n            fullWidth\n            onChange={handleFieldChange(\"price\")}\n            value={fields?.price}\n            InputProps={{\n              inputComponent: DecimalsInput as any,\n            }}\n            disabled={isLoading}\n          />\n          <TextField\n            margin=\"dense\"\n            label=\"Token\"\n            helperText={\n              !fields?.tokenAddress || tokenInfo === undefined\n                ? \"Add the token address\"\n                : tokenInfo === null\n                ? \"Invalid token\"\n                : `${tokenTypeDescription[tokenInfo.type]} / ${\n                    tokenInfo.symbol\n                  }`\n            }\n            variant=\"filled\"\n            fullWidth\n            onChange={handleTokenFieldChange}\n            value={fields?.tokenAddress}\n            onBlur={verifyToken}\n            disabled={isLoading}\n            error={tokenInfo === null ? true : false}\n          />\n          <TextField\n            margin=\"dense\"\n            label=\"Gas limit\"\n            helperText=\"Set the gas limit for this plan\"\n            variant=\"filled\"\n            fullWidth\n            onChange={handleFieldChange(\"gasLimit\")}\n            value={fields?.gasLimit}\n            disabled={isLoading}\n          />\n          <TextField\n            margin=\"dense\"\n            label=\"Window (in seconds)\"\n            helperText={\n              fields?.window\n                ? fromBigNumberToHms(BigNumber.from(fields.window))\n                : \"Set the execution window for this plan\"\n            }\n            variant=\"filled\"\n            fullWidth\n            onChange={handleFieldChange(\"window\")}\n            value={fields?.window}\n            disabled={isLoading}\n          />\n        </DialogContent>\n        <DialogActions\n          style={{ paddingLeft: 24, paddingRight: 24, paddingTop: 24 }}\n        >\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancel\n          </Button>\n          <Button\n            onClick={handleSave}\n            color=\"primary\"\n            variant=\"contained\"\n            disabled={isLoading}\n          >\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default AddEditPlan;\n","import { makeStyles, Theme, createStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\n\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { formatBigNumber } from \"../shared/formatters\";\nimport Plan from \"./Plan\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { BIG_ZERO, executionsLeft } from \"../shared/reduceExecutionsLeft\";\nimport Chip from \"@material-ui/core/Chip\";\nimport { IProviderSnapshot } from \"../sdk-hooks/useProviders\";\nimport { usePlans } from \"../sdk-hooks/usePlans\";\nimport Loading from \"./Loading\";\nimport useAdmin from \"../shared/useAdmin\";\nimport AddEditPlan from \"./AddEditPlan\";\nimport { Button } from \"@material-ui/core\";\nimport environment from \"../shared/environment\";\nimport { useSnackbar } from \"notistack\";\nimport { getMessageFromCode } from \"eth-rpc-errors\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      width: \"100%\",\n      padding: 5,\n      gap: \"5px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n    },\n    expanderHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      display: \"block\",\n    },\n    expanderSecondaryHeading: {\n      fontSize: theme.typography.pxToRem(15),\n      color: theme.palette.text.secondary,\n    },\n    expanderRoot: {\n      margin: 0,\n      \"&:before\": {\n        content: \"none\",\n      },\n    },\n    divider: {\n      width: \"100%\",\n      maxWidth: 800,\n    },\n  })\n);\n\nconst PlansList: React.FC<{\n  expandedFixed: boolean;\n  provider: IProviderSnapshot;\n}> = ({ expandedFixed, provider }) => {\n  const classes = useStyles();\n  const { enqueueSnackbar } = useSnackbar();\n\n  const { isAdmin, isPaused, pauseUnpauseContract, refresh } =\n    useAdmin(provider);\n\n  const [isLoading, setIsLoading] = useState<boolean>(false);\n  const [isPausing, setIsPausing] = useState<boolean>(false);\n\n  const [plans, loadPlans] = usePlans(provider);\n\n  const handlePauseUnpause = async () => {\n    setIsPausing(true);\n\n    try {\n      const tx = await pauseUnpauseContract();\n      await tx.wait(environment.CONFIRMATIONS);\n      await refresh();\n\n      setIsPausing(false);\n      enqueueSnackbar(\"Pause / Unpause confirmed!\", {\n        variant: \"success\",\n      });\n    } catch (error) {\n      const message = getMessageFromCode(error.code, error.message);\n\n      enqueueSnackbar(message, {\n        variant: \"error\",\n      });\n\n      setIsPausing(false);\n    }\n  };\n\n  const handlePlansLoad = useCallback(() => {\n    setIsLoading(true);\n    loadPlans().then(() => setIsLoading(false));\n  }, [loadPlans]);\n\n  useEffect(() => {\n    handlePlansLoad();\n  }, [handlePlansLoad]);\n\n  const [expanded, setExpanded] = useState<boolean>(expandedFixed);\n\n  const handleExpandChange = () => {\n    setExpanded((prev) => !prev);\n  };\n\n  return (\n    <>\n      <Loading isLoading={isLoading} />\n      <Accordion\n        expanded={expandedFixed || expanded}\n        onChange={handleExpandChange}\n        elevation={0}\n        className={classes.expanderRoot}\n      >\n        <AccordionSummary\n          expandIcon={!expandedFixed ? <ExpandMoreIcon /> : undefined}\n          aria-controls={`accordion-content-${provider.index}`}\n          style={{ cursor: expandedFixed ? \"default\" : \"pointer\" }}\n          id={`accordion-header-${provider.index}`}\n        >\n          <div\n            style={{\n              display: \"flex\",\n              flex: 1,\n              alignItems: \"center\",\n            }}\n          >\n            <div\n              style={{\n                display: \"flex\",\n                flexDirection: \"column\",\n                flex: 1,\n              }}\n            >\n              <Typography className={classes.expanderHeading}>\n                {`Provider #${provider.index + 1} ${\n                  isPaused ? \"(Paused)\" : \"\"\n                }`}\n              </Typography>\n              <Typography className={classes.expanderSecondaryHeading}>\n                {`${formatBigNumber(\n                  plans.reduce(executionsLeft, BIG_ZERO),\n                  0\n                )} executions left`}\n              </Typography>\n            </div>\n            {!expandedFixed && (\n              <Chip\n                size=\"small\"\n                label={expanded ? \"Show less\" : \"Show more\"}\n                style={{ cursor: \"pointer\" }}\n              />\n            )}\n          </div>\n        </AccordionSummary>\n        <AccordionDetails style={{ padding: 0, flexDirection: \"column\" }}>\n          <div style={{ display: \"flex\" }}>\n            {isAdmin && (\n              <div\n                style={{ paddingLeft: 16, paddingRight: 16, paddingBottom: 16 }}\n              >\n                <AddEditPlan provider={provider} onClose={handlePlansLoad} />\n              </div>\n            )}\n            {isAdmin && (\n              <div\n                style={{ paddingLeft: 16, paddingRight: 16, paddingBottom: 16 }}\n              >\n                <Button\n                  aria-label=\"pause / unpause contract\"\n                  color=\"secondary\"\n                  variant=\"contained\"\n                  size=\"small\"\n                  disabled={isPausing}\n                  onClick={handlePauseUnpause}\n                >\n                  {!isPausing && isPaused && \"Unpause contract\"}\n                  {!isPausing && !isPaused && \"Pause contract\"}\n                  {isPausing && \"Waiting confirmation\"}\n                </Button>\n              </div>\n            )}\n          </div>\n          <List className={classes.root}>\n            {plans.map((plan, index) => (\n              <Plan\n                key={`plan-item-${plan.ref.config.contractAddress}-${index}`}\n                value={plan}\n                provider={provider}\n                isPaused={isPaused}\n              />\n            ))}\n          </List>\n        </AccordionDetails>\n      </Accordion>\n    </>\n  );\n};\n\nexport default PlansList;\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Layout from \"../shared/Layout\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport NetworkLabel from \"../connect/NetworkLabel\";\nimport PlansList from \"./PlansList\";\nimport { useProvidersStore } from \"../sdk-hooks/useProviders\";\nimport { memo } from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: 800,\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0,\n    },\n  })\n);\n\nconst Store = memo(() => {\n  const classes = useStyles();\n\n  const providers = useProvidersStore((state) => state.providers);\n\n  return (\n    <Layout>\n      <Card className={classes.root}>\n        <CardHeader action={<NetworkLabel />} title=\"Store\" />\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            Here you can purchase executions.\n          </Typography>\n        </CardContent>\n      </Card>\n      <div className={classes.root}>\n        <Card style={{ borderTopLeftRadius: 0, borderTopRightRadius: 0 }}>\n          {providers.map((provider, index) => (\n            <PlansList\n              key={`plans-list-${index}`}\n              expandedFixed={providers.length === 1}\n              provider={provider}\n            />\n          ))}\n        </Card>\n      </div>\n    </Layout>\n  );\n});\n\nexport default Store;\n","import { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport AddIcon from \"@material-ui/icons/AddCircle\";\nimport TextField from \"@material-ui/core/TextField\";\nimport useContracts, { IContract } from \"./useContracts\";\nimport useConnector from \"../connect/useConnector\";\nimport NetworkLabel from \"../connect/NetworkLabel\";\nimport { ENetwork } from \"../shared/types\";\n\nconst AddEditContract = ({\n  hideButton = false,\n  initialFields = null,\n  onClose,\n}: {\n  onClose?: () => void;\n  hideButton?: boolean;\n  initialFields?: IContract | null;\n}) => {\n  const [open, setOpen] = useState(initialFields ? true : false);\n  const [fields, setFields] = useState<Partial<IContract> | null>(\n    initialFields\n  );\n  const theme = useTheme();\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const save = useContracts((state) => state.save);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setFields(null);\n    setOpen(false);\n\n    if (onClose) onClose();\n  };\n\n  const handleFillExample = () => {\n    const address = \"0x4050C33e00AAF070A4001AcbfD29778986D4A4f9\";\n\n    setFields({\n      id: `${connectedToNetwork}-${address}`,\n      name: \"Counter Example\",\n      address: address,\n      ABI: JSON.stringify(\n        [\n          {\n            anonymous: false,\n            inputs: [\n              {\n                indexed: false,\n                internalType: \"uint256\",\n                name: \"count\",\n                type: \"uint256\",\n              },\n            ],\n            name: \"Counted\",\n            type: \"event\",\n          },\n          {\n            inputs: [],\n            name: \"count\",\n            outputs: [\n              {\n                internalType: \"uint256\",\n                name: \"\",\n                type: \"uint256\",\n              },\n            ],\n            stateMutability: \"view\",\n            type: \"function\",\n          },\n          {\n            inputs: [],\n            name: \"inc\",\n            outputs: [],\n            stateMutability: \"payable\",\n            type: \"function\",\n          },\n          {\n            inputs: [],\n            name: \"fail\",\n            outputs: [],\n            stateMutability: \"pure\",\n            type: \"function\",\n          },\n        ],\n        null,\n        2\n      ),\n    });\n  };\n\n  const handleSave = () => {\n    // TODO: validate contract fields\n    const isValid = fields && fields.ABI && fields.address && fields.name;\n\n    if (isValid) {\n      save({\n        ...(fields as IContract),\n        network: connectedToNetwork!,\n        id: fields?.id ?? `${connectedToNetwork}-${fields?.address}`,\n      });\n\n      setFields(null);\n      setOpen(false);\n      if (onClose) onClose();\n    }\n  };\n\n  const handleFieldChange = (fieldName: string) => (event: any) => {\n    setFields((values) => ({ ...values, [fieldName]: event.target.value }));\n  };\n\n  return (\n    <>\n      {!hideButton && (\n        <Button\n          aria-label=\"add contract\"\n          color=\"primary\"\n          variant=\"contained\"\n          size=\"small\"\n          endIcon={<AddIcon />}\n          onClick={handleClickOpen}\n        >\n          Register\n        </Button>\n      )}\n      <Dialog\n        fullScreen={fullScreen}\n        maxWidth=\"sm\"\n        fullWidth={true}\n        open={open}\n        onClose={handleClose}\n      >\n        <DialogTitle>\n          <div style={{ display: \"flex\", flex: 1 }}>\n            <div style={{ display: \"flex\", flex: 1 }}>\n              {fields?.id ? \"Edit contract\" : \"Register new contract\"}\n            </div>\n            <NetworkLabel />\n          </div>\n        </DialogTitle>\n        <DialogContent key={`add-edit-contract-${fields?.id}`}>\n          <TextField\n            autoFocus\n            margin=\"dense\"\n            label=\"Name\"\n            helperText=\"Give your contract a name to make it easier to identify. Only for display purposes.\"\n            variant=\"filled\"\n            fullWidth\n            onChange={handleFieldChange(\"name\")}\n            value={fields?.name}\n          />\n          <TextField\n            margin=\"dense\"\n            label=\"Address\"\n            helperText=\"Add your contract address\"\n            variant=\"filled\"\n            fullWidth\n            onChange={handleFieldChange(\"address\")}\n            value={fields?.address}\n          />\n          <TextField\n            margin=\"dense\"\n            label=\"ABI\"\n            helperText=\"Paste your contract's ABI code here to be able to schedule its execution later.\"\n            variant=\"filled\"\n            fullWidth\n            multiline\n            rows={8}\n            onChange={handleFieldChange(\"ABI\")}\n            value={fields?.ABI}\n          />\n        </DialogContent>\n        <DialogActions\n          style={{ paddingLeft: 24, paddingRight: 24, paddingTop: 24 }}\n        >\n          {connectedToNetwork === ENetwork.RSKTestnet && (\n            <div style={{ display: \"flex\", flex: 1 }}>\n              <Button onClick={handleFillExample} color=\"secondary\">\n                Fill example\n              </Button>\n            </div>\n          )}\n          <Button onClick={handleClose} color=\"inherit\">\n            Cancel\n          </Button>\n          <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\n            Save\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default AddEditContract;\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport { CardActions } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { useEffect, useState } from \"react\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: 800,\n      marginTop: 15,\n    },\n  })\n);\n\nconst StoragePersistAlert = () => {\n  const classes = useStyles();\n\n  const isPersistStorageAvailable =\n    navigator.storage && (navigator.storage.persist as any) ? true : false;\n\n  const [showAlert, setShowAlert] = useState(false);\n  const [enableClicked, setEnableClicked] = useState(false);\n\n  useEffect(() => {\n    const action = async () => {\n      if (!isPersistStorageAvailable) return;\n\n      const isPersisted = await navigator.storage.persisted();\n\n      if (!isPersisted) {\n        setShowAlert(true);\n      }\n    };\n\n    action();\n  }, [isPersistStorageAvailable]);\n\n  const handleEnable = async () => {\n    setEnableClicked(true);\n    const isPersisted = await navigator.storage.persist();\n    localStorage.setItem(\"STORAGE_PERSIST_HANDLED\", \"YES\");\n    setShowAlert(!isPersisted);\n  };\n\n  return (\n    <>\n      {showAlert && !localStorage.getItem(\"STORAGE_PERSIST_HANDLED\") && (\n        <Card className={classes.root}>\n          <CardHeader title={\"Persist Storage\"} />\n          <CardContent>\n            <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n              This is a decentralized web application which means your data is\n              only saved in this browser, so we recommend enabling persistent\n              storage to prevent your data from being deleted automatically by\n              your browser.\n            </Typography>\n          </CardContent>\n          <CardActions style={{ justifyContent: \"flex-end\" }}>\n            <Button\n              onClick={handleEnable}\n              color=\"primary\"\n              variant=\"contained\"\n              disabled={enableClicked}\n            >\n              Enable\n            </Button>\n          </CardActions>\n        </Card>\n      )}\n    </>\n  );\n};\n\nexport default StoragePersistAlert;\n","export default __webpack_public_path__ + \"static/media/contractBolt.5c67e21c.svg\";","import { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Layout from \"../shared/Layout\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AddEditContract from \"./AddEditContract\";\nimport useContracts, { IContract } from \"./useContracts\";\nimport { useState } from \"react\";\nimport { CardActionArea, Divider } from \"@material-ui/core\";\nimport StoragePersistAlert from \"./StoragePersistAlert\";\nimport contractSvg from \"../assets/illustrations/contractBolt.svg\";\nimport NetworkLabel from \"../connect/NetworkLabel\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport shortText from \"../shared/shortText\";\nimport useConnector from \"../connect/useConnector\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: 800,\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0,\n    },\n    divider: {\n      width: \"100%\",\n      maxWidth: 800,\n    },\n  })\n);\n\nconst Contracts = () => {\n  const classes = useStyles();\n\n  const contracts = useContracts((state) => state.contracts);\n\n  const [editing, setEditing] = useState<IContract | null>(null);\n\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const networkContracts = Object.entries(contracts).filter(\n    ([id, contract]) => contract.network === connectedToNetwork\n  );\n\n  return (\n    <Layout>\n      <Card className={classes.root}>\n        <CardHeader action={<NetworkLabel />} title=\"Contracts\" />\n        <CardContent>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            Register your contracts here to be able to schedule their execution\n            later.\n          </Typography>\n        </CardContent>\n        <CardActions style={{ padding: 16, paddingTop: 0 }}>\n          <AddEditContract />\n        </CardActions>\n      </Card>\n      <Divider className={classes.divider} />\n\n      <StoragePersistAlert />\n\n      <AddEditContract\n        key={`edit-contract-${editing?.id}`}\n        hideButton={true}\n        initialFields={editing}\n        onClose={() => setEditing(null)}\n      />\n\n      <div\n        style={{\n          marginTop: 15,\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fill, minmax(250px, 1fr))\",\n          gridAutoRows: \"120px\",\n          gridGap: \"5px\",\n          justifyContent: \"space-between\",\n          width: \"100%\",\n          maxWidth: 800,\n        }}\n      >\n        {networkContracts.map(([id, contract]) => (\n          <ContractButton\n            key={`contract-list-${id}`}\n            name={contract.name}\n            address={contract.address}\n            onClick={() => setEditing(contract)}\n          />\n        ))}\n      </div>\n    </Layout>\n  );\n};\n\nconst ContractButton = ({\n  name,\n  address,\n  onClick,\n}: {\n  name: string;\n  address: string;\n  onClick: any;\n}) => {\n  return (\n    <Card>\n      <CardActionArea\n        style={{\n          height: \"100%\",\n          background: `url(${contractSvg}) no-repeat`,\n          backgroundPosition: \"right -50px top -20px\",\n          backgroundSize: \"140px 140px\",\n        }}\n        onClick={onClick}\n      >\n        <CardContent>\n          <Typography gutterBottom variant=\"h6\" component=\"h2\">\n            {name}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"span\">\n            {shortText(address)}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nexport default Contracts;\n","import {\n  makeStyles,\n  createStyles,\n  withStyles,\n  Theme,\n} from \"@material-ui/core/styles\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { memo } from \"react\";\nimport { useDelayMount } from \"./useDelayMount\";\n\nconst BorderLinearProgress = withStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      height: 10,\n      borderRadius: 5,\n    },\n    colorPrimary: {\n      backgroundColor:\n        theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700],\n    },\n    bar: {\n      borderRadius: 5,\n      backgroundColor: \"#1a90ff\",\n    },\n  })\n)(LinearProgress);\n\nconst useStyles = makeStyles({\n  root: {\n    width: \"100%\",\n    maxWidth: 800,\n    marginTop: 2.5,\n    marginBottom: 2.5,\n  },\n});\n\nconst Loading: React.FC<{ isLoading: boolean }> = memo(({ isLoading }) => {\n  const classes = useStyles();\n\n  const mounted = useDelayMount(330);\n\n  const loadingResult = mounted && isLoading;\n\n  return (\n    <div className={classes.root}>\n      {loadingResult && <BorderLinearProgress variant=\"indeterminate\" />}\n      {!loadingResult && <div style={{ height: 10 }} />}\n    </div>\n  );\n});\n\nexport default Loading;\n","export default __webpack_public_path__ + \"static/media/lock.4473d54d.svg\";","import { useCallback, useEffect } from \"react\";\nimport useConnector from \"./useConnector\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Layout from \"../shared/Layout\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Loading from \"../shared/Loading\";\nimport shallow from \"zustand/shallow\";\nimport { isRLoginConnected, rLogin } from \"./rLogin\";\nimport Button from \"@material-ui/core/Button\";\nimport lockSvg from \"../assets/illustrations/lock.svg\";\nimport { useHistory, useLocation } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: 800,\n    },\n  })\n);\n\nconst Connect = () => {\n  const classes = useStyles();\n\n  const history = useHistory();\n  const location = useLocation<any>();\n\n  const { from } = location.state || { from: { pathname: \"/\" } };\n\n  const [connect, disconnect, isLoading] = useConnector(\n    (state) => [state.connect, state.disconnect, state.isLoading],\n    shallow\n  );\n\n  const handleConnect = useCallback(async () => {\n    try {\n      const wait = (ms: number) =>\n        new Promise((resolve) => setTimeout(resolve, ms));\n      const timeout = (p: Promise<any>, ms: number) =>\n        Promise.race([\n          p,\n          wait(ms).then(() => {\n            throw new Error(\"Timeout after \" + ms + \" ms\");\n          }),\n        ]);\n\n      const { provider, disconnect } = await timeout(rLogin.connect(), 30000);\n\n      connect(provider, disconnect).then(() => history.replace(from));\n    } catch (error) {\n      console.error(\"handleConnect error:\", error);\n      disconnect();\n    }\n  }, [connect, disconnect, from, history]);\n\n  useEffect(() => {\n    if (isRLoginConnected()) {\n      handleConnect();\n    }\n  }, [handleConnect]);\n\n  return (\n    <Layout hideMenu setBehind>\n      {!isLoading && (\n        <Card\n          className={classes.root}\n          style={{\n            height: \"100%\",\n            backgroundImage: `url(${lockSvg})`,\n            backgroundRepeat: \"no-repeat\",\n            backgroundPosition: \"right -60px top -20px\",\n            backgroundSize: \"160px 160px\",\n          }}\n        >\n          <CardHeader title=\"Wallet connection\" />\n          <CardContent>\n            <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\n              Let's connect your wallet to start scheduling executions.\n            </Typography>\n            <div\n              style={{\n                display: \"flex\",\n                // justifyContent: \"center\",\n                marginTop: 24,\n              }}\n            >\n              <Button\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleConnect}\n              >\n                Connect now!\n              </Button>\n            </div>\n          </CardContent>\n        </Card>\n      )}\n      <Loading isLoading={isLoading} />\n    </Layout>\n  );\n};\n\nexport default Connect;\n","import useConnector from \"./useConnector\";\nimport { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Layout from \"../shared/Layout\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport shallow from \"zustand/shallow\";\nimport {\n  CardContent,\n  Divider,\n  List,\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n} from \"@material-ui/core\";\nimport AccountIcon from \"@material-ui/icons/AccountBalanceWallet\";\nimport DisconnectIcon from \"@material-ui/icons/ExitToApp\";\nimport { useSnackbar } from \"notistack\";\nimport shortText from \"../shared/shortText\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport NetworkLabel from \"./NetworkLabel\";\nimport { useHistory } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: 800,\n    },\n    overflowEllipsis: {\n      textOverflow: \"ellipsis\",\n      whiteSpace: \"nowrap\",\n      overflow: \"hidden\",\n    },\n  })\n);\n\nconst Account = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [account, disconnect] = useConnector(\n    (state) => [state.account, state.disconnect],\n    shallow\n  );\n\n  const handleAccountClick = () => {\n    if (!navigator?.clipboard) {\n      enqueueSnackbar(\"Your browser can't access the clipboard\", {\n        variant: \"error\",\n      });\n      return;\n    }\n\n    navigator.clipboard.writeText(account!);\n    enqueueSnackbar(\"Copied!\", { autoHideDuration: 500 });\n  };\n\n  return (\n    <Layout>\n      <Card className={classes.root}>\n        <CardHeader action={<NetworkLabel />} title=\"Account\" />\n        <CardContent style={{ padding: 0 }}>\n          <List className={classes.root}>\n            <ListItem button onClick={handleAccountClick}>\n              <ListItemIcon>\n                <AccountIcon />\n              </ListItemIcon>\n              <ListItemText\n                primary={\"Wallet\"}\n                secondary={\n                  <>\n                    <Hidden smUp>{shortText(account!)}</Hidden>\n                    <Hidden xsDown>{account}</Hidden>\n                  </>\n                }\n                title={account}\n                classes={{ secondary: classes.overflowEllipsis }}\n              />\n            </ListItem>\n            <Divider />\n            <ListItem\n              button\n              onClick={() => {\n                disconnect();\n                history.replace(\"/\");\n              }}\n            >\n              <ListItemIcon>\n                <DisconnectIcon />\n              </ListItemIcon>\n              <ListItemText primary={\"Disconnect\"} />\n            </ListItem>\n          </List>\n        </CardContent>\n      </Card>\n    </Layout>\n  );\n};\n\nexport default Account;\n","\nconst UnsupportedNetwork = (props: any) => {\n  return (\n    <svg\n      data-name=\"Layer 1\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n      width={790}\n      height={512.208}\n      viewBox=\"0 0 790 512.208\"\n      {...props}\n    >\n      <path\n        d=\"M720.563 510.693L698 442.603s24.818 24.817 24.818 45.181l-4.454-47.09s12.727 17.18 11.454 43.272-9.255 26.727-9.255 26.727zM236.02 448.693L214 382.24s24.222 24.222 24.222 44.096l-4.348-45.96s12.421 16.77 11.18 42.233-9.033 26.085-9.033 26.085z\"\n        fill=\"#e6e6e6\"\n      />\n      <path\n        d=\"M579.726 479.359c.037 43.715-86.665 30.268-192.81 30.36s-191.535 13.686-191.573-30.028 86.633-53.298 192.777-53.39 191.568 9.343 191.606 53.058z\"\n        fill=\"#e6e6e6\"\n      />\n      <path fill=\"#3f3d56\" d=\"M0 509.693h790v2H0z\" />\n      <path\n        fill=\"#a0616a\"\n        d=\"M505.336 420.322h-13.877l-6.604-53.525h20.481v53.525z\"\n      />\n      <path\n        d=\"M480.006 416.357h28.304v16.851h-43.613v-1.541a15.31 15.31 0 0115.309-15.31z\"\n        fill=\"#2f2e41\"\n      />\n      <path\n        fill=\"#a0616a\"\n        d=\"M607.336 499.322h-13.877l-6.604-53.525h20.481v53.525z\"\n      />\n      <path\n        d=\"M582.006 495.357h28.304v16.851h-43.613v-1.541a15.31 15.31 0 0115.309-15.31z\"\n        fill=\"#2f2e41\"\n      />\n      <path\n        d=\"M671.345 340.309a10.316 10.316 0 00-2.896-15.551l-32.23-131.293-20.608 8.867 38.336 126.949a10.372 10.372 0 0017.398 11.028zM646.208 74.964a11.382 11.382 0 00-17.416 1.152l-49.885 5.727 7.589 19.242 45.367-8.491a11.444 11.444 0 0014.345-17.63z\"\n        fill=\"#a0616a\"\n      />\n      <path\n        d=\"M564 326.693l21.768 163.374 27.093-5.578s-3.984-118.981 9.563-133.325S605 311.694 605 311.694z\"\n        fill=\"#2f2e41\"\n      />\n      <path\n        d=\"M573 281.693l-10 15s-77-32-77 19-4.406 85.61-6 88 18.438 8.594 28 7c0 0 11.797-82.219 11-87 0 0 75.534 37.033 89.877 33.846S626.61 343.068 629 336.693s-1-57-1-57l-47.81-14.59z\"\n        fill=\"#2f2e41\"\n      />\n      <path\n        d=\"M574.35 191.633l-2.851-3.42s-31.924-71.829-19.382-91.211 67.267-22.233 68.977-21.093-4.084 15.943-.094 22.784c0 0-42.394 9.191-45.244 10.331s21.966 43.274 21.966 43.274l-2.85 25.653z\"\n        fill=\"#ccc\"\n      />\n      <path\n        d=\"M630.215 156.289s-29.643 3.42-30.783 3.42-1.71-7.41-1.71-7.41l-26.223 35.913S558.579 292.403 562 290.693s66.505 8.112 67.075 3.551-.57-27.363 1.14-28.503 29.644-71.828 29.644-71.828-2.85-14.822-12.542-19.952-17.102-17.672-17.102-17.672z\"\n        fill=\"#ccc\"\n      />\n      <path\n        d=\"M650.738 184.222l9.12 9.69s13.553 111.36 6.142 114.781-22 3-22 3L629.645 258.9z\"\n        fill=\"#ccc\"\n      />\n      <circle cx={601.73} cy={122.998} r={26.239} fill=\"#a0616a\" />\n      <path\n        d=\"M595.573 127.092c-.355-5.445-7.223-5.631-12.68-5.683s-11.977.144-15.065-4.355c-2.04-2.973-1.65-7.1.035-10.288s4.458-5.639 7.186-7.997c7.041-6.09 14.298-12.13 22.752-16.027s18.36-5.472 27.128-2.343c10.77 3.843 25.329 23.625 26.586 34.991s-3.285 22.953-10.942 31.446-25.182 5.067-36.21 8.088c6.704-9.49 2.285-26.732-8.456-31.164z\"\n        fill=\"#2f2e41\"\n      />\n      <circle cx={361.722} cy={403.505} r={62.989} fill=\"#008cff\" />\n      <path\n        d=\"M319.656 336.04a45.16 45.16 0 01-41.255-26.787L178.449 84.162a59.83 59.83 0 11111.87-41.865l72.377 235.412a45.08 45.08 0 01-43.04 58.33z\"\n        fill=\"#008cff\"\n      />\n    </svg>\n  )\n}\n\nexport default UnsupportedNetwork\n","import useMediaQuery from \"@material-ui/core/useMediaQuery\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport useConnector from \"./useConnector\";\nimport { ENetwork, SupportedNetworks } from \"../shared/types\";\nimport Typography from \"@material-ui/core/Typography\";\nimport NetworkLabel from \"./NetworkLabel\";\nimport UnsupportedNetwork from \"../assets/illustrations/UnsupportedNetwork\";\nimport shallow from \"zustand/shallow\";\n\nconst UnsupportedNetworkAlert = () => {\n  const theme = useTheme();\n\n  const fullScreen = useMediaQuery(theme.breakpoints.down(\"sm\"));\n\n  const [connectedToNetwork, isConnected] = useConnector(\n    (state) => [state.network, state.isConnected],\n    shallow\n  );\n\n  const open =\n    isConnected &&\n    !SupportedNetworks.includes(connectedToNetwork ?? ENetwork.NotSupported);\n\n  return (\n    <Dialog fullScreen={fullScreen} maxWidth=\"sm\" fullWidth={true} open={open}>\n      <DialogTitle>Unsupported network</DialogTitle>\n      <DialogContent>\n        <div style={{ display: \"flex\", flex: 1 }}>\n          <UnsupportedNetwork style={{ height: 200, padding: 16 }} />\n        </div>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\n          You are connected to an incorrect network.\n        </Typography>\n        <Typography variant=\"subtitle1\" color=\"textSecondary\" component=\"p\">\n          Please change your wallet to one of the following networks:\n        </Typography>\n        <div\n          style={{\n            display: \"flex\",\n            gap: \"5px\",\n            marginTop: 24,\n            marginBottom: 16,\n          }}\n        >\n          {SupportedNetworks.map((network) => (\n            <NetworkLabel\n              key={`supported-network-${network}`}\n              network={network}\n            />\n          ))}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default UnsupportedNetworkAlert;\n","import {\n  Avatar,\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  makeStyles,\n  colors,\n  Link,\n} from \"@material-ui/core\";\nimport ContractsIcon from \"@material-ui/icons/OfflineBolt\";\nimport useConnector from \"../connect/useConnector\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport useContracts from \"../contracts/useContracts\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    height: \"100%\",\n  },\n  avatar: {\n    backgroundColor: colors.blueGrey[600],\n    height: 56,\n    width: 56,\n  },\n}));\n\nconst Contracts = ({ className, ...rest }: any) => {\n  const classes = useStyles();\n\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const contracts = useContracts((state) => state.contracts);\n\n  const networkContracts = Object.entries(contracts).filter(\n    ([id, contract]) => contract.network === connectedToNetwork\n  );\n\n  return (\n    <Card className={[classes.root, className].join(\" \")} {...rest}>\n      <CardContent>\n        <Grid container justify=\"space-between\" spacing={3}>\n          <Grid item style={{ flex: 1 }}>\n            <Typography color=\"textSecondary\" gutterBottom variant=\"h6\">\n              REGISTERED CONTRACTS\n            </Typography>\n            <Typography color=\"textPrimary\" variant=\"h3\">\n              {networkContracts.length}\n            </Typography>\n            <Link component={RouterLink} color=\"textSecondary\" to=\"/contracts\">\n              Go to contracts &rsaquo;\n            </Link>\n          </Grid>\n          <Grid item>\n            <Avatar className={classes.avatar}>\n              <ContractsIcon />\n            </Avatar>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Contracts;\n","import { RIFScheduler } from \"@rsksmart/rif-scheduler-sdk\";\nimport { BIG_ZERO } from \"../shared/reduceExecutionsLeft\";\nimport { IProviderSnapshot } from \"./useProviders\";\n\nexport const getExecutionsLeftTotal = async (\n  providers: IProviderSnapshot[]\n) => {\n  let result = BIG_ZERO;\n  for (const provider of providers) {\n    const scheduler = new RIFScheduler(provider.config);\n\n    const plans = await scheduler.getPlans();\n\n    const remainingExecutions = await Promise.all(\n      plans.map((plan) => plan.getRemainingExecutions())\n    );\n\n    const left = remainingExecutions.reduce((total, remainingExecution) => {\n      return total.add(remainingExecution);\n    }, BIG_ZERO);\n\n    result = result.add(left);\n  }\n\n  return result;\n};\n","import {\n  Avatar,\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  makeStyles,\n  colors,\n  Link,\n} from \"@material-ui/core\";\nimport StoreIcon from \"@material-ui/icons/Store\";\nimport { formatBigNumber } from \"../shared/formatters\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { BIG_ZERO } from \"../shared/reduceExecutionsLeft\";\nimport { useState } from \"react\";\nimport { useEffect } from \"react\";\nimport { useProvidersStore } from \"../sdk-hooks/useProviders\";\nimport { getExecutionsLeftTotal } from \"../sdk-hooks/getExecutionsLeftTotal\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    height: \"100%\",\n  },\n  avatar: {\n    backgroundColor: colors.blueGrey[600],\n    height: 56,\n    width: 56,\n  },\n}));\n\nconst Executions = ({ className, ...rest }: any) => {\n  const classes = useStyles();\n\n  const [executionsLeft, setExecutionsLeft] = useState(BIG_ZERO);\n  const providers = useProvidersStore((state) => state.providers);\n\n  useEffect(() => {\n    getExecutionsLeftTotal(providers).then((total) => setExecutionsLeft(total));\n  }, [providers]);\n\n  return (\n    <Card className={[classes.root, className].join(\" \")} {...rest}>\n      <CardContent>\n        <Grid container justify=\"space-between\" spacing={3}>\n          <Grid item style={{ flex: 1 }}>\n            <Typography color=\"textSecondary\" gutterBottom variant=\"h6\">\n              REMAINING EXECUTIONS\n            </Typography>\n            <Typography color=\"textPrimary\" variant=\"h3\">\n              {formatBigNumber(executionsLeft, 0)}\n            </Typography>\n            <Link component={RouterLink} color=\"textSecondary\" to=\"/store\">\n              Go to store &rsaquo;\n            </Link>\n          </Grid>\n          <Grid item>\n            <Avatar className={classes.avatar}>\n              <StoreIcon />\n            </Avatar>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Executions;\n","import {\n  Avatar,\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  makeStyles,\n  colors,\n  Link,\n} from \"@material-ui/core\";\nimport ScheduleIcon from \"@material-ui/icons/EventAvailable\";\nimport useConnector from \"../connect/useConnector\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { useIndexedExecutionsStore } from \"../sdk-hooks/useExecutions\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    height: \"100%\",\n  },\n  avatar: {\n    backgroundColor: colors.blueGrey[600],\n    height: 56,\n    width: 56,\n  },\n}));\n\nconst Schedule = ({ className, ...rest }: any) => {\n  const classes = useStyles();\n\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const indexedExecutions = useIndexedExecutionsStore(\n    (state) => state.indexedExecutions\n  );\n\n  const networkScheduledExecutions = Object.values(indexedExecutions).filter(\n    (index) => index.network === connectedToNetwork\n  );\n\n  return (\n    <Card className={[classes.root, className].join(\" \")} {...rest}>\n      <CardContent>\n        <Grid container justify=\"space-between\" spacing={3}>\n          <Grid item style={{ flex: 1 }}>\n            <Typography color=\"textSecondary\" gutterBottom variant=\"h6\">\n              SCHEDULED EXECUTIONS\n            </Typography>\n            <Typography color=\"textPrimary\" variant=\"h3\">\n              {networkScheduledExecutions.length}\n            </Typography>\n            <Link component={RouterLink} color=\"textSecondary\" to=\"/schedule\">\n              Go to schedule &rsaquo;\n            </Link>\n          </Grid>\n          <Grid item>\n            <Avatar className={classes.avatar}>\n              <ScheduleIcon />\n            </Avatar>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default Schedule;\n","import {\n  Avatar,\n  Card,\n  CardContent,\n  Grid,\n  Typography,\n  makeStyles,\n  colors,\n  Link,\n} from \"@material-ui/core\";\nimport ScheduleIcon from \"@material-ui/icons/Timeline\";\nimport useConnector from \"../connect/useConnector\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { useIndexedExecutionsStore } from \"../sdk-hooks/useExecutions\";\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    height: \"100%\",\n  },\n  avatar: {\n    backgroundColor: colors.blueGrey[600],\n    height: 56,\n    width: 56,\n  },\n}));\n\nconst ScheduleHistory = ({ className, ...rest }: any) => {\n  const classes = useStyles();\n\n  const connectedToNetwork = useConnector((state) => state.network);\n\n  const indexedExecutions = useIndexedExecutionsStore(\n    (state) => state.indexedExecutions\n  );\n\n  const networkScheduledExecutions = Object.values(indexedExecutions).filter(\n    (index) => index.network === connectedToNetwork && index.completedTxHash\n  );\n\n  return (\n    <Card className={[classes.root, className].join(\" \")} {...rest}>\n      <CardContent>\n        <Grid container justify=\"space-between\" spacing={3}>\n          <Grid item style={{ flex: 1 }}>\n            <Typography color=\"textSecondary\" gutterBottom variant=\"h6\">\n              EXECUTIONS COMPLETED\n            </Typography>\n            <Typography color=\"textPrimary\" variant=\"h3\">\n              {networkScheduledExecutions.length}\n            </Typography>\n            <Link component={RouterLink} color=\"textSecondary\" to=\"/schedule\">\n              Go to schedule &rsaquo;\n            </Link>\n          </Grid>\n          <Grid item>\n            <Avatar className={classes.avatar}>\n              <ScheduleIcon />\n            </Avatar>\n          </Grid>\n        </Grid>\n      </CardContent>\n    </Card>\n  );\n};\n\nexport default ScheduleHistory;\n","import { createStyles, makeStyles, Theme } from \"@material-ui/core/styles\";\nimport Layout from \"../shared/Layout\";\nimport Contracts from \"./Contracts\";\nimport Executions from \"./Executions\";\nimport Schedule from \"./Schedule\";\nimport ScheduleHistory from \"./ScheduleHistory\";\nimport TasksProgress from \"./TasksProgress\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport NetworkLabel from \"../connect/NetworkLabel\";\nimport Divider from \"@material-ui/core/Divider\";\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      display: \"flex\",\n      flex: 1,\n      flexDirection: \"column\",\n      width: \"100%\",\n      maxWidth: 800,\n      borderBottomLeftRadius: 0,\n      borderBottomRightRadius: 0,\n    },\n    divider: {\n      width: \"100%\",\n      maxWidth: 800,\n    },\n  })\n);\n\nconst Home = () => {\n  const classes = useStyles();\n\n  return (\n    <Layout>\n      <Card className={classes.root}>\n        <CardHeader action={<NetworkLabel />} title=\"WHAT'S NEXT?\" />\n        <CardContent>\n          <TasksProgress />\n        </CardContent>\n      </Card>\n      <Divider className={classes.divider} />\n      <div\n        style={{\n          marginTop: 15,\n          display: \"grid\",\n          gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 2fr))\",\n          gridAutoRows: \"180px\",\n          gridGap: \"5px\",\n          justifyContent: \"space-between\",\n          width: \"100%\",\n          maxWidth: 800,\n        }}\n      >\n        <Executions />\n        <Contracts />\n        <Schedule />\n        <ScheduleHistory />\n      </div>\n    </Layout>\n  );\n};\n\nexport default Home;\n","import { providers } from \"ethers\";\nimport { useSnackbar } from \"notistack\";\nimport { useEffect } from \"react\";\nimport shallow from \"zustand/shallow\";\nimport useConnector from \"../connect/useConnector\";\nimport environment from \"../shared/environment\";\nimport { ENetwork } from \"../shared/types\";\nimport {\n  ETransactionStatus,\n  ITransaction,\n  useTransactionsStore,\n} from \"./useTransactions\";\nimport { getMessageFromCode } from \"eth-rpc-errors\";\n\nexport interface IConfirmationsNotifierConfig {\n  provider: providers.Provider;\n  onConfirmed: ((txHash: string) => void) | undefined;\n  onFailed: ((txHash: string, error: any) => void) | undefined;\n  onCompleted?: ((txHash: string) => void) | undefined;\n  tx: ITransaction;\n}\n\nexport const confirmationsNotifier = ({\n  provider,\n  onConfirmed,\n  onCompleted,\n  onFailed,\n  tx,\n}: IConfirmationsNotifierConfig) => {\n  return provider\n    .waitForTransaction(tx.hash, environment.CONFIRMATIONS)\n    .then(() => {\n      if (onConfirmed) onConfirmed(tx.hash);\n    })\n    .catch((error) => {\n      if (onFailed) onFailed(tx.hash, error);\n    })\n    .finally(() => {\n      if (onCompleted) onCompleted(tx.hash);\n    });\n};\n\nconst enqueuedTxs: string[] = [];\n\nexport const useConfirmationsNotifier = () => {\n  const [isConnected, network, isLoading, signer] = useConnector((state) => [\n    state.isConnected,\n    state.network,\n    state.isLoading,\n    state.signer,\n  ]);\n\n  const { enqueueSnackbar } = useSnackbar();\n\n  const [transactions, changeStatus] = useTransactionsStore(\n    (state) => [state.transactions, state.changeStatus],\n    shallow\n  );\n\n  useEffect(() => {\n    if (\n      !isConnected ||\n      isLoading ||\n      !signer ||\n      !network ||\n      network === ENetwork.NotSupported\n    ) {\n      return;\n    }\n\n    const pendingTransactions = Object.entries(transactions);\n\n    for (const [key, transactions] of pendingTransactions) {\n      const pendingTransactions = transactions.filter((x) =>\n        [ETransactionStatus.Idle, ETransactionStatus.Waiting].includes(x.status)\n      );\n\n      for (const tx of pendingTransactions) {\n        if (enqueuedTxs.includes(tx.hash)) break;\n\n        enqueuedTxs.push(tx.hash);\n\n        confirmationsNotifier({\n          provider: signer.provider!,\n          tx: tx,\n          onConfirmed: () => {\n            changeStatus(key, tx.hash, ETransactionStatus.Confirmed);\n            enqueueSnackbar(tx.confirmMessage, {\n              variant: \"success\",\n            });\n          },\n          onFailed: (_, error) => {\n            const message = getMessageFromCode(error.code, error.message);\n\n            changeStatus(key, tx.hash, ETransactionStatus.Failed, message);\n            enqueueSnackbar(tx.failMessage, {\n              variant: \"error\",\n            });\n          },\n        });\n      }\n    }\n  }, [\n    isConnected,\n    network,\n    isLoading,\n    signer,\n    transactions,\n    enqueueSnackbar,\n    changeStatus,\n  ]);\n};\n","import React, { useRef } from \"react\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport theme from \"./assets/theme\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport { SnackbarProvider } from \"notistack\";\nimport Schedule from \"./schedule/Schedule\";\nimport Store from \"./store/Store\";\nimport Contracts from \"./contracts/Contracts\";\nimport Connect from \"./connect/Connect\";\nimport useConnector from \"./connect/useConnector\";\nimport Account from \"./connect/Account\";\nimport UnsupportedNetworkAlert from \"./connect/UnsupportedNetworkAlert\";\nimport Home from \"./home/Home\";\nimport { useConfirmationsNotifier } from \"./sdk-hooks/useConfirmationsNotifier\";\nimport { useProvidersLoader } from \"./sdk-hooks/useProviders\";\n\nfunction App() {\n  const notistackRef = useRef<any>(null);\n\n  useProvidersLoader();\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <SnackbarProvider\n        maxSnack={2}\n        anchorOrigin={{\n          vertical: \"top\",\n          horizontal: \"left\",\n        }}\n        ref={notistackRef}\n      >\n        <UnsupportedNetworkAlert />\n        <Routes />\n      </SnackbarProvider>\n    </ThemeProvider>\n  );\n}\n\nconst Routes = () => {\n  const isConnected = useConnector((state) => state.isConnected);\n\n  useConfirmationsNotifier();\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path=\"/connect\">\n          <Connect />\n        </Route>\n        <ConnectedRoute\n          exact\n          path=\"/\"\n          isConnected={isConnected}\n          component={Home}\n        />\n        <ConnectedRoute\n          exact\n          path=\"/schedule\"\n          isConnected={isConnected}\n          component={Schedule}\n        />\n        <ConnectedRoute\n          exact\n          path=\"/store\"\n          isConnected={isConnected}\n          component={Store}\n        />\n        <ConnectedRoute\n          exact\n          path=\"/contracts\"\n          isConnected={isConnected}\n          component={Contracts}\n        />\n        <ConnectedRoute\n          exact\n          path=\"/account\"\n          isConnected={isConnected}\n          component={Account}\n        />\n        <Route path=\"*\">\n          <Redirect to=\"/\" />\n        </Route>\n      </Switch>\n    </Router>\n  );\n};\n\nconst ConnectedRoute: React.FC<{\n  isConnected: boolean;\n  exact: boolean;\n  component: any;\n  path: string;\n}> = ({ isConnected, exact, path, component: Component }) => (\n  <Route\n    exact={exact}\n    path={path}\n    render={(props) =>\n      isConnected ? (\n        <Component {...props} />\n      ) : (\n        <Redirect\n          to={{\n            pathname: \"/connect\",\n            state: { from: props.location },\n          }}\n        />\n      )\n    }\n  />\n);\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}